jQuery(document).ready(function(e){var h=400,c=900;e(".cd-trigger").on("click",function(l){var k=e(this).parent(".cd-item").children("img"),j=k.attr("src");e("body").addClass("overlay-layer");i(k,h,c,"open");a(j)});e("body").on("click",function(j){if(e(j.target).is(".cd-close")||e(j.target).is("body.overlay-layer")){g(h,c)}});e(document).keyup(function(j){if(j.which=="27"){g(h,c)}});e(".cd-quick-view").on("click",".cd-slider-navigation a",function(){f(e(this))});e(window).on("resize",function(){if(e(".cd-quick-view").hasClass("is-visible")){window.requestAnimationFrame(b)}});function f(j){var l=j.parents(".cd-slider-wrapper").find(".cd-slider"),k=l.children(".selected").removeClass("selected");if(j.hasClass("cd-next")){(!k.is(":last-child"))?k.next().addClass("selected"):l.children("li").eq(0).addClass("selected")}else{(!k.is(":first-child"))?k.prev().addClass("selected"):l.children("li").last().addClass("selected")}}function a(j){e(".cd-quick-view .cd-slider li").removeClass("selected").find('img[src="'+j+'"]').parent("li").addClass("selected")}function b(){var k=(e(window).width()-e(".cd-quick-view").width())/2,j=(e(window).height()-e(".cd-quick-view").height())/2;e(".cd-quick-view").css({top:j,left:k,})}function g(m,j){var n=e(".cd-close"),l=n.siblings(".cd-slider-wrapper").find(".selected img").attr("src"),k=e(".empty-box").find("img");if(!e(".cd-quick-view").hasClass("velocity-animating")&&e(".cd-quick-view").hasClass("add-content")){k.attr("src",l);i(k,m,j,"close")}else{d(k,m,j)}}function i(p,q,o,k){var r=p.parent(".cd-item"),x=p.offset().top-e(window).scrollTop(),s=p.offset().left,n=p.width(),u=p.height(),m=e(window).width(),j=e(window).height(),y=(m-q)/2,l=q*u/n,t=(j-l)/2,w=(m*0.8<o)?m*0.8:o,v=(m-w)/2;if(k=="open"){r.addClass("empty-box");e(".cd-quick-view").css({top:x,left:s,width:n,}).velocity({top:t+"px",left:y+"px",width:q+"px",},1000,[400,20],function(){e(".cd-quick-view").addClass("animate-width").velocity({left:v+"px",width:w+"px",},300,"ease",function(){e(".cd-quick-view").addClass("add-content")})}).addClass("is-visible")}else{e(".cd-quick-view").removeClass("add-content").velocity({top:t+"px",left:y+"px",width:q+"px",},300,"ease",function(){e("body").removeClass("overlay-layer");e(".cd-quick-view").removeClass("animate-width").velocity({top:x,left:s,width:n,},500,"ease",function(){e(".cd-quick-view").removeClass("is-visible");r.removeClass("empty-box")})})}}function d(o,n,m){var l=o.parent(".cd-item"),k=o.offset().top-e(window).scrollTop(),p=o.offset().left,j=o.width();e("body").removeClass("overlay-layer");l.removeClass("empty-box");e(".cd-quick-view").velocity("stop").removeClass("add-content animate-width is-visible").css({top:k,left:p,width:j,})}});