/*! gridmanager - v0.3.1 - 2014-09-22
* http://neokoenig.github.io/jQuery-gridmanager/
* Copyright (c) 2014 Tom King; Licensed MIT */
!function(b){b.gridmanager=function(a,f){var e=this;e.$el=b(a),e.el=a,e.$el.data("gridmanager",e),e.appendHTMLSelectedCols=function(d){var h=e.$el.find("#"+e.options.canvasId),g=h.find(e.options.colSelector);b.each(g,function(){b(this).hasClass(e.options.gmEditClassSelected)&&b("."+e.options.gmEditRegion,this).append(d)})},e.init=function(){e.options=b.extend({},b.gridmanager.defaultOptions,f),e.log("INIT"),e.addCSS(e.options.cssInclude),e.rteControl("init"),e.createCanvas(),e.createControls(),e.initControls(),e.initDefaultButtons(),e.initCanvas(),e.log("FINISHED")},e.createCanvas=function(){e.log("+ Create Canvas");var c=e.$el.html();e.$el.html(""),b("<div/>",{id:e.options.canvasId,html:c}).appendTo(e.$el),e.options.addResponsiveClasses&&e.addResponsiveness(e.$el.find("#"+e.options.canvasId)),e.options.autoEdit&&e.initMarkup(e.$el.find("#"+e.options.canvasId).find("."+e.options.colClass).not("."+e.options.rowClass))},e.initMarkup=function(d){var h="<!--"+e.options.gmEditRegion+"-->",g="<!--/"+e.options.gmEditRegion+"-->";b.each(d,function(c,k){var j=!1,i=b(k).children().hasClass(e.options.rowClass);b.each(b(k).contents(),function(l,m){8===b(m)[0].nodeType&&(j=!0)}),j||(i?b.each(b(k).contents(),function(l,o){if(b(o).hasClass(e.options.rowClass)){var n=Array.prototype.reverse.call(b(o).prevUntil("."+e.options.rowClass)),m=b(o).nextUntil("."+e.options.rowClass);b(n).hasClass(e.options.gmEditRegion)||b(n).first().before(h).end().last().after(g),b(m).hasClass(e.options.gmEditRegion)||b(m).first().before(h).end().last().after(g)}}):0!==b(k).contents().length&&b(k).html(h+b(k).html()+g))}),e.log("initMarkup ran")},e.initDefaultButtons=function(){e.options.colSelectEnabled&&e.options.customControls.global_col.push({callback:e.selectColClick,loc:"top",iconClass:"fa fa-square-o",title:"Select Column"}),e.options.editableRegionEnabled&&e.options.customControls.global_col.push({callback:e.addEditableAreaClick,loc:"top",iconClass:"fa fa-edit",title:"Add Editable Region"})},e.addResponsiveness=function(d){if(""!==d){var o=e.options.colDesktopClass+"(\\d+)",n=e.options.colTabletClass+"(\\d+)",m=e.options.colPhoneClass+"(\\d+)",l=new RegExp(o,"i"),k=new RegExp(n,"i"),j=new RegExp(m,"i");return b(d).find(":regex(class,"+o+"|"+n+"|"+m+")").each(function(){var g=b(this).attr("class"),q=2,p=l.test(g),i=j.test(g),h=k.test(g);q=(q=l.exec(g))?q[1]:(q=k.exec(g))?q[1]:j.exec(g)[1],p||b(this).addClass(e.options.colDesktopClass+q),i||b(this).addClass(e.options.colPhoneClass+q),h||b(this).addClass(e.options.colTabletClass+q),e.options.addDefaultColumnClass&&(b(this).hasClass(e.options.colClass)||b(this).addClass(e.options.colClass))})}},e.createControls=function(){e.log("+ Create Controls");var c=[];b.each(e.options.controlButtons,function(d,h){var g=e.generateButtonClass(h);c.push("<a title='Add Row "+g+"' class='"+e.options.controlButtonClass+" add"+g+"'><span class='"+e.options.controlButtonSpanClass+"'></span> "+g+"</a>"),e.generateClickHandler(h)}),e.$el.prepend(b("<div/>",{id:e.options.controlId,"class":e.options.gmClearClass}).prepend(b("<div/>",{"class":e.options.rowClass}).html(b("<div/>",{"class":e.options.colDesktopClass+e.options.colMax}).addClass(e.options.colAdditionalClass).html(b("<div/>",{id:"gm-addnew"}).addClass(e.options.gmBtnGroup).addClass(e.options.gmFloatLeft).html(c.join(""))).append(e.options.controlAppend))))},e.addCSS=function(c){""!==c&&b('<link rel="stylesheet" href="'+c+'">').appendTo("head")},e.cleanSubstring=function(g,d,h){return d.replace(new RegExp(g,"g"),h)},e.switchLayoutMode=function(d){var m=e.$el.find("#"+e.options.canvasId),l=m.html(),k="",j="",i="";switch(l=e.cleanSubstring(e.options.classRenameSuffix,l,""),i=b("div.gm-layout-mode > button > span"),d){case 768:k="("+e.options.colDesktopClass+"\\d+)",j="("+e.options.colPhoneClass+"\\d+)",e.options.currentClassMode=e.options.colTabletClass,e.options.colSelector=e.options.colTabletSelector,b(i).attr("class","fa fa-tablet").attr("title","Tablet");break;case 640:k="("+e.options.colDesktopClass+"\\d+)",j="("+e.options.colTabletClass+"\\d+)",e.options.currentClassMode=e.options.colPhoneClass,e.options.colSelector=e.options.colPhoneSelector,b(i).attr("class","fa fa-mobile-phone").attr("title","Phone");break;default:k="("+e.options.colPhoneClass+"\\d+)",j="("+e.options.colTabletClass+"\\d+)",e.options.currentClassMode=e.options.colDesktopClass,e.options.colSelector=e.options.colDesktopSelector,b(i).attr("class","fa fa-desktop").attr("title","Desktop")}e.options.layoutDefaultMode=d,l=l.replace(new RegExp(k+'(?=[^"]*">)',"gm"),"$1"+e.options.classRenameSuffix),l=l.replace(new RegExp(j+'(?=[^"]*">)',"gm"),"$1"+e.options.classRenameSuffix),m.html(l)},e.initControls=function(){var c=e.$el.find("#"+e.options.canvasId);e.log("+ InitControls Running"),e.$el.on("click",".gm-preview",function(){e.status?(e.deinitCanvas(),b(this).parent().find(".gm-edit-mode").prop("disabled",!0)):(e.initCanvas(),b(this).parent().find(".gm-edit-mode").prop("disabled",!1)),b(this).toggleClass(e.options.gmDangerClass)}).on("click",".gm-layout-mode a",function(){e.switchLayoutMode(b(this).data("width"))}).on("click",".gm-edit-mode",function(){if("visual"===e.mode){e.deinitCanvas(),c.html(b("<textarea/>").attr("cols",130).attr("rows",25).val(c.html())),e.mode="html",b(this).parent().find(".gm-preview, .gm-layout-mode > button").prop("disabled",!0)}else{var d=c.find("textarea").val();c.html(d),e.initCanvas(),e.mode="visual",b(this).parent().find(".gm-preview, .gm-layout-mode > button").prop("disabled",!1)}b(this).toggleClass(e.options.gmDangerClass)}).on("click","."+e.options.gmEditRegion+" ."+e.options.gmContentRegion,function(){b(this).attr("contenteditable")||(b(this).attr("contenteditable",!0),e.rteControl("attach",b(this)))}).on("click","a.gm-save",function(){e.deinitCanvas(),e.saveremote()}).on("click","a.gm-rowSettings",function(){var d=b(this).closest(e.options.rowSelector),g=d.find(".gm-rowSettingsDrawer");g.length>0?g.remove():d.prepend(e.generateRowSettings(d))}).on("blur","input.gm-rowSettingsID",function(){var d=b(this).closest(e.options.rowSelector);d.attr("id",b(this).val())}).on("click",".gm-toggleRowClass",function(){var d=b(this).closest(e.options.rowSelector),g=b(this).text().trim();d.toggleClass(g),d.hasClass(g)?b(this).addClass(e.options.gmDangerClass):b(this).removeClass(e.options.gmDangerClass)}).on("click","a.gm-colSettings",function(){var d=b(this).closest(e.options.colSelector),g=d.find(".gm-colSettingsDrawer");g.length>0?g.remove():d.prepend(e.generateColSettings(d))}).on("blur","input.gm-colSettingsID",function(){var d=b(this).closest(e.options.colSelector);d.attr("id",b(this).val())}).on("click",".gm-togglecolClass",function(){var d=b(this).closest(e.options.colSelector),g=b(this).text().trim();d.toggleClass(g),d.hasClass(g)?b(this).addClass(e.options.gmDangerClass):b(this).removeClass(e.options.gmDangerClass)}).on("click","a.gm-addColumn",function(){b(this).parent().after(e.createCol(2)),e.switchLayoutMode(e.options.layoutDefaultMode),e.reset()}).on("click","a.gm-addRow",function(){e.log("Adding nested row"),b(this).closest("."+e.options.gmEditClass).append(b("<div>").addClass(e.options.rowClass).html(e.createCol(6)).append(e.createCol(6))),e.reset()}).on("click","a.gm-colDecrease",function(){var d=b(this).closest("."+e.options.gmEditClass),g=e.getColClass(d);g.colWidth>parseInt(e.options.colResizeStep,10)&&(g.colWidth=parseInt(g.colWidth,10)-parseInt(e.options.colResizeStep,10),d.switchClass(g.colClass,e.options.currentClassMode+g.colWidth,200))}).on("click","a.gm-colIncrease",function(){var d=b(this).closest("."+e.options.gmEditClass),g=e.getColClass(d);g.colWidth<e.options.colMax&&(g.colWidth=parseInt(g.colWidth,10)+parseInt(e.options.colResizeStep,10),d.switchClass(g.colClass,e.options.currentClassMode+g.colWidth,200))}).on("click","a.gm-resetgrid",function(){c.html(""),e.reset()}).on("click","a.gm-removeCol",function(){b(this).closest("."+e.options.gmEditClass).animate({opacity:"hide",width:"hide",height:"hide"},400,function(){b(this).remove()}),e.log("Column Removed")}).on("click","a.gm-removeRow",function(){e.log(b(this).closest("."+e.options.colSelector)),b(this).closest("."+e.options.gmEditClass).animate({opacity:"hide",height:"hide"},400,function(){b(this).remove()}),e.log("Row Removed")}).on("click","a.gm-resetgrid, a.gm-remove, a.gm-removeRow, a.gm-save, button.gm-preview, a.gm-viewsource, a.gm-addColumn, a.gm-colDecrease, a.gm-colIncrease",function(d){e.log("Clicked: "+b.grep(this.className.split(" "),function(g){return 0===g.indexOf("gm-")}).join()),d.preventDefault()})},e.initGlobalCustomControls=function(){var d=e.$el.find("#"+e.options.canvasId),h=[],g="";b.each(["row","col"],function(i,c){"undefined"!=typeof e.options.customControls["global_"+c]&&(h=d.find(e.options[c+"Selector"]),b.each(e.options.customControls["global_"+c],function(j,k){"undefined"!=typeof k.callback&&("undefined"==typeof k.loc&&(k.loc="top"),"undefined"==typeof k.iconClass&&(k.iconClass="fa fa-file-code-o"),"undefined"==typeof k.btnLabel&&(k.btnLabel=""),"undefined"==typeof k.title&&(k.title=""),g="function"==typeof k.callback?j+"_btn":k.callback,btnObj={element:"a",btnClass:"gm-"+g,iconClass:k.iconClass,btnLabel:k.btnLabel,title:k.title},b.each(h,function(m,l){e.setupCustomBtn(l,k.loc,"window",k.callback,btnObj)}))}))})},e.initCustomControls=function(){var d=e.$el.find("#"+e.options.canvasId),q="",p="",o="",n="",m={},l="",k="";b("."+e.options.colClass+":data, ."+e.options.rowClass+":data",d).each(function(){for(prop in b(this).data()){if(0===prop.indexOf("gmButton")){if(o=prop.replace("gmButton",""),q=b(this).data()[prop].split("|"),0===q.length||""===o){break}n="undefined"!=typeof q[3]?q[3]:"top",l="undefined"!=typeof q[2]?q[2]:"fa fa-file-code-o",k="undefined"!=typeof q[1]?q[1]:"",p=q[0],m={element:"a",btnClass:"gm-"+o,iconClass:l,btnLabel:k},e.setupCustomBtn(this,n,p,o,m);break}}})},e.setupCustomBtn=function(d,m,l,k,j){var i=null;if("string"==typeof k){i=e.isValidCallback(l,k.toLowerCase())}else{if("function"!=typeof k){return !1}i=k}return m="bottom"===m?":last":":first",b("."+e.options.gmToolClass+m,d).append(e.buttonFactory([j])).find(":last").on("click",function(c){i(d,this),c.preventDefault()}),!0},e.clearComments=function(c){b(c,"#"+e.options.canvasId).contents().filter(function(){return 8===this.nodeType}).remove()},e.isValidCallback=function(g,d){var h=null;if("window"===g){if("function"!=typeof window[d]){return !1}h=window[d]}else{if("function"!=typeof window[g][d]){return !1}h=window[g][d]}return h},e.getColClass=function(d){var h=b.grep(d.attr("class").split(" "),function(c){return 0===c.indexOf(e.options.currentClassMode)}).join(),g=h.replace(e.options.currentClassMode,"");return{colClass:h,colWidth:g}},e.runFilter=function(d,c){"function"==typeof e.options.filterCallback&&e.options.filterCallback(d,c),e.options.editableRegionEnabled&&e.editableAreaFilter(d,c)},e.initCanvas=function(){var d=e.$el.find("#"+e.options.canvasId);e.switchLayoutMode(e.options.layoutDefaultMode);var h=d.find(e.options.colSelector),g=d.find(e.options.rowSelector);e.log("+ InitCanvas Running"),e.$el.find("#gm-addnew").show(),e.activateRows(g),e.activateCols(h),e.runFilter(d,!0),h=d.find(e.options.colSelector),g=d.find(e.options.rowSelector),d.sortable({items:g,axis:"y",placeholder:e.options.rowSortingClass,handle:".gm-moveRow",forcePlaceholderSize:!0,opacity:0.7,revert:!0,tolerance:"pointer",cursor:"move"}),b.each(g,function(i,j){b(j).sortable({items:b(j).find(e.options.colSelector),axis:"x",handle:".gm-moveCol",forcePlaceholderSize:!0,opacity:0.7,revert:!0,tolerance:"pointer",containment:b(j),cursor:"move"})}),e.status=!0,e.mode="visual",e.initCustomControls(),e.initGlobalCustomControls(),e.initNewContentElem()},e.deinitCanvas=function(){var g=e.$el.find("#"+e.options.canvasId),d=g.find(e.options.colSelector),h=g.find(e.options.rowSelector);e.log("- deInitCanvas Running"),e.$el.find("#gm-addnew").hide(),e.deactivateRows(h),e.deactivateCols(d),e.cleanup(),e.runFilter(g,!1),e.status=!1},e.saveremote=function(){var c=e.$el.find("#"+e.options.canvasId);b.ajax({type:"POST",url:e.options.remoteURL,data:{content:c.html()}}),e.log("Save Function Called")},e.activateRows=function(c){e.log("++ Activate Rows"),c.addClass(e.options.gmEditClass).prepend(e.toolFactory(e.options.rowButtonsPrepend)).append(e.toolFactory(e.options.rowButtonsAppend))},e.deactivateRows=function(c){e.log("-- DeActivate Rows"),c.removeClass(e.options.gmEditClass).removeClass("ui-sortable").removeAttr("style")},e.createRow=function(d){var g=b("<div/>",{"class":e.options.rowClass+" "+e.options.gmEditClass});return b.each(d,function(h,c){g.append(e.createCol(c))}),e.log("++ Created Row"),g},e.generateRowSettings=function(d){var h=[];b.each(e.options.rowCustomClasses,function(j,i){var c=b("<button/>").addClass("gm-toggleRowClass").addClass(e.options.controlButtonClass).append(b("<span/>").addClass(e.options.controlButtonSpanClass)).append(" "+i);d.hasClass(i)&&c.addClass(e.options.gmDangerClass),h.push(c[0].outerHTML)});var g=b("<div/>").addClass("gm-rowSettingsDrawer").addClass(e.options.gmToolClass).addClass(e.options.gmClearClass).prepend(b("<div />").addClass(e.options.gmBtnGroup).addClass(e.options.gmFloatLeft).html(h.join(""))).append(b("<div />").addClass("pull-right").html(b("<label />").html("Row ID ").append(b("<input>").addClass("gm-rowSettingsID").attr({type:"text",placeholder:"Row ID",value:d.attr("id")}))));return g[0].outerHTML},e.generateColSettings=function(d){var h=[];b.each(e.options.colCustomClasses,function(j,i){var c=b("<button/>").addClass("gm-togglecolClass").addClass(e.options.controlButtonClass).append(b("<span/>").addClass(e.options.controlButtonSpanClass)).append(" "+i);d.hasClass(i)&&c.addClass(e.options.gmDangerClass),h.push(c[0].outerHTML)});var g=b("<div/>").addClass("gm-colSettingsDrawer").addClass(e.options.gmToolClass).addClass(e.options.gmClearClass).prepend(b("<div />").addClass(e.options.gmBtnGroup).addClass(e.options.gmFloatLeft).html(h.join(""))).append(b("<div />").addClass("pull-right").html(b("<label />").html("col ID ").append(b("<input>").addClass("gm-colSettingsID").attr({type:"text",placeholder:"col ID",value:d.attr("id")}))));return g[0].outerHTML},e.activateCols=function(c){c.addClass(e.options.gmEditClass),b.each(c,function(d,g){b(g).prepend(e.toolFactory(e.options.colButtonsPrepend)),b(g).append(e.toolFactory(e.options.colButtonsAppend))}),e.log("++ Activate Cols Ran")},e.deactivateCols=function(c){c.removeClass(e.options.gmEditClass).removeClass(e.options.gmEditClassSelected).removeClass("ui-sortable"),b.each(c.children(),function(d,g){b(g).hasClass(e.options.gmEditRegion)&&(""!==b(g).html()?b(g).contents().unwrap():b(g).remove())}),e.log("-- deActivate Cols Ran")},e.createCol=function(d){var g=b("<div/>").addClass(e.options.colClass).addClass(e.options.colDesktopClass+d).addClass(e.options.colTabletClass+d).addClass(e.options.colPhoneClass+d).addClass(e.options.gmEditClass).addClass(e.options.colAdditionalClass).html(e.toolFactory(e.options.colButtonsPrepend)).prepend(e.toolFactory(e.options.colButtonsPrepend)).append(e.toolFactory(e.options.colButtonsAppend));return e.log("++ Created Column "+d),g},e.addEditableAreaClick=function(d){var i="<!--"+e.options.gmEditRegion+"-->",h="<!--/"+e.options.gmEditRegion+"-->",g=null;b("."+e.options.gmToolClass+":last",d).before(g=b("<div>").addClass(e.options.gmEditRegion+" "+e.options.contentDraggableClass).append(e.options.controlContentElem+'<div class="'+e.options.gmContentRegion+'"><p>New Content</p></div>')).before(h).prev().before(i),e.initNewContentElem(g)},e.initNewContentElem=function(d){var g=null;g="undefined"==typeof d?e.$el.find("."+e.options.colClass):d.closest("."+e.options.colClass),b.each(g,function(h,i){b(i).on("click",".gm-delete",function(c){b(this).closest("."+e.options.gmEditRegion).remove(),e.resetCommentTags(i),c.preventDefault()}),b(i).sortable({items:"."+e.options.contentDraggableClass,axis:"y",placeholder:e.options.rowSortingClass,handle:"."+e.options.controlMove,forcePlaceholderSize:!0,opacity:0.7,revert:!0,tolerance:"pointer",cursor:"move",stop:function(j,k){e.resetCommentTags(b(k.item).parent())}})})},e.resetCommentTags=function(d){var h="<!--"+e.options.gmEditRegion+"-->",g="<!--/"+e.options.gmEditRegion+"-->";e.clearComments(d),b("."+e.options.gmEditRegion,d).before(h).after(g)},e.selectColClick=function(d,g){b(g).toggleClass("fa fa-square-o fa fa-check-square-o"),b(g).hasClass("fa-check-square-o")?b(d).addClass(e.options.gmEditClassSelected):b(d).removeClass(e.options.gmEditClassSelected)},e.editableAreaFilter=function(d,o){if(o){var n="<!--"+e.options.gmEditRegion+"-->",m="<!--/"+e.options.gmEditRegion+"-->",l=new RegExp("(?:"+n+")\\s*([\\s\\S]+?)\\s*(?:"+m+")","g"),k=b(d).html(),j=n+'<div class="'+e.options.gmEditRegion+" "+e.options.contentDraggableClass+'">'+e.options.controlContentElem+'<div class="'+e.options.gmContentRegion+'">$1</div></div>'+m;k=k.replace(l,j),b(d).html(k),e.log("editableAreaFilter init ran")}else{b("."+e.options.controlNestedEditable,d).remove(),b("."+e.options.gmContentRegion).contents().unwrap(),e.log("editableAreaFilter deinit ran")}},e.toolFactory=function(d){var g=b("<div/>").addClass(e.options.gmToolClass).addClass(e.options.gmClearClass).html(e.buttonFactory(d));return g[0].outerHTML},e.buttonFactory=function(d){var g=[];return b.each(d,function(h,c){c.btnLabel="undefined"==typeof c.btnLabel?"":c.btnLabel,c.title="undefined"==typeof c.title?"":c.title,g.push("<"+c.element+" title='"+c.title+"' class='"+c.btnClass+"'><span class='"+c.iconClass+"'></span>&nbsp;"+c.btnLabel+"</"+c.element+"> ")}),g.join("")},e.generateButtonClass=function(d){var g="";return b.each(d,function(h,c){g=g+"-"+c}),g},e.generateClickHandler=function(g){var d="a.add"+e.generateButtonClass(g),h=e.$el.find("#"+e.options.canvasId);e.$el.on("click",d,function(c){e.log("Clicked "+d),h.prepend(e.createRow(g)),e.reset(),c.preventDefault()})},e.rteControl=function(d,h){switch(e.log("RTE "+e.options.rte+" "+d),d){case"init":"undefined"!=typeof window.CKEDITOR&&(e.options.rte="ckeditor",e.log("++ CKEDITOR Found"),window.CKEDITOR.disableAutoInline=!0),"undefined"!=typeof window.tinymce&&(e.options.rte="tinymce",e.log("++ TINYMCE Found"));break;case"attach":switch(e.options.rte){case"tinymce":h.hasClass("mce-content-body")||h.tinymce(e.options.tinymce.config);break;case"ckeditor":b(h).ckeditor(e.options.ckeditor);break;default:e.log("No RTE specified for attach")}break;case"stop":switch(e.options.rte){case"tinymce":window.tinymce.remove(),e.log("-- TinyMCE destroyed");break;case"ckeditor":for(var g in window.CKEDITOR.instances){window.CKEDITOR.instances[g].destroy()}e.log("-- CKEDITOR destroyed");break;default:e.log("No RTE specified for stop")}break;default:e.log("No RTE Action specified")}},e.reset=function(){e.log("~~RESET~~"),e.deinitCanvas(),e.initCanvas()},e.cleanup=function(){var d,c;d=e.$el.find("#"+e.options.canvasId),c="visual"!==e.mode?d.find("textarea").val():d.html(),d.html(e.cleanSubstring(e.options.classRenameSuffix,c,"")),d.find(e.options.colSelector).removeAttr("style").removeAttr("spellcheck").removeClass("mce-content-body").end().find("img").removeAttr("style").addClass("img-responsive").removeAttr("data-cke-saved-src").removeAttr("data-mce-src").end().find("."+e.options.gmToolClass).remove(),e.rteControl("stop"),e.log("~~Cleanup Ran~~")},e.log=function(c){e.options.debug&&void 0!==window.console&&window.console.log(c)},e.init()},b.gridmanager.defaultOptions={debug:0,colSelectEnabled:!0,editableRegionEnabled:!0,autoEdit:!0,remoteURL:"/replace-with-your-url",cssInclude:"//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css",filterCallback:null,canvasId:"gm-canvas",controlId:"gm-controls",controlMove:"gm-move",controlNestedEditable:"gm-controls-element",controlButtons:[[12],[6,6],[4,4,4],[3,3,3,3],[2,2,2,2,2,2],[2,8,2],[4,8],[8,4]],customControls:{global_row:[],global_col:[]},controlButtonClass:"btn  btn-xs  btn-primary",controlButtonSpanClass:"fa fa-plus-circle",controlAppend:"<div class='btn-group pull-right'><button title='Edit Source Code' type='button' class='btn btn-xs btn-primary gm-edit-mode'><span class='fa fa-code'></span></button><button title='Preview' type='button' class='btn btn-xs btn-primary gm-preview'><span class='fa fa-eye'></span></button>     <div class='dropdown pull-left gm-layout-mode'><button type='button' class='btn btn-xs btn-primary dropdown-toggle' data-toggle='dropdown'><span class='caret'></span></button> <ul class='dropdown-menu' role='menu'><li><a data-width='auto' title='Desktop'><span class='fa fa-desktop'></span> Desktop</a></li><li><a title='Tablet' data-width='768'><span class='fa fa-tablet'></span> Tablet</a></li><li><a title='Phone' data-width='640'><span class='fa fa-mobile-phone'></span> Phone</a></li></ul></div>    <button type='button' class='btn  btn-xs  btn-primary dropdown-toggle' data-toggle='dropdown'><span class='caret'></span><span class='sr-only'>Toggle Dropdown</span></button><ul class='dropdown-menu' role='menu'><li><a title='Save'  href='#' class='gm-save'><span class='fa fa-save'></span> Save</a></li><li><a title='Reset Grid' href='#' class='gm-resetgrid'><span class='fa fa-trash-o'></span> Reset</a></li></ul></div>",controlContentElem:'<div class="gm-controls-element"> <a class="gm-move fa fa-arrows" href="#" title="Move"></a> <a class="gm-delete fa fa-times" href="#" title="Delete"></a> </div>',gmEditClass:"gm-editing",gmEditClassSelected:"gm-editing-selected",gmEditRegion:"gm-editable-region",gmContentRegion:"gm-content",gmToolClass:"gm-tools",gmClearClass:"clearfix",gmFloatLeft:"pull-left",gmFloatRight:"pull-right",gmBtnGroup:"btn-group",gmDangerClass:"btn-danger",rowClass:"row",rowSelector:"div.row",rowSortingClass:"alert-warning",rowButtonsPrepend:[{title:"Move",element:"a",btnClass:"gm-moveRow pull-left",iconClass:"fa fa-arrows "},{title:"New Column",element:"a",btnClass:"gm-addColumn pull-left  ",iconClass:"fa fa-plus"},{title:"Row Settings",element:"a",btnClass:"pull-right gm-rowSettings",iconClass:"fa fa-cog"}],rowButtonsAppend:[{title:"Remove row",element:"a",btnClass:"pull-right gm-removeRow",iconClass:"fa fa-trash-o"}],rowCustomClasses:["example-class","test-class"],colClass:"column",contentDraggableClass:"gm-content-draggable",addResponsiveClasses:!0,addDefaultColumnClass:!0,colDesktopClass:"col-md-",colTabletClass:"col-sm-",colPhoneClass:"col-xs-",colDesktopSelector:"div[class*=col-md-]",colTabletSelector:"div[class*=col-sm-]",colPhoneSelector:"div[class*=col-xs-]",classRenameSuffix:"-clsstmp",layoutDefaultMode:"auto",currentClassMode:"",colAdditionalClass:"",colButtonsPrepend:[{title:"Move",element:"a",btnClass:"gm-moveCol pull-left",iconClass:"fa fa-arrows "},{title:"Column Settings",element:"a",btnClass:"pull-right gm-colSettings",iconClass:"fa fa-cog"},{title:"Make Column Narrower",element:"a",btnClass:"gm-colDecrease pull-left",iconClass:"fa fa-minus"},{title:"Make Column Wider",element:"a",btnClass:"gm-colIncrease pull-left",iconClass:"fa fa-plus"}],colButtonsAppend:[{title:"Add Nested Row",element:"a",btnClass:"pull-left gm-addRow",iconClass:"fa fa-plus-square"},{title:"Remove Column",element:"a",btnClass:"pull-right gm-removeCol",iconClass:"fa fa-trash-o"}],colCustomClasses:["example-col-class","test-class"],colMax:12,colResizeStep:1,tinymce:{config:{inline:!0,plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table contextmenu paste"],toolbar:"insertfile undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image"}},ckeditor:{customConfig:""}},b.fn.gridmanager=function(a){return this.each(function(){var f=b(this),e=new b.gridmanager(this,a);f.data("gridmanager",e)})},b.expr[":"].regex=function(j,i,p){var o=p[3].split(","),n=/^(data|css):/,m={method:o[0].match(n)?o[0].split(":")[0]:"attr",property:o.shift().replace(n,"")},l="ig",k=new RegExp(o.join("").replace(/^\s+|\s+$/g,""),l);return k.test(jQuery(j)[m.method](m.property))}}(jQuery);