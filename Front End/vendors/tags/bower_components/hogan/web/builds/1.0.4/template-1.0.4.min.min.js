var Hogan={};(function(n,p){n.Template=function(d,c,a,b){this.r=d||this.r;this.c=a;this.options=b;this.text=c||"";this.buf=(p)?[]:""};n.Template.prototype={r:function(c,a,b){return""},v:t,render:function u(c,a,b){return this.ri([c],a||{},b)},ri:function(c,a,b){return this.r(c,a,b)},rp:function(e,c,d,b){var a=d[e];if(!a){return""}if(this.c&&typeof a=="string"){a=this.c.compile(a,this.options)}return a.ri(c,d,b)},rs:function(d,e,c){var b=d[d.length-1];if(!q(b)){c(d,e,this);return}for(var a=0;a<b.length;a++){d.push(b[a]);c(d,e,this);d.pop()}},s:function(d,a,f,h,c,b,g){var e;if(q(d)&&d.length===0){return false}if(typeof d=="function"){d=this.ls(d,a,f,h,c,b,g)}e=(d==="")||!!d;if(!h&&e&&a){a.push((typeof d=="object")?d:a[a.length-1])}return e},d:function(f,a,g,e){var d=f.split("."),c=this.f(d[0],a,g,e),b=null;if(f==="."&&q(a[a.length-2])){return a[a.length-1]}for(var h=1;h<d.length;h++){if(c&&typeof c=="object"&&d[h] in c){b=c;c=c[d[h]]}else{c=""}}if(e&&!c){return false}if(!e&&typeof c=="function"){a.push(b);c=this.lv(c,a,g);a.pop()}return c},f:function(f,b,g,e){var c=false,a=null,d=false;for(var h=b.length-1;h>=0;h--){a=b[h];if(a&&typeof a=="object"&&f in a){c=a[f];d=true;break}}if(!d){return(e)?false:""}if(!e&&typeof c=="function"){c=this.lv(c,b,g)}return c},ho:function(c,b,f,d,a){var e=this.c;var g=c.call(b,d,function(h){return e.compile(h,{delimiters:a}).render(b,f)});this.b(e.compile(g.toString(),{delimiters:a}).render(b,f));return false},b:(p)?function(a){this.buf.push(a)}:function(a){this.buf+=a},fl:(p)?function(){var a=this.buf.join("");this.buf=[];return a}:function(){var a=this.buf;this.buf="";return a},ls:function(f,i,b,e,g,d,h){var c=i[i.length-1],a=null;if(!e&&this.c&&f.length>0){return this.ho(f,c,b,this.text.substring(g,d),h)}a=f.call(c);if(typeof a=="function"){if(e){return true}else{if(this.c){return this.ho(a,c,b,this.text.substring(g,d),h)}}}return a},lv:function(c,e,d){var a=e[e.length-1];var b=c.call(a);if(typeof b=="function"){b=b.call(a)}b=b.toString();if(this.c&&~b.indexOf("{{")){return this.c.compile(b).render(a,d)}return b}};var o=/&/g,s=/</g,v=/>/g,l=/\'/g,m=/\"/g,r=/[&<>\"\']/;function t(a){a=String((a===null||a===undefined)?"":a);return r.test(a)?a.replace(o,"&amp;").replace(s,"&lt;").replace(v,"&gt;").replace(l,"&#39;").replace(m,"&quot;"):a}var q=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"}})(typeof exports!=="undefined"?exports:Hogan);