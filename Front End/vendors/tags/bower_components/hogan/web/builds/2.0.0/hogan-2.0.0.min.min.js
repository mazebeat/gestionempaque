var Hogan={};(function(o,q){o.Template=function(c,b,d,a){this.r=c||this.r;this.c=d;this.options=a;this.text=b||"";this.buf=(q)?[]:""};o.Template.prototype={r:function(b,c,a){return""},v:v,t:t,render:function w(b,c,a){return this.ri([b],c||{},a)},ri:function(b,c,a){return this.r(b,c,a)},rp:function(d,b,c,a){var e=c[d];if(!e){return""}if(this.c&&typeof e=="string"){e=this.c.compile(e,this.options)}return e.ri(b,c,a)},rs:function(c,d,b){var a=c[c.length-1];if(!r(a)){b(c,d,this);return}for(var e=0;e<a.length;e++){c.push(a[e]);b(c,d,this);c.pop()}},s:function(c,h,e,g,b,a,f){var d;if(r(c)&&c.length===0){return false}if(typeof c=="function"){c=this.ls(c,h,e,g,b,a,f)}d=(c==="")||!!c;if(!g&&d&&h){h.push((typeof c=="object")?c:h[h.length-1])}return d},d:function(e,h,f,d){var c=e.split("."),b=this.f(c[0],h,f,d),a=null;if(e==="."&&r(h[h.length-2])){return h[h.length-1]}for(var g=1;g<c.length;g++){if(b&&typeof b=="object"&&c[g] in b){a=b;b=b[c[g]]}else{b=""}}if(d&&!b){return false}if(!d&&typeof b=="function"){h.push(a);b=this.lv(b,h,f);h.pop()}return b},f:function(e,a,f,d){var b=false,h=null,c=false;for(var g=a.length-1;g>=0;g--){h=a[g];if(h&&typeof h=="object"&&e in h){b=h[e];c=true;break}}if(!c){return(d)?false:""}if(!d&&typeof b=="function"){b=this.lv(b,a,f)}return b},ho:function(b,a,e,c,f){var d=this.c;var g=this.options;g.delimiters=f;var c=b.call(a,c);c=(c==null)?String(c):c.toString();this.b(d.compile(c,g).render(a,e));return false},b:(q)?function(a){this.buf.push(a)}:function(a){this.buf+=a},fl:(q)?function(){var a=this.buf.join("");this.buf=[];return a}:function(){var a=this.buf;this.buf="";return a},ls:function(e,h,a,d,f,c,g){var b=h[h.length-1],i=null;if(!d&&this.c&&e.length>0){return this.ho(e,b,a,this.text.substring(f,c),g)}i=e.call(b);if(typeof i=="function"){if(d){return true}else{if(this.c){return this.ho(i,b,a,this.text.substring(f,c),g)}}}return i},lv:function(b,d,c){var e=d[d.length-1];var a=b.call(e);if(typeof a=="function"){a=t(a.call(e));if(this.c&&~a.indexOf("{\u007B")){return this.c.compile(a,this.options).render(e,c)}}return t(a)}};var p=/&/g,u=/</g,x=/>/g,m=/\'/g,n=/\"/g,s=/[&<>\"\']/;function t(a){return String((a===null||a===undefined)?"":a)}function v(a){a=t(a);return s.test(a)?a.replace(p,"&amp;").replace(u,"&lt;").replace(x,"&gt;").replace(m,"&#39;").replace(n,"&quot;"):a}var r=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"}})(typeof exports!=="undefined"?exports:Hogan);(function(G){var O=/\S/,K=/\"/g,F=/\n/g,J=/\r/g,z=/\\/g,T={"#":1,"^":2,"/":3,"!":4,">":5,"<":6,"=":7,_v:8,"{":9,"&":10};G.scan=function H(n,s){var c=n.length,j=0,q=1,l=2,h=j,r=null,a=null,b="",i=[],o=false,d=0,g=0,m="{{",e="}}";function f(){if(b.length>0){i.push(new String(b));b=""}}function t(){var u=true;for(var v=g;v<i.length;v++){u=(i[v].tag&&T[i[v].tag]<T._v)||(!i[v].tag&&i[v].match(O)===null);if(!u){return false}}return u}function k(u,V){f();if(u&&t()){for(var w=g,v;w<i.length;w++){if(!i[w].tag){if((v=i[w+1])&&v.tag==">"){v.indent=i[w].toString()}i.splice(w,1)}}}else{if(!V){i.push({tag:"\n"})}}o=false;g=i.length}function p(u,W){var v="="+e,X=u.indexOf(v,W),w=D(u.substring(u.indexOf("=",W)+1,X)).split(" ");m=w[0];e=w[1];return X+v.length-1}if(s){s=s.split(" ");m=s[0];e=s[1]}for(d=0;d<c;d++){if(h==j){if(x(m,n,d)){--d;f();h=q}else{if(n.charAt(d)=="\n"){k(o)}else{b+=n.charAt(d)}}}else{if(h==q){d+=m.length-1;a=T[n.charAt(d+1)];r=a?n.charAt(d+1):"_v";if(r=="="){d=p(n,d);h=j}else{if(a){d++}h=l}o=d}else{if(x(e,n,d)){i.push({tag:r,n:D(b),otag:m,ctag:e,i:(r=="/")?o-e.length:d+m.length});b="";d+=e.length-1;h=j;if(r=="{"){if(e=="}}"){d++}else{C(i[i.length-1])}}}else{b+=n.charAt(d)}}}}k(o,true);return i};function C(a){if(a.n.substr(a.n.length-1)==="}"){a.n=a.n.substring(0,a.n.length-1)}}function D(a){if(a.trim){return a.trim()}return a.replace(/^\s*|\s*$/g,"")}function x(b,e,c){if(e.charAt(c)!=b.charAt(0)){return false}for(var a=1,d=b.length;a<d;a++){if(e.charAt(c+a)!=b.charAt(a)){return false}}return true}function S(c,b,g,e){var a=[],f=null,d=null;while(c.length>0){d=c.shift();if(d.tag=="#"||d.tag=="^"||P(d,e)){g.push(d);d.nodes=S(c,d.tag,g,e);a.push(d)}else{if(d.tag=="/"){if(g.length===0){throw new Error("Closing tag without opener: /"+d.n)}f=g.pop();if(d.n!=f.n&&!N(d.n,f.n,e)){throw new Error("Nesting error: "+f.n+" vs. "+d.n)}f.end=d.i;return a}else{a.push(d)}}}if(g.length>0){throw new Error("missing closing tag: "+g.pop().n)}return a}function P(b,d){for(var c=0,a=d.length;c<a;c++){if(d[c].o==b.n){b.tag="#";return true}}}function N(e,c,d){for(var b=0,a=d.length;b<a;b++){if(d[b].c==e&&d[b].o==c){return true}}}G.generate=function(b,a,d){var c='var _=this;_.b(i=i||"");'+A(b)+"return _.fl();";if(d.asString){return"function(c,p,i){"+c+";}"}return new G.Template(new Function("c","p","i",c),a,G,d)};function y(a){return a.replace(z,"\\\\").replace(K,'\\"').replace(F,"\\n").replace(J,"\\r")}function L(a){return(~a.indexOf("."))?"d":"f"}function A(e){var d="";for(var b=0,c=e.length;b<c;b++){var a=e[b].tag;if(a=="#"){d+=M(e[b].nodes,e[b].n,L(e[b].n),e[b].i,e[b].end,e[b].otag+" "+e[b].ctag)}else{if(a=="^"){d+=B(e[b].nodes,e[b].n,L(e[b].n))}else{if(a=="<"||a==">"){d+=Q(e[b])}else{if(a=="{"||a=="&"){d+=R(e[b].n,L(e[b].n))}else{if(a=="\n"){d+=I('"\\n"'+(e.length-1==b?"":" + i"))}else{if(a=="_v"){d+=E(e[b].n,L(e[b].n))}else{if(a===undefined){d+=I('"'+y(e[b])+'"')}}}}}}}}return d}function M(f,d,e,b,a,c){return"if(_.s(_."+e+'("'+y(d)+'",c,p,1),c,p,0,'+b+","+a+',"'+c+'")){_.rs(c,p,function(c,p,_){'+A(f)+"});c.pop();}"}function B(a,b,c){return"if(!_.s(_."+c+'("'+y(b)+'",c,p,1),c,p,1,0,0,"")){'+A(a)+"};"}function Q(a){return'_.b(_.rp("'+y(a.n)+'",c,p,"'+(a.indent||"")+'"));'}function R(b,a){return"_.b(_.t(_."+a+'("'+y(b)+'",c,p,0)));'}function E(b,a){return"_.b(_.v(_."+a+'("'+y(b)+'",c,p,0)));'}function I(a){return"_.b("+a+");"}G.parse=function(c,b,a){a=a||{};return S(c,"",[],a.sectionTags||[])},G.cache={};G.compile=function(b,a){a=a||{};var c=b+"||"+!!a.asString;var d=this.cache[c];if(d){return d}d=this.generate(this.parse(this.scan(b,a.delimiters),b,a),b,a);return this.cache[c]=d}})(typeof exports!=="undefined"?exports:Hogan);