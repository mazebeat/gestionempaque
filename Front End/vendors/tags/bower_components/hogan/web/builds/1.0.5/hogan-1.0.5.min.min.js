var Hogan={};(function(o,q){o.Template=function(c,b,d,a){this.r=c||this.r;this.c=d;this.options=a;this.text=b||"";this.buf=(q)?[]:""};o.Template.prototype={r:function(b,c,a){return""},v:v,t:t,render:function w(b,c,a){return this.ri([b],c||{},a)},ri:function(b,c,a){return this.r(b,c,a)},rp:function(d,b,c,a){var e=c[d];if(!e){return""}if(this.c&&typeof e=="string"){e=this.c.compile(e,this.options)}return e.ri(b,c,a)},rs:function(c,d,b){var a=c[c.length-1];if(!r(a)){b(c,d,this);return}for(var e=0;e<a.length;e++){c.push(a[e]);b(c,d,this);c.pop()}},s:function(c,h,e,g,b,a,f){var d;if(r(c)&&c.length===0){return false}if(typeof c=="function"){c=this.ls(c,h,e,g,b,a,f)}d=(c==="")||!!c;if(!g&&d&&h){h.push((typeof c=="object")?c:h[h.length-1])}return d},d:function(e,h,f,d){var c=e.split("."),b=this.f(c[0],h,f,d),a=null;if(e==="."&&r(h[h.length-2])){return h[h.length-1]}for(var g=1;g<c.length;g++){if(b&&typeof b=="object"&&c[g] in b){a=b;b=b[c[g]]}else{b=""}}if(d&&!b){return false}if(!d&&typeof b=="function"){h.push(a);b=this.lv(b,h,f);h.pop()}return b},f:function(e,a,f,d){var b=false,h=null,c=false;for(var g=a.length-1;g>=0;g--){h=a[g];if(h&&typeof h=="object"&&e in h){b=h[e];c=true;break}}if(!c){return(d)?false:""}if(!d&&typeof b=="function"){b=this.lv(b,a,f)}return b},ho:function(b,a,e,c,g){var d=this.c;var h=this.options;h.delimiters=g;var f=b.call(a,c,function(i){return d.compile(i,h).render(a,e)});this.b(d.compile(f.toString(),h).render(a,e));return false},b:(q)?function(a){this.buf.push(a)}:function(a){this.buf+=a},fl:(q)?function(){var a=this.buf.join("");this.buf=[];return a}:function(){var a=this.buf;this.buf="";return a},ls:function(e,h,a,d,f,c,g){var b=h[h.length-1],i=null;if(!d&&this.c&&e.length>0){return this.ho(e,b,a,this.text.substring(f,c),g)}i=e.call(b);if(typeof i=="function"){if(d){return true}else{if(this.c){return this.ho(i,b,a,this.text.substring(f,c),g)}}}return i},lv:function(b,d,c){var e=d[d.length-1];var a=b.call(e);if(typeof a=="function"){a=a.call(e)}a=t(a);if(this.c&&~a.indexOf("{\u007B")){return this.c.compile(a,this.options).render(e,c)}return a}};var p=/&/g,u=/</g,x=/>/g,m=/\'/g,n=/\"/g,s=/[&<>\"\']/;function t(a){return String((a===null||a===undefined)?"":a)}function v(a){a=t(a);return s.test(a)?a.replace(p,"&amp;").replace(u,"&lt;").replace(x,"&gt;").replace(m,"&#39;").replace(n,"&quot;"):a}var r=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"}})(typeof exports!=="undefined"?exports:Hogan);(function(I){var Q=/\S/,M=/\"/g,H=/\n/g,L=/\r/g,A=/\\/g,V={"#":1,"^":2,"/":3,"!":4,">":5,"<":6,"=":7,_v:8,"{":9,"&":10};I.scan=function J(m,r){var c=m.length,i=0,p=1,k=2,t=i,q=null,a=null,b="",h=[],n=false,d=0,g=0,l="{{",e="}}";function f(){if(b.length>0){h.push(new String(b));b=""}}function s(){var u=true;for(var v=g;v<h.length;v++){u=(h[v].tag&&V[h[v].tag]<V._v)||(!h[v].tag&&h[v].match(Q)===null);if(!u){return false}}return u}function j(u,x){f();if(u&&s()){for(var w=g,v;w<h.length;w++){if(!h[w].tag){if((v=h[w+1])&&v.tag==">"){v.indent=h[w].toString()}h.splice(w,1)}}}else{if(!x){h.push({tag:"\n"})}}n=false;g=h.length}function o(u,x){var v="="+e,X=u.indexOf(v,x),w=E(u.substring(u.indexOf("=",x)+1,X)).split(" ");l=w[0];e=w[1];return X+v.length-1}if(r){r=r.split(" ");l=r[0];e=r[1]}for(d=0;d<c;d++){if(t==i){if(y(l,m,d)){--d;f();t=p}else{if(m.charAt(d)=="\n"){j(n)}else{b+=m.charAt(d)}}}else{if(t==p){d+=l.length-1;a=V[m.charAt(d+1)];q=a?m.charAt(d+1):"_v";if(q=="="){d=o(m,d);t=i}else{if(a){d++}t=k}n=d}else{if(y(e,m,d)){h.push({tag:q,n:E(b),otag:l,ctag:e,i:(q=="/")?n-e.length:d+l.length});b="";d+=e.length-1;t=i;if(q=="{"){if(e=="}}"){d++}else{D(h[h.length-1])}}}else{b+=m.charAt(d)}}}}j(n,true);return h};function D(a){if(a.n.substr(a.n.length-1)==="}"){a.n=a.n.substring(0,a.n.length-1)}}function E(a){if(a.trim){return a.trim()}return a.replace(/^\s*|\s*$/g,"")}function y(e,c,a){if(c.charAt(a)!=e.charAt(0)){return false}for(var d=1,b=e.length;d<b;d++){if(c.charAt(a+d)!=e.charAt(d)){return false}}return true}function U(b,g,e,c){var f=[],d=null,a=null;while(b.length>0){a=b.shift();if(a.tag=="#"||a.tag=="^"||R(a,c)){e.push(a);a.nodes=U(b,a.tag,e,c);f.push(a)}else{if(a.tag=="/"){if(e.length===0){throw new Error("Closing tag without opener: /"+a.n)}d=e.pop();if(a.n!=d.n&&!P(a.n,d.n,c)){throw new Error("Nesting error: "+d.n+" vs. "+a.n)}d.end=a.i;return f}else{f.push(a)}}}if(e.length>0){throw new Error("missing closing tag: "+e.pop().n)}return f}function R(d,b){for(var a=0,c=b.length;a<c;a++){if(b[a].o==d.n){d.tag="#";return true}}}function P(c,a,b){for(var e=0,d=b.length;e<d;e++){if(b[e].c==c&&b[e].o==a){return true}}}function F(a){return'var _=this;_.b(i=i||"");'+B(a)+"return _.fl();"}I.generate=function(b,a,c){if(c.asString){return"function(c,p,i){"+b+";}"}return new I.Template(new Function("c","p","i",b),a,I,c)};function z(a){return a.replace(A,"\\\\").replace(M,'\\"').replace(H,"\\n").replace(L,"\\r")}function N(a){return(~a.indexOf("."))?"d":"f"}function B(c){var b="";for(var e=0,a=c.length;e<a;e++){var d=c[e].tag;if(d=="#"){b+=O(c[e].nodes,c[e].n,N(c[e].n),c[e].i,c[e].end,c[e].otag+" "+c[e].ctag)}else{if(d=="^"){b+=C(c[e].nodes,c[e].n,N(c[e].n))}else{if(d=="<"||d==">"){b+=S(c[e])}else{if(d=="{"||d=="&"){b+=T(c[e].n,N(c[e].n))}else{if(d=="\n"){b+=K('"\\n"'+(c.length-1==e?"":" + i"))}else{if(d=="_v"){b+=G(c[e].n,N(c[e].n))}else{if(d===undefined){b+=K('"'+z(c[e])+'"')}}}}}}}}return b}function O(d,b,c,f,e,a){return"if(_.s(_."+c+'("'+z(b)+'",c,p,1),c,p,0,'+f+","+e+',"'+a+'")){_.rs(c,p,function(c,p,_){'+B(d)+"});c.pop();}"}function C(c,a,b){return"if(!_.s(_."+b+'("'+z(a)+'",c,p,1),c,p,1,0,0,"")){'+B(c)+"};"}function S(a){return'_.b(_.rp("'+z(a.n)+'",c,p,"'+(a.indent||"")+'"));'}function T(a,b){return"_.b(_.t(_."+b+'("'+z(a)+'",c,p,0)));'}function G(a,b){return"_.b(_.v(_."+b+'("'+z(a)+'",c,p,0)));'}function K(a){return"_.b("+a+");"}I.parse=function(b,a,c){c=c||{};return U(b,"",[],c.sectionTags||[])},I.cache={};I.compile=function(d,c){c=c||{};var a=d+"||"+!!c.asString;var b=this.cache[a];if(b){return b}b=this.generate(F(this.parse(this.scan(d,c.delimiters),d,c)),d,c);return this.cache[a]=b}})(typeof exports!=="undefined"?exports:Hogan);