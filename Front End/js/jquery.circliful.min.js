"use strict";(function(a){a.fn.circliful=function(b,d){var c=a.extend({startdegree:0,fgcolor:"#556b2f",bgcolor:"#eee",fill:false,width:15,dimension:200,fontsize:15,percent:50,animationstep:1,iconsize:"20px",iconcolor:"#999",border:"default",complete:null,bordersize:10},b);return this.each(function(){var D=["fgcolor","bgcolor","fill","width","dimension","fontsize","animationstep","endPercent","icon","iconcolor","iconsize","border","startdegree","bordersize"];var g={};var L="";var h;var q=0;var z=a(this);var I=false;var C,M;z.addClass("circliful");f(z);if(z.data("text")!=undefined){C=z.data("text");if(z.data("icon")!=undefined){L=a("<i></i>").addClass("fa "+a(this).data("icon")).css({color:g.iconcolor,"font-size":g.iconsize})}if(z.data("type")!=undefined){m=a(this).data("type");if(m=="half"){w(z,"circle-text-half",(g.dimension/1.45))}else{w(z,"circle-text",g.dimension)}}else{w(z,"circle-text",g.dimension)}}if(a(this).data("total")!=undefined&&a(this).data("part")!=undefined){var O=a(this).data("total")/100;h=((a(this).data("part")/O)/100).toFixed(3);q=(a(this).data("part")/O).toFixed(3)}else{if(a(this).data("percent")!=undefined){h=a(this).data("percent")/100;q=a(this).data("percent")}else{h=c.percent/100}}if(a(this).data("info")!=undefined){M=a(this).data("info");if(a(this).data("type")!=undefined){m=a(this).data("type");if(m=="half"){J(z,0.9)}else{J(z,1.25)}}else{J(z,1.25)}}a(this).width(g.dimension+"px");var E=g.dimension,l=a("<canvas></canvas>").attr({width:E,height:E}).appendTo(a(this)).get(0);var i=l.getContext("2d");var e=window.devicePixelRatio;if(e){var s=a(l);s.css("width",E);s.css("height",E);s.attr("width",E*e);s.attr("height",E*e);i.scale(e,e)}var A=a(l).parent();var v=E/2;var u=E/2;var H=g.percent*360;var N=H*(Math.PI/180);var o=E/2.5;var G=2.3*Math.PI;var F=0;var K=false;var r=g.animationstep===0?q:0;var t=Math.max(g.animationstep,0);var B=Math.PI*2;var k=Math.PI/2;var m="";var n=true;var j=(g.startdegree/180)*Math.PI;if(a(this).data("type")!=undefined){m=a(this).data("type");if(m=="half"){G=2*Math.PI;F=3.13;B=Math.PI;k=Math.PI/0.996}}if(a(this).data("type")!=undefined){m=a(this).data("type");if(m=="angle"){G=2.25*Math.PI;F=2.4;B=1.53+Math.PI;k=0.73+Math.PI/0.996}}function w(P,x,y){a("<span></span>").appendTo(P).addClass(x).html(C).prepend(L).css({"line-height":y+"px","font-size":g.fontsize+"px"})}function J(y,x){a("<span></span>").appendTo(y).addClass("circle-info-half").css("line-height",(g.dimension*x)+"px").text(M)}function f(x){a.each(D,function(y,P){if(x.data(P)!=undefined){g[P]=x.data(P)}else{g[P]=a(c).attr(P)}if(P=="fill"&&x.data("fill")!=undefined){I=true}})}function p(x){i.clearRect(0,0,l.width,l.height);i.beginPath();i.arc(v,u,o,F,G,false);i.lineWidth=g.width+1;i.strokeStyle=g.bgcolor;i.stroke();if(I){i.fillStyle=g.fill;i.fill()}i.beginPath();i.arc(v,u,o,-(k)+j,((B)*x)-k+j,false);if(g.border=="outline"){i.lineWidth=g.width+g.bordersize}else{if(g.border=="inline"){i.lineWidth=g.width-g.bordersize}}i.strokeStyle=g.fgcolor;i.stroke();if(r<q){r+=t;requestAnimationFrame(function(){p(Math.min(r,q)/100)},z)}if(r==q&&n&&typeof(b)!="undefined"){if(a.isFunction(b.complete)){b.complete();n=false}}}p(r/100)})}}(jQuery));