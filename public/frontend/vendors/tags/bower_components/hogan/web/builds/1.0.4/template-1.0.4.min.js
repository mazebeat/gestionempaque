var Hogan={};(function(i,g){i.Template=function(n,o,m,l){this.r=n||this.r;this.c=m;this.options=l;this.text=o||"";this.buf=(g)?[]:""};i.Template.prototype={r:function(n,m,l){return""},v:c,render:function b(n,m,l){return this.ri([n],m||{},l)},ri:function(n,m,l){return this.r(n,m,l)},rp:function(n,p,o,l){var m=o[n];if(!m){return""}if(this.c&&typeof m=="string"){m=this.c.compile(m,this.options)}return m.ri(p,o,l)},rs:function(o,n,p){var l=o[o.length-1];if(!f(l)){p(o,n,this);return}for(var m=0;m<l.length;m++){o.push(l[m]);p(o,n,this);o.pop()}},s:function(r,m,p,n,s,l,o){var q;if(f(r)&&r.length===0){return false}if(typeof r=="function"){r=this.ls(r,m,p,n,s,l,o)}q=(r==="")||!!r;if(!n&&q&&m){m.push((typeof r=="object")?r:m[m.length-1])}return q},d:function(p,m,o,q){var r=p.split("."),s=this.f(r[0],m,o,q),l=null;if(p==="."&&f(m[m.length-2])){return m[m.length-1]}for(var n=1;n<r.length;n++){if(s&&typeof s=="object"&&r[n] in s){l=s;s=s[r[n]]}else{s=""}}if(q&&!s){return false}if(!q&&typeof s=="function"){m.push(l);s=this.lv(s,m,o);m.pop()}return s},f:function(p,l,o,q){var s=false,m=null,r=false;for(var n=l.length-1;n>=0;n--){m=l[n];if(m&&typeof m=="object"&&p in m){s=m[p];r=true;break}}if(!r){return(q)?false:""}if(!q&&typeof s=="function"){s=this.lv(s,l,o)}return s},ho:function(r,l,o,q,m){var p=this.c;var n=r.call(l,q,function(s){return p.compile(s,{delimiters:m}).render(l,o)});this.b(p.compile(n.toString(),{delimiters:m}).render(l,o));return false},b:(g)?function(l){this.buf.push(l)}:function(l){this.buf+=l},fl:(g)?function(){var l=this.buf.join("");this.buf=[];return l}:function(){var l=this.buf;this.buf="";return l},ls:function(m,s,q,n,l,o,u){var p=s[s.length-1],r=null;if(!n&&this.c&&m.length>0){return this.ho(m,p,q,this.text.substring(l,o),u)}r=m.call(p);if(typeof r=="function"){if(n){return true}else{if(this.c){return this.ho(r,p,q,this.text.substring(l,o),u)}}}return r},lv:function(p,n,o){var m=n[n.length-1];var l=p.call(m);if(typeof l=="function"){l=l.call(m)}l=l.toString();if(this.c&&~l.indexOf("{{")){return this.c.compile(l).render(m,o)}return l}};var h=/&/g,d=/</g,a=/>/g,k=/\'/g,j=/\"/g,e=/[&<>\"\']/;function c(l){l=String((l===null||l===undefined)?"":l);return e.test(l)?l.replace(h,"&amp;").replace(d,"&lt;").replace(a,"&gt;").replace(k,"&#39;").replace(j,"&quot;"):l}var f=Array.isArray||function(l){return Object.prototype.toString.call(l)==="[object Array]"}})(typeof exports!=="undefined"?exports:Hogan);