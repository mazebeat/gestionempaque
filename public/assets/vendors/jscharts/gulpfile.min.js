var gulp=require("gulp"),concat=require("gulp-concat"),uglify=require("gulp-uglify"),util=require("gulp-util"),jshint=require("gulp-jshint"),size=require("gulp-size"),connect=require("gulp-connect"),exec=require("child_process").exec;var srcDir="./src/";gulp.task("build",function(){var d=[a("Core")],c=!!(util.env.types),b=(c)?"custom":".";if(c){util.env.types.split(",").forEach(function(e){return d.push(a(e))})}else{d.push(srcDir+"*")}return gulp.src(d).pipe(concat("Chart.js")).pipe(gulp.dest(b)).pipe(uglify({preserveComments:"some"})).pipe(concat("Chart.min.js")).pipe(gulp.dest(b));function a(e){return srcDir+"Chart."+e+".js"}});gulp.task("jshint",function(){return gulp.src(srcDir+"*.js").pipe(jshint()).pipe(jshint.reporter("default"))});gulp.task("library-size",function(){return gulp.src("Chart.min.js").pipe(size({gzip:true}))});gulp.task("module-sizes",function(){return gulp.src(srcDir+"*.js").pipe(uglify({preserveComments:"some"})).pipe(size({showFiles:true,gzip:true}))});gulp.task("watch",function(){gulp.watch("./src/*",["build"])});gulp.task("test",["jshint"]);gulp.task("size",["library-size","module-sizes"]);gulp.task("default",["build","watch"]);gulp.task("server",function(){connect.server({port:8000,})});gulp.task("_open",function(){exec("open http://localhost:8000");exec("subl .")});gulp.task("dev",["server","default"]);