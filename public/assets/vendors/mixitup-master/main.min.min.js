var site={platform:{ie:!1,noSvg:!1,touch:!1,noSvg:!1,init:function(){var j=this,i=(document.documentElement,navigator.userAgent.toLowerCase()),p=["webkit","moz"],o=window.SVGAngle?!0:!1,n=document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?!0:!1,m=/gecko/i.test(i)&&/rv:1.9/i.test(i)?!0:!1,l=function(){for(var f,e=3,h=document.createElement("div"),g=h.getElementsByTagName("i");h.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->",g[0];){}return e>4?e:f}();j.touch="ontouchend" in document,j.ie=l||!1,j.ie=navigator.userAgent.indexOf("MSIE 10.0")>-1?10:j.ie,j.noSvg=!o||!n||9>l||m,j.ie&&j.ie<10;for(var k=0;k<p.length&&!window.requestAnimationFrame;++k){window.requestAnimationFrame=window[p[k]+"RequestAnimationFrame"]}window.requestAnimationFrame||(window.requestAnimationFrame=function(b){window.setTimeout(b,1000/60)})}}},imgLoaded=function(i,h,n){var m=i.parentElement,l=m.parentElement.parentElement,k=0,j=l.querySelectorAll(".slide").length;bg=null,show=function(){m.className+=m.className?" loaded":"loaded",n&&(k=l.querySelectorAll(".loaded").length,k===j&&(l.className+=l.className?" loaded":"loaded"))},h&&(bg=document.createElement("div"),bg.className="bg",bg.style.backgroundImage="url("+i.src+")",m.insertBefore(bg,i)),requestAnimationFrame(show)};site.platform.init(),function(b){b.extend(site,{$document:null,$window:null,$html:null,$body:null,ww:null,wh:null,scrollTop:null,init:function(){var a=this;a.$document=b(document),a.$window=b(window),a.$html=b("html"),a.$body=b("body"),a.$header=b("#GlobalHeader"),a.$scrollTo=b("a.scroll-to"),a.$sidebar=b("#Sidebar"),a.$configObjectGrid=b("#ConfigObjectGrid"),a.$apiMethodsGrid=b("#APIMethodsGrid"),a.$sandBox=b("#SandBox"),a.$sandBoxPagination=b("#SandBoxPagination"),a.$demo1=b("#Demo1"),a.$bbpForms=b("form.bbp-form"),a.$mixForms=b("form.mix-form"),a.$cart=b("#Cart"),a.$cartLink=b("#CartLink"),a.$addToCart=b("button.add-to-cart"),a.$downloadLinks=b("button.download-link"),a.$downloadIntercepts=b("a.download-intercept"),a.$subscribeLink=b("#ManageSubscription"),a.$shareLinks=b("#ShareLinks"),a.$topicsGrid=b("#TopicsGrid"),FastClick.attach(document.body),a.wh=site.$window.height(),a.ww=site.$window.width(),a.header.init(),a.backToTop.init(),a.modal.init(),a.checkHash(),a.loader.init(),a.$sandBox.length&&a.sandBox.init(),a.$demo1.length&&a.demo1.init(),a.$sidebar.length&&a.sidebar.init(),a.$configObjectGrid.length&&a.configObject.init(),a.$apiMethodsGrid.length&&a.apiMethods.init(),a.$sandBoxPagination.length&&a.sandBoxPagination.init(),a.$topicsGrid.length&&a.topicsGrid.init(),a.$bbpForms.each(function(){a.bbpForms.init(b(this))}),a.$mixForms.each(function(){a.mixForms.init(b(this))}),a.$cart.length&&a.cart.init(),a.$cartLink.length&&a.cartManager.init(),a.$addToCart.length&&a.addToCart.init(),a.$downloadLinks.length&&a.downloadLinks.init(),a.$subscribeLink.length&&a.manageSubscribe.init(),a.$shareLinks.length&&a.shareLinks.init(),a.$downloadIntercepts.length&&a.downloadIntercepts.init(),"undefined"!=typeof _gaq&&site.analytics.init(),a.globalHandlers(),a.stripe.init(),b("h2, h3, h4, h5, p").unBreak()},stripe:{testMode:mixitupAjax.stripeLive?!1:!0,live:"pk_live_3ERa9iP4hgvLB29p8otT1C8b",test:"pk_test_5vsXThLVtJlOoIxx3Iwrg9gB",init:function(){var d=this,c=d.testMode?d.test:d.live;Stripe.setPublishableKey(c)}},globalHandlers:function(){var c=this;c.$window.on({scroll:function(){c.scrollTop=c.$document.scrollTop(),c.$sidebar.length&&c.sidebar.$locked.length&&c.sidebar.lockArticles(),c.header.style(),c.backToTop.hideShow()},resize:function(){c.header.height=c.$header.height(),c.wh=site.$window.height(),c.ww=site.$window.width(),c.$sidebar.length&&c.sidebar.processLock()}}),c.$scrollTo.on("click",function(a){return a.preventDefault(),c.scrollToAnchor(this.hash,!0,!0),!1})},checkHash:function(){var d=this,c=window.location.hash;c&&("#welcome"===c?site.modal.alert('<span>Welcome to your MixItUp account!</span> <span>Thanks for signing up. You may now post to the <a href="'+window.location.origin+'/support">support forums Â»</a></span>'):d.scrollToAnchor(window.location.hash))},scrollToAnchor:function(t,s,r){var q=this,p=b(t);if(p.length){var o=q.header.height,n=p.offset().top,m=n-o-1;if(r&&window.history.replaceState({},"",t),s){q.$html.add(q.$body).animate({scrollTop:m},"fast")}else{var l=window.scrollX||document.documentElement.scrollLeft;window.scrollTo(l,m)}}else{var a=t.replace("#",".");b('[data-filter="'+a+'"]');a.indexOf("prop")>-1||a.indexOf("group")>-1?site.configObject.load=a:a.indexOf("method")>-1&&(site.apiMethods.load=a)}},backToTop:{init:function(){var a=this;a.$backToTop=b("#BackToTop"),a.bindHandlers(),a.hideShow()},bindHandlers:function(){var c=this;c.$backToTop.on("click",function(){c.toTop()})},hideShow:function(){var c=this;site.scrollTop>site.$document.height()-site.wh-140?c.$backToTop.addClass("hidden"):site.scrollTop>1000?c.$backToTop.removeClass("hidden"):c.$backToTop.addClass("hidden")},toTop:function(){site.$html.add(site.$body).animate({scrollTop:0},"fast")}},header:{openDelay:null,lightHamburger:!1,init:function(){var a=this;a.height=site.$header.height(),a.$logo=site.$header.find(".logo"),a.$hamburger=b("#Hamburger"),a.$globalNav=b("#GlobalNav"),a.$links=a.$globalNav.find("li"),a.$tracer=b("#Tracer"),a.$logoGrid=b("#LogoGrid"),a.$toggleOptions=b("#ToggleOptions"),a.$hoverZone=a.$hamburger.add(a.$globalNav),a.$activeLink=a.$links.filter(".current-menu-item"),a.$activeLink.length&&a.trace(a.$activeLink),a.bindHandlers(),a.mixLogo()},bindHandlers:function(){var a=this,h=!1,g=null,f=null;site.platform.touch?a.$hamburger.on("click",function(){site.$body.toggleClass("nav-open")}):(a.$hoverZone.on({"mouseover.hover":function(){h?clearTimeout(f):g=setTimeout(function(){h=!0,a.showNav()},200)}}),a.$hamburger.on({"mouseover.hover":function(){h&&(f=setTimeout(function(){h=!1,a.hideNav()},200))},"mouseout.hover":function(){h||clearTimeout(g)}}),a.$globalNav.on({"mouseout.hover":function(){h?f=setTimeout(function(){h=!1,a.hideNav()},200):clearTimeout(g)}})),a.$globalNav.find("li a").on("click",function(d){d.preventDefault();var e=this.href;return a.hideNav(),a.$hoverZone.off(".hover"),setTimeout(function(){window.location=e},200),!1}),a.$toggleOptions.on("click",function(){site.$body.hasClass("sandbox-config-open")?site.$body.removeClass("sandbox-config-open"):site.$body.addClass("sandbox-config-open")}),a.$tracer.length&&a.$links.on({mouseover:function(){a.trace(b(this))}})},showNav:function(){site.$body.addClass("nav-open"),self.openDelay=setTimeout(function(){site.$body[0].style.overflowX="hidden"},200)},hideNav:function(){clearTimeout(self.openDelay),site.$body[0].style.overflowX="";var c=function(){site.$body.removeClass("nav-open")};requestAnimationFrame(c)},trace:function(e){var d=this,f=e.position().top;d.$tracer.animate({top:f+"px"},50)},style:function(){var c=this;!(site.scrollTop>=50)||site.$sidebar.length&&"static"!==site.sidebar.activePositioning||c.lightHamburger?site.scrollTop<=50&&c.lightHamburger&&(c.$hamburger.removeClass("light"),c.lightHamburger=!1):(c.$hamburger.addClass("light"),c.lightHamburger=!0)},mixLogo:function(){var c=this;c.$logoGrid.mixItUp({filterOnLoad:"all",controls:{enable:!1},animation:{effects:"fade stagger(50ms) translateY(-50px) translateZ(-1000px)",easing:"cubic-bezier(0.175, 0.885, 0.32, 1.275)"},callbacks:{onMixLoad:function(){setInterval(function(){c.$logoGrid.mixItUp("sort","random",function(){c.$logoGrid.mixItUp("sort","random",function(){c.$logoGrid.mixItUp("sort","default")})})},6000)}}})}},sidebar:{activePositioning:"fixed",activeOffset:0,lockOn:[],lockOff:[],offset:[],init:function(){var c=this;c.$sidebar=site.$sidebar,c.$container=c.$sidebar.children("div.container"),c.$locked=c.$sidebar.find("article.locked"),c.activePositioning=c.$sidebar.hasClass("static")?"static":"fixed",c.processLock()},processLock:function(){var r=this,q=window.scrollY||document.documentElement.scrollTop,p=window.scrollX||document.documentElement.scrollLeft;if(window.scrollTo(0,0),r.unsetSidebar(),r.$locked.length){for(var o=0;o<r.$locked.length;o++){var n=r.$locked.eq(o),m=b(n.attr("data-lock-to")),l=n.offset().top,k=m.offset().top,a=r.offset[o-1]||0;r.lockOn[o]=k-l+a,r.lockOff[o]=k-site.header.height-1,r.offset[o]=l-site.header.height-1}}window.scrollTo(p,q),r.setSidebar()},lockArticles:function(){for(var e=this,d=0;d<e.lockOn.length;d++){if(site.scrollTop<e.lockOn[d]){e.activeOffset=0,e.activePositioning="fixed",e.setSidebar()}else{if(site.scrollTop>=e.lockOn[d]){if(site.scrollTop<e.lockOff[d]){var f=e.offset[d-1]||0;e.activeOffset=e.lockOn[d]-f,e.activePositioning="static",e.setSidebar();break}if(site.scrollTop<e.lockOn[d+1]||d===e.lockOn.length-1){e.activeOffset=-1*e.offset[d],e.activePositioning="fixed",e.setSidebar();break}}}}},unsetSidebar:function(){var c=this;c.$sidebar.removeClass("static").removeAttr("style")},setSidebar:function(){var c=this;"fixed"===c.activePositioning?c.$sidebar.removeClass("static"):c.$sidebar.addClass("static"),c.$sidebar.css("margin-top",c.activeOffset+"px")}},sandBox:{mode:"",changingLayout:!1,init:function(){var a=this;a.$sandBox=site.$sandBox,a.$toggleConfig=b("#ToggleConfig"),a.$toggleLayout=b("#ToggleLayout"),a.configOpen=!1,a.easingString="ease",a.effectsArray=["fade","translateZ(-360px)","stagger(34ms)"],a.effectsString="fade translateZ(-360px) stagger(34ms)",a.duration=400,a.$liveConfig=b("#LiveConfig"),a.$export=b("#Export"),a.$toggles=a.$liveConfig.find("input"),a.$sliders=a.$liveConfig.find(".slider"),a.$sandBox.mixItUp({animation:{duration:a.duration,effects:a.effectsString,easing:a.easingString,queueLimit:3,animateChangeLayout:!0,animateResizeTargets:!1},debug:{enable:!0},load:{sort:"random"}}),a.bindHandlers()},bindHandlers:function(){var a=this;a.$toggleConfig.on("click",function(){var d=b(this);a.$sandBox.hasClass("config-open")?a.$sandBox.add(d).removeClass("config-open"):(a.$sandBox.add(d).addClass("config-open"),site.analytics.pushEvent("SandBox","Open Config"))}),a.$sandBox.on("mixStart",function(f,i,h,g){g._changingLayout&&a.$sandBox.mixItUp("setOptions",{animation:{animateResizeTargets:!0}})}),a.$toggleLayout.on("click",function(){""===a.mode?(a.mode="list",a.changeLayout("list"),a.$toggleLayout.addClass("grid-icon")):(a.mode="",a.changeLayout(""),a.$toggleLayout.removeClass("grid-icon"))}),a.$toggles.on("change",function(){var l=b(this).parent(),k=l.find(".slider"),j=k.find(".scrubber"),i=l.attr("data-effect"),h=j.attr("data-value");l.hasClass("active")?(l.removeClass("active"),a.removeEffect(i)):(l.addClass("active"),a.addEffect("undefined"!=typeof h?i+"("+h+")":i)),a.liveConfig()}),a.$export.on("click",function(){var c="{\n	animation: {\n		duration: "+a.duration+",\n		effects: '"+a.effectsString+"',\n		easing: '"+a.easingString+"'\n	}\n}";site.modal.$content.children().hide(),site.modal.$content.find("textarea").show().html(c),site.modal.show(),site.analytics.pushEvent("SandBox","Export Config",encodeURIComponent(c))}),a.$sliders.each(function(){site.slider.init(b(this))})},changeLayout:function(d){var c=this;c.$sandBox.mixItUp("changeLayout",{containerClass:d},function(){c.$sandBox.mixItUp("setOptions",{animation:{animateResizeTargets:!1}})})},addEffect:function(d){var c=this;c.effectsArray.push(d)},removeEffect:function(f){for(var e=this,h=0;h<e.effectsArray.length;h++){var g=e.effectsArray[h];if(g.indexOf(f)>-1){e.effectsArray.splice(h,1);break}}},liveConfig:function(){var c=this;c.effectsString=c.effectsArray.join(" "),c.$sandBox.mixItUp("setOptions",{animation:{effects:c.effectsString}})},liveEasing:function(d){var c=this;c.easingString=d,c.$sandBox.mixItUp("setOptions",{animation:{easing:d}})},liveDur:function(d){var c=this;c.duration=d,c.$sandBox.mixItUp("setOptions",{animation:{duration:d}})}},sandBoxPagination:{init:function(){var c=this;c.$pagination=site.$sandBoxPagination,c.$pagination.mixItUp({pagination:{generatePagers:!0,limit:4,pagerClass:"btn"},load:{sort:"value:asc"}})}},demo1:{init:function(){var c=this;c.$demo1=site.$demo1,c.$demo1.mixItUp({pagination:{limit:3},controls:{enable:!1},animation:{duration:800,effects:"fade rotateX(10deg) translateZ(-250px)"},layout:{display:"block"},callbacks:{onMixLoad:function(){setInterval(function(){c.$demo1.mixItUp("sort","random")},2000)}}})}},configObject:{load:!1,init:function(){var a=this,d={enable:!0,effects:"fade scale(0.8)",duration:400,queue:!0,queueLimit:1,animateResizeTargets:!0};a.$configObjectGrid=site.$configObjectGrid,a.$configObjectMenu=b("#ConfigObjectMenu"),a.$propFilters=a.$configObjectMenu.find(".prop"),a.$groups=a.$configObjectMenu.find(".group"),a.$groupNames=a.$groups.find(".label"),a.$configObjectGrid.mixItUp({animation:{enable:!1},load:{filter:a.load||".learn-more"},callbacks:{onMixLoad:function(){site.sidebar.processLock();var c=a.load?b('[data-filter="'+a.load+'"]'):b();c.closest(".group").length&&(a.$configObjectMenu.find(".group.open").removeClass("open").find(".active").removeClass("active"),c.closest(".group").addClass("open").find(".label").addClass("active")),a.$configObjectGrid.mixItUp("setOptions",{animation:d,callbacks:{onMixEnd:function(f){var e=f.activeFilter,g="none"===e?"":e.replace(".","#");window.history.replaceState({},"",g),site.sidebar.processLock(),site.scrollToAnchor("#ConfigObjectGrid",!0,!1)}}})},onMixEnd:function(c){if(a.load){setTimeout(function(){site.scrollToAnchor("#configuration-object",!1,!1)},100)}site.analytics.pushEvent("Docs","View Items",c.activeFilter)}}}),a.bindHandlers()},bindHandlers:function(){var a=this;a.$groupNames.on("click",function(){var j=b(this),i=j.closest(".group"),h=j.attr("data-filter"),g=function(){var c=a.$configObjectMenu.outerHeight(!0);a.$configObjectGrid[0].style.minHeight=c+"px"};if(i.hasClass("open")){j.removeClass("active"),a.$propFilters.removeClass("active"),i.removeClass("open");setTimeout(function(){g(),a.$configObjectGrid.mixItUp("filter",".learn-more")},10)}else{a.$groups.removeClass("open"),a.$groupNames.removeClass("active"),a.$propFilters.removeClass("active"),j.addClass("active"),i.addClass("open");setTimeout(function(){g(),a.$configObjectGrid.mixItUp("filter",h)},10)}})}},topicsGrid:{init:function(){self.$topicsGrid=site.$topicsGrid,self.$topicsGrid.mixItUp({animation:{effects:"fade translateZ(-20px)",duration:500},selectors:{target:".item"},layout:{display:"block"},pagination:{limit:10,pagerClass:"btn"}})}},apiMethods:{load:!1,init:function(){var a=this,d={enable:!0,effects:"fade scale(0.8)",duration:400,queue:!0,queueLimit:1,animateResizeTargets:!0};a.$apiMethodsGrid=site.$apiMethodsGrid,a.$apiMethodsMenu=b("#APIMethodsMenu"),a.$apiMethodsGrid.mixItUp({animation:{enable:!1},selectors:{filter:".method-filter"},load:{filter:a.load||".learn-more"},callbacks:{onMixLoad:function(){site.sidebar.processLock(),a.$apiMethodsGrid.mixItUp("setOptions",{animation:d,callbacks:{onMixEnd:function(f){var e=f.activeFilter,g="none"===e?"":e.replace(".","#");window.history.replaceState({},"",g),site.sidebar.processLock(),site.scrollToAnchor("#APIMethodsGrid",!0,!1)}}})},onMixEnd:function(c){if(a.load){setTimeout(function(){site.scrollToAnchor("#api-methods",!1,!1)},100)}site.analytics.pushEvent("Docs","View Item",c.activeFilter)}}})}},bbpForms:{forms:[],init:function(a){b("#editor-buttons-css").remove();var f=this,e={form:a[0],errors:[],strict:!1,$form:a,$inputs:a.find("input, select"),$validate:a.find(".validate input, .validate select, .validate textarea"),$submit:a.find('button[type="submit"]'),$errors:a.find(".alert")};f.forms.push(e),f.bindHandlers(e)},bindHandlers:function(d){var c=this;d.$form.on("submit",function(a){return a.preventDefault(),site.mixForms.validate(d)?c.post(d):d.strict||site.mixForms.enableStrict(d),!1})},post:function(c){c.form.submit()}},mixForms:{forms:[],stripeResponse:!1,init:function(a){var f=this,e={form:a[0],errors:[],strict:!1,posting:!1,method:b("#Method").val(),$form:a,$infos:a.find(".info"),$inputs:a.find("input, select"),$validate:a.find(".validate input, .validate select"),$submit:a.find('button[type="submit"]'),$errors:a.find(".alert"),$confirmation:b("section.confirmation")};f.forms.push(e),f.bindHandlers(e)},bindHandlers:function(a){var d=this;a.$infos.on("click",".close",function(){b(this).parent().fadeOut()}),a.$form.on("submit",function(c){return c.preventDefault(),d.validate(a)&&!a.posting?"mix_checkout"===a.method?d.getStripeData(a):d.post(a):a.strict||d.enableStrict(a),!1})},enableStrict:function(d){var c=this;d.strict=!0,d.$validate.on("keyup",function(){c.validate(d)}),d.$validate.filter('[type="checkbox"], select').on("change",function(){c.validate(d)})},validate:function(z){var y=this,x=function(d){var c=/\S+@\S+\.\S+/;return c.test(d)},w=function(h){if(!h){return !1}if(/[^0-9-\s]+/.test(h)){return !1}var g=0,l=0,k=!1;h=h.replace(/\D/g,"");for(var j=h.length-1;j>=0;j--){var i=h.charAt(j),l=parseInt(i,10);k&&(l*=2)>9&&(l-=9),g+=l,k=!k}return g%10===0};z.errors=[];for(var v=0;v<z.$validate.length;v++){var u=z.$validate.eq(v),t=u[0],s=u.closest(".field"),r=s.attr("data-msg"),q=t.value,p=function(a,d){a?s.removeClass("invalid"):(z.errors.indexOf(d)<0&&z.errors.push(d),s.addClass("invalid"))};if(s.hasClass("required-text")){var o=s.hasClass("products")?"You don&apos;t have any products in your cart.":"Please fill out all required fields.";p(q.length,o)}if(s.hasClass("email")&&p(x(q),"Please enter a valid email address."),s.hasClass("password")&&p(q.length>=7,"Passwords must be at least 7 characters long."),s.hasClass("new-password")&&p(q.length>=7||!q.length,"Passwords must be at least 7 characters long."),s.hasClass("confirm-password")){var n=z.$validate.filter('[name="user_password"]').val();p(q===n,"Passwords do not match.")}s.hasClass("cc-no")&&p(w(q),"Please enter a valid credit card number."),s.hasClass("required-check")&&p(u.is(":checked"),r),s.hasClass("required-dropdown")&&p(q.length,"Please fill out all required fields.")}return z.errors.length?(y.showErrors(z),!1):(y.hideErrors(z),!0)},showErrors:function(f){for(var e="",h=0;h<f.errors.length;h++){var g=f.errors[h];e+="<span>"+g+"</span>"}f.$errors.html(e).finish().fadeIn()},hideErrors:function(a){a.$errors.fadeOut(function(){a.errors.length||b(this).empty()})},getStripeData:function(h){var g=this,l=h.$form.find('input[name="cc_no"]').val(),k=h.$form.find('select[name="cc_yr"]').val(),j=h.$form.find('select[name="cc_mo"]').val(),i=h.$form.find('input[name="cc_cvc"]').val();site.loader.show(),Stripe.card.createToken({number:l,cvc:i,exp_month:j,exp_year:k},function(e,a){g.stripeResponse=a,g.stripeResponse.error?(h.errors.push(g.stripeResponse.error.message),g.handleServerErrors(h),site.analytics.pushEvent("Transaction","Stripe Error",g.stripeResponse.error.message)):g.post(h)})},post:function(a){var j=this,i={action:"mixitup_members",nonce:mixitupAjax.ajaxNonce};a.posting=!0;for(var h=0;h<a.$inputs.length;h++){var g=a.$inputs[h];i[g.name]=g.value}j.stripeResponse&&(b.extend(i,{fingerprint:j.stripeResponse.card.fingerprint,token:j.stripeResponse.id,type:j.stripeResponse.card.type}),delete i.cc_no,delete i.cc_yr,delete i.cc_mo,delete i.cc_cvc),a.$submit.attr("disabled",!0),a.$form.addClass("disabled"),site.loader.loop||site.loader.show(),b.post(mixitupAjax.ajaxURL,i,function(c){c.success?j.handleServerSuccess(a,c):j.handleServerErrors(a,c),a.posting=!1},"json")},handleServerSuccess:function(a,d){site.loader.hide(),"login_successful"===d.success.type?"self"===d.redirect?window.location.reload():window.location.href=window.location.protocol+"//"+location.host:"registration_successful"===d.success.type?window.location.href=window.location.protocol+"//"+location.host+"#welcome":"checkout_successful"===d.success.type?(site.cartManager.contents=[],site.cartManager.setCart(),a.$form[0].reset(),b("section").hide(),b("#TransactionID").text(d.success.transaction_id),a.$confirmation.fadeIn(),site.analytics.pushEvent("Transaction","Success",d.success.transaction_id)):"account_update_successful"===d.success.type?(a.$validate.filter("[type=password]").each(function(){this.value=""}),site.modal.alert("<span>Your account was updated successfully.</span>")):"help_email_sent"===d.success.type?site.modal.alert("<span>You have been sent an email with instructions about to reset your password.</span>"):"reset_email_sent"===d.success.type?site.modal.alert("<span>Your password has been reset succesfully.</span> <span>You have been sent an email containing your new password.</span>"):"sign_up_successful"===d.success.type&&(site.modal.$content.find("form").hide(),site.modal.$content.find(".thankyou").fadeIn())},handleServerErrors:function(i,h){for(var n=this,m=0;h&&m<h.errors.length;m++){var l=h.errors[m],k=l.name,j=l.message;i.$inputs.filter('[name="'+k+'"]').parent().addClass("invalid"),i.errors.indexOf(j)<0&&i.errors.push(j),"gravity_forms_error"===l.type?site.analytics.pushEvent("Transaction","Server Error",""):"payment_error"===l.type&&site.analytics.pushEvent("Transaction","Stripe Error (Server-side)","")}n.showErrors(i),site.loader.hide(),i.$form.removeClass("disabled"),i.$submit.removeAttr("disabled"),n.enableStrict(i)}},addToCart:{adding:!1,init:function(){var c=this;c.$addToCart=site.$addToCart,c.bindHandlers()},bindHandlers:function(){var c=this;c.$addToCart.on("click",function(){c.adding||c.add(this)})},add:function(a){var j=this,i=b(a),h=i.attr("data-product"),g={action:"mixitup_members",nonce:mixitupAjax.ajaxNonce,method:"mix_get_product_data",slug:h};j.adding=!0,site.loader.show(),b.post(mixitupAjax.ajaxURL,g,function(c){if(c.success){for(var m=b.parseJSON(c.success.product_data),l=!1,k=0;k<site.cartManager.contents.length&&!l;k++){var d=site.cartManager.contents[k];d.slug===m.slug&&(l=!0,site.loader.hide(),site.modal.alert("<span>Product already in cart.</span>",!0)),d.slug.indexOf("commercial")>-1&&m.slug.indexOf("commercial")>-1&&(l=!0,site.loader.hide(),site.modal.alert("<span>Please choose either a single-developer or multi-developer license.</span>"))}l||(site.loader.hide(),site.cartManager.contents.push(m),site.cartManager.setCart(),i.attr("disabled",!0).text("In Cart").siblings().fadeIn(),site.analytics.pushEvent("Transaction","Add To Cart",m.slug))}else{site.modal.alert("<span>Product not found.</span>",!0),site.analytics.pushEvent("Transaction","Product not found",JSON.stringify(c))}j.adding=!1},"json")}},cartManager:{contents:[],example:[{slug:"commercial_single",name:"Single-developer Commercial License",price:"19",type:"license",gfId:5},{slug:"commercial_multi",name:"Multi-developer Commercial License",price:"49",type:"license",gfId:6}],init:function(){var c=this;c.$cartLink=site.$cartLink,c.getCart()},getCart:function(){var a=this,h=(document.cookie,function(c){return c.replace(/^\s+|\s+$/gm,"")}),g=function(i){for(var c=i+"=",l=document.cookie.split(";"),k=0;k<l.length;k++){var j=h(l[k]);if(0===j.indexOf(c)){return j.substring(c.length,j.length)}}return""},f=g("mix_cart");a.contents=f?b.parseJSON(f):[],a.render()},setCart:function(){var e=this,d=function(g){var c=new Date;return c.setTime(c.getTime()+24*g*60*60*1000),"expires="+c.toGMTString()},f=d(14);document.cookie="mix_cart="+JSON.stringify(e.contents)+";path=/;"+f,e.render()},render:function(){var d=this,c=d.contents.length?d.contents.length:0;d.$cartLink.find("span").text(c),c?d.$cartLink.addClass("show"):d.$cartLink.removeClass("show")}},cart:{filterString:":not(.info, .remove)",total:0,products:"",init:function(){var a=this;a.$cart=site.$cart,a.$items=a.$cart.find,a.$total=b("#Total"),a.$productsField=b("#Products"),site.loader.show(),a.$cart.mixItUp({animation:{effects:"fade",duration:400},selectors:{target:"div"},layout:{display:"block"},load:{filter:a.filterString},callbacks:{onMixEnd:function(c){a.showCta(c),a.updateTotal(c),site.loader.hide()}}}),a.bindHandlers()},bindHandlers:function(){var a=this;a.$cart.on("click",".close",function(){for(var l=b(this).closest(".item").addClass("remove"),k=l.attr("data-name").split("|"),j=k[0],i=0;i<site.cartManager.contents.length;i++){var h=site.cartManager.contents[i];h.slug===j&&site.cartManager.contents.splice(i,1),site.cartManager.setCart()}a.$cart.mixItUp("filter",a.filterString),site.analytics.pushEvent("Transaction","Remove from Cart",j)})},showCta:function(h){var g=this,l=h.$show.filter(".license"),k=h.$show.filter(".extension"),j=h.$show.filter(".cta-licenses"),i=h.$show.filter(".cta-extensions");!l.length&&!j.length&&(g.filterString+=", .cta-licenses"),!k.length&&!i.length&&(g.filterString+=", .cta-extensions"),(!l.length&&!j.length||!k.length&&!i.length)&&g.$cart.mixItUp("filter",g.filterString)},updateTotal:function(a){var p=this;p.total=0,p.products="",$items=a.$show.filter(".item");for(var o,n=0;o=$items[n];n++){var m=b(o),l=1*m.attr("data-price"),k=m.attr("data-name"),j=n===$items.length-1?"":", ";p.total+=l,p.products+=k+j}p.$total.text("$"+p.total+".00 USD"),p.$productsField.length&&(p.$productsField[0].value=p.products)}},tutsGrid:{init:function(){var a=this;a.$search=b("#SearchTuts"),a.$targets=site.$tutsGrid.find(".item"),a.$form=site.$tutsGrid.find("form"),a.sort="order:desc",site.$tutsGrid.mixItUp({pagination:{limit:8,generatePagers:!0,pagerClass:"btn"},load:{sort:a.sort},callbacks:{onMixEnd:function(c){a.sort=c.activeSort}}}),a.bindHandlers()},bindHandlers:function(){var a=this,d=null;a.$search.on({keydown:function(){clearTimeout(d)},keyup:function(){var c=b(this).val().toLowerCase();clearTimeout(d),d=setTimeout(function(){a.search(c)},500)}}),a.$form.on("submit",function(c){c.preventDefault()})},search:function(a){var l=this,k=b();if(a.length>2){for(var j=0;j<l.$targets.length;j++){var i=l.$targets[j].children[0].innerHTML.toLowerCase(),h=l.$targets[j].children[1].innerHTML.toLowerCase();(i.indexOf(a)>-1||h.indexOf(a)>-1)&&(k=k.add(l.$targets[j]))}site.$tutsGrid.mixItUp("filter",k)}else{site.$tutsGrid.mixItUp("filter","all")}}},slider:{init:function(H){var G=H.find(".scrubber"),F=parseFloat(G.data("value")),E=parseFloat(H.data("min")),D=parseFloat(H.data("max")),C=H.data("unit"),B=D-E,A=(F-E)/B*100,z=H.closest(".effect"),y=z.data("effect"),x=H.width(),w=null,v=null,u=null,t=null,s=null,r=function(d){var c=site.platform.touch?d.originalEvent.touches[0]||d.originalEvent.changedTouches[0]||d:d;return c};G.css("left",A+"%"),G.on("mousedown touchstart",function(c){z.hasClass("active")&&(c.preventDefault(),c=r(c),G.addClass("down"),w=c.pageX,site.$window.on({"mousemove.scrub touchmove.scrub":function(d){d=r(d),v=d.pageX,u=v-w,t=u/x*100,s=1*(A+t).toFixed(),s=0>s?0:s>100?100:s,G.css("left",s+"%"),F=B*(s/100)+E,F=(1000*F).toFixed()/1000,F="scale"===y?parseFloat(Math.round(100*F)/100).toFixed(2):1*F.toFixed(),G.attr("data-value",F+C)},"mouseup.scrub touchend.scrub":function(){site.$window.off(".scrub"),G.removeClass("down"),A=s,"duration"!==y?(site.sandBox.removeEffect(y),site.sandBox.addEffect(y+"("+F+C+")"),site.sandBox.liveConfig()):site.sandBox.liveDur(F)}}))})}},downloadLinks:{loading:!1,init:function(){var c=this;c.$downloadLinks=site.$downloadLinks,c.bindHandlers()},bindHandlers:function(){var a=this;a.$downloadLinks.on("click",function(){var f=b(this),e=f.attr("data-repo");a.loading||a.getFile(e)})},getFile:function(a){var f=this,e={action:"mixitup_members",nonce:mixitupAjax.ajaxNonce,method:"mix_get_extension",repo_name:a};f.loading=!0,site.loader.show(),b.post(mixitupAjax.ajaxURL,e,function(c){c.success?(f.loading=!1,site.loader.hide(),site.analytics.pushEvent("Download","ZipBall",c.success.file_path),window.location=c.success.file_path):(site.loader.hide(),site.modal.alert("<span>File not found.</span>"))},"json")}},manageSubscribe:{action:null,topicId:null,posting:!1,init:function(){var c=this;c.$button=site.$subscribeLink,c.bindHandlers()},bindHandlers:function(){var c=this;c.$button.on("click",function(){c.posting||(c.posting=!0,site.loader.show(),c.action=c.$button.attr("data-action"),c.topicId=c.$button.attr("data-topic-id"),c.post())})},post:function(){var a=this,d={action:"mixitup_members",method:"mix_subscriptions",nonce:mixitupAjax.ajaxNonce,subscribe_action:a.action,topic_id:a.topicId};b.post(mixitupAjax.ajaxURL,d,function(c){c.success&&(a.posting=!1,site.loader.hide(),window.location.reload())},"json")}},shareLinks:{init:function(){var c=this;c.$links=site.$shareLinks.children(),c.bindHandlers()},bindHandlers:function(){var c=this;c.$links.on("click",function(e){e.preventDefault();var d=this.href;return window.open(d,"","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600"),site.analytics.pushEvent("Social Media","Share",d),!1})}},downloadIntercepts:{init:function(){var c=this;c.$links=site.$downloadIntercepts,c.bindHandlers()},bindHandlers:function(){var c=this;c.$links.on("click",function(e){e.preventDefault(),site.modal.interceptDownload();var d=this.href,f="https://github.com/patrickkunka/mixitup/archive/master.zip";return delay=setTimeout(function(){window.location=f},3000),site.analytics.pushEvent("Download","ZipBall",d),!1})}},modal:{init:function(){var a=this;a.$modalWrapper=b("#ModalWrapper"),a.$modal=b("#Modal"),a.$close=b("#Close"),a.$content=b("#ModalContent"),a.$modalWrapper.mixItUp({controls:{enable:!1},selectors:{target:".modal"},layout:{display:"block"},load:{filter:"none"},animation:{duration:300,effects:"fade translateZ(-50px) translateY(-16%)",easing:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",queue:!0}}),a.bindHandlers()},alert:function(f,e){var h=this,g=e?"info alert":"info";h.$content.children().hide(),h.$content.find(".message").show().html('<div class="'+g+'">'+f+"</div>"),h.show()},interceptDownload:function(){var c=this;c.$content.children().hide(),c.$content.find(".intercept").show(),c.show()},bindHandlers:function(){var c=this;c.$close.on("click",function(){c.hide()})},show:function(){var c=this;c.$modalWrapper.show().mixItUp("filter","all")},hide:function(){var c=this;c.$modalWrapper.mixItUp("filter","none",function(){c.$modalWrapper.hide()})}},loader:{loop:!1,init:function(){var a=this;a.$loaderWrapper=b("#LoaderWrapper"),a.$loaderWrapper.mixItUp({controls:{enable:!1},selectors:{target:"i"},load:{filter:"none"},animation:{queue:!0,queueLength:10,duration:"200",effects:"fade scale stagger",easing:"cubic-bezier(0.6, -0.28, 0.735, 0.045)"}})},show:function(){var f=this,e=function(){f.$loaderWrapper.mixItUp("filter","none",function(){f.loop?h():g()})},h=function(){f.$loaderWrapper.mixItUp("filter","all",function(){e()})},g=function(){f.$loaderWrapper.fadeOut(200)};f.loop=!0,f.$loaderWrapper.fadeIn(200,function(){f.$loaderWrapper.mixItUp("filter","all",function(){e()})})},hide:function(){var c=this;c.loop=!1}},analytics:{init:function(){var a=this;a.$outBound=b("a.outbound"),a.bindHandlers()},bindHandlers:function(){var a=this;a.$outBound.on("click",function(h){h.preventDefault();var g=this.href,f=b(this);return f.hasClass("zip")?a.pushEvent("Download","ZipBall",g):a.pushEvent("External Link","GitHub",g),setTimeout(function(){window.location=g},100),!1})},pushEvent:function(e,d,f){"undefined"!=typeof _gaq&&_gaq.push(["_trackEvent",e,d,f])}}}),b.fn.serializeObject=function(){var a={},d=this.serializeArray();return b.each(d,function(){void 0!==a[this.name]?(a[this.name].push||(a[this.name]=[a[this.name]]),a[this.name].push(this.value||"")):a[this.name]=this.value||""}),a},b(function(){site.init()})}(jQuery);