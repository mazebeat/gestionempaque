$(function(){$(".form-wizard").steps({bodyTag:"section",onStepChanging:function(f,c,d){if(c>d){return true}if(d===3&&Number($("#age").val())<18){return false}var e=$(this);if(c<d){$(".body:eq("+d+") label.error",e).remove();$(".body:eq("+d+") .error",e).removeClass("error")}e.validate().settings.ignore=":disabled,:hidden";return e.valid()},onStepChanged:function(d,c,e){if(c===2&&Number($("#age").val())>=18){$(this).steps("next")}if(c===2&&e===3){$(this).steps("previous")}},onFinishing:function(e,c){var d=$(this);d.validate().settings.ignore=":disabled";return d.valid()},onFinished:function(e,c){var d=$(this);d.submit()}}).validate({errorPlacement:function(c,d){d.before(c)},rules:{confirm:{equalTo:"#password"}}});$.fn.wizard.logging=true;var b=$("#satellite-wizard").wizard({keyboard:false,contentHeight:400,contentWidth:700,backdrop:"static"});$("#fqdn").on("input",function(){if($(this).val().length!=0){$("#ip").val("").attr("disabled","disabled");$("#fqdn, #ip").parents(".form-group").removeClass("has-error has-success")}else{$("#ip").val("").removeAttr("disabled")}});var a=/\b(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\b/;x=46;$("#ip").on("input",function(){if($(this).val().length!=0){$("#fqdn").val("").attr("disabled","disabled")}else{$("#fqdn").val("").removeAttr("disabled")}}).keypress(function(c){if(c.which!=8&&c.which!=0&&c.which!=x&&(c.which<48||c.which>57)){console.log(c.which);return false}}).keyup(function(){var d=$(this);if(!a.test(d.val())){console.log("Not Valid IP");d.parents(".form-group").removeClass("has-error has-success").addClass("has-error");while(d.val().indexOf("..")!==-1){d.val(d.val().replace("..","."))}x=46}else{x=0;var c=d.val().substr(d.val().length-1);if(c=="."){d.val(d.val().slice(0,-1))}var e=d.val().split(".");if(e.length==4){console.log("Valid IP");d.parents(".form-group").removeClass("has-error").addClass("has-success")}}});b.on("closed",function(){b.reset()});b.on("reset",function(){b.modal.find(":input").val("").removeAttr("disabled");b.modal.find(".form-group").removeClass("has-error").removeClass("has-succes");b.modal.find("#fqdn").data("is-valid",0).data("lookup",0)});b.on("submit",function(d){var c={hostname:$("#new-server-fqdn").val()};this.log("seralize()");this.log(this.serialize());this.log("serializeArray()");this.log(this.serializeArray());setTimeout(function(){d.trigger("success");d.hideButtons();d._submitting=false;d.showSubmitCard("success");d.updateProgressBar(0)},2000)});b.el.find(".wizard-success .im-done").click(function(){b.hide();setTimeout(function(){b.reset()},250)});b.el.find(".wizard-success .create-another-server").click(function(){b.reset()});$(".wizard-group-list").click(function(){alert("Disabled for demo.")});$("#open-wizard").click(function(c){c.preventDefault();b.show()})});function validateServerLabel(b){var a=b.val();var c={};if(a==""){c.status=false;c.msg="Please enter a label"}else{c.status=true}return c}function validateFQDN(a){var b=$(a);var c={};if(b.is(":disabled")){c.status=true}else{if(b.data("lookup")===0){c.status=false;c.msg="Preform lookup first"}else{if(b.data("is-valid")===0){c.status=false;c.msg="Lookup Failed"}else{c.status=true}}}return c}function lookup(){$("#fqdn").data("lookup",1);$("#fqdn").data("is-valid",1);$("#ip").val("127.0.0.1")};