/*!
 * jQuery plug-in to implement an accordion wizard based on bootstrap
 * Original author: @stephen_thomas
 * Plugin Boilerplate: http://coding.smashingmagazine.com/2011/10/11/essential-jquery-plugin-patterns/
 * Additional Boilerplate: http://f6design.com/journal/2012/05/06/a-jquery-plugin-boilerplate/
 * Comments from boilerplate sources retained
 * Licensed under the MIT license
 */
(function(e,c,a,f){var d="accwizard";function b(j,p){var g=j,o=e(j),i;p=e.extend({},e.fn[d].defaults,p);function h(q){if(q&&q.length>1){e(p.sidebar,o).children("li").children("a[href='"+q+"']").parent("li").addClass(p.activeClass);e(p.sidebar,o).children("li").children("a[href!='"+q+"']").parent("li").removeClass(p.activeClass)}}function n(){if(p.addButtons){var w=e("<div/>",{"class":p.stepClass}).append(e("<button/>",{"class":p.nextClasses,type:p.nextType,text:p.nextText}));var v=e("<div/>",{"class":p.stepClass}).append(e("<button/>",{"class":p.backClasses,type:p.backType,text:p.backText})).append(" ").append(e("<button/>",{"class":p.nextClasses,type:p.nextType,text:p.nextText}));var q=e("<div/>",{"class":p.stepClass}).append(e("<button/>",{"class":p.backClasses,type:p.backType,text:p.backText}));var s=e(".panel-collapse .panel-body form",o);var u=s.length;for(var r=0;r<u;r++){if(r===0){e(s[0]).append(w)}else{if(r===(u-1)){e(s[u-1]).append(q)}else{e(s[r]).append(e(v).clone())}}}}if(p.autoScrolling){i=c.location.hash}i=i||e(p.sidebar,o).children("li."+p.todoClass+":first").children("a").attr("href")||e(p.sidebar,o).children("li:first").children("a").attr("href");if(p.autoScrolling){c.location.hash=i}var t="#"+e(".panel-group",o)[0].id;e(".collapse",o).each(function(){if(("#"+this.id)===i){if(e(this).hasClass("in")){e(this).collapse({parent:t,toggle:false})}else{e(this).collapse({parent:t,toggle:true})}}else{if(e(this).hasClass("in")){e(this).collapse({parent:t,toggle:true})}else{e(this).collapse({parent:t,toggle:false})}}});h(i);if(p.autoScrolling){e(c).bind("hashchange",function(){if(i!==c.location.hash){i=c.location.hash;e(".panel-collapse"+i,o).collapse("show");h(i)}})}e(".panel-title a").on("click",function(){i=e(this).attr("href");h(i);if(p.autoScrolling){c.location.hash=i}});if(p.addButtons){e("."+p.stepClass,o).children("button[type='"+p.nextType+"']").click(function(z){z.preventDefault();var x=e(this).parents(".panel-collapse")[0];l("beforeNext",x);var y="#"+e(".panel-collapse",e(x).parents(".panel").next(".panel")[0])[0].id;e(y).collapse("show");l("onNext",x);i=y;h(i);c.location.hash=i});e("."+p.stepClass,o).children("button[type='"+p.backType+"']").click(function(z){z.preventDefault();var x=e(this).parents(".panel-collapse")[0];l("beforeBack",x);var y="#"+e(".panel-collapse",e(x).parents(".panel").prev(".panel")[0])[0].id;e(y).collapse("show");l("onBack",x);i=y;h(i);c.location.hash=i})}l("onInit")}function k(q,r){if(r){p[q]=r}else{return p[q]}}function m(){l("onDestroy")}function l(q){if(p[q]!==f){var r=p[q];arguments[0]=g;return r.apply(this,arguments)}}n();return{option:k,destroy:m}}e.fn[d]=function(i){if(typeof arguments[0]==="string"){var g=arguments[0];var h=Array.prototype.slice.call(arguments,1);var j;this.each(function(){if(e.data(this,"plugin_"+d)&&typeof e.data(this,"plugin_"+d)[g]==="function"){j=e.data(this,"plugin_"+d)[g].apply(this,h)}else{throw new Error("Method "+g+" does not exist on jQuery."+d)}});if(j!==f){return j}else{return this}}else{if(typeof i==="object"||!i){return this.each(function(){if(!e.data(this,"plugin_"+d)){e.data(this,"plugin_"+d,new b(this,i))}})}}};e.fn[d].defaults={addButtons:true,sidebar:".acc-wizard-sidebar",activeClass:"acc-wizard-active",completedClass:"acc-wizard-completed",todoClass:"acc-wizard-todo",stepClass:"acc-wizard-step",nextText:"Next Step",backText:"Go Back",nextType:"submit",backType:"reset",nextClasses:"btn btn-primary",backClasses:"btn",autoScrolling:true,onNext:function(){},onBack:function(){},onInit:function(){},onDestroy:function(){}}})(jQuery,window,document);