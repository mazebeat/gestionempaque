/*!===
 *  jQuery Color Picker Sliders
 *  v4.1.7
 *
 *  An advanced responsive color selector with color swatches and support for
 *  human perceived lightness. Works in all modern browsers and on touch devices.
 *
 *      https://github.com/istvan-ujjmeszaros/jquery-colorpickersliders
 *      http://virtuosoft.eu/code/jquery-colorpickersliders/
 *
 *  Copyright 2013 István Ujj-Mészáros
 *
 *  Thanks for the contributors:
 *      imaguiraga - https://github.com/imaguiraga
 *      balmasich - https://github.com/balmasich
 *
 *  Licensed under the Apache License, Version 2.0 (the "License");
 *  you may not use this file except in compliance with the License.
 *  You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an "AS IS" BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License.
 *
 *  Requirements:
 *
 *      TinyColor: https://github.com/bgrins/TinyColor
 *
 *  Using color math algorithms from EasyRGB Web site:
 *      http://www.easyrgb.com/index.php?X=MATH
 *  */
(function(a){a.fn.ColorPickerSliders=function(b){return this.each(function(){var n=false,V,L=a(this),R=L.is("input"),G,h,d,J=false,j=101,I=false,M=0,E={tiny:null,hsla:null,rgba:null,cielch:null},c=144;U();function U(){if(n){return}n=true;J=a.fn.ColorPickerSliders.detectWhichGradientIsSupported();if(J==="filter"){J=false}if(!J&&a.fn.ColorPickerSliders.svgSupported()){J="svg"}S();if((!V.order.hasOwnProperty("preview")||V.order.preview===false)&&!J){V.order.preview=10}K();g();if(R){E.tiny=tinycolor(L.val());if(!E.tiny.format){E.tiny=tinycolor(V.color)}}else{E.tiny=tinycolor(V.color)}E.hsla=E.tiny.toHsl();E.rgba=E.tiny.toRgb();E.cielch=a.fn.ColorPickerSliders.rgb2lch(E.rgba);f();y();F()}function r(ab,aa){var Z=tinycolor(ab);if(Z.format){G.removeClass("cp-unconvertible-cie-color");E.tiny=Z;E.hsla=Z.toHsl();E.rgba=Z.toRgb();E.cielch=a.fn.ColorPickerSliders.rgb2lch(E.rgba);F(aa);return true}else{return false}}function l(){G.data("justshown",true);a(".cp-container.cp-popup").hide();var Z=a(window).width(),ab=L.offset(),aa;aa=G.data("popup-original-width");if(typeof aa==="undefined"){aa=G.outerWidth();G.data("popup-original-width",aa)}if(ab.left+aa+12<=Z){G.css("left",ab.left).width(aa)}else{if(aa<=Z){G.css("left",Z-aa-12).width(aa)}else{G.css("left",0).width(Z-12)}}G.css("top",ab.top+L.outerHeight()).show()}function p(){G.hide()}function S(){V=a.extend({color:"hsl(342, 52%, 70%)",preventtouchkeyboardonshow:true,swatches:["FFFFFF","C0C0C0","808080","000000","FF0000","800000","FFFF00","808000","00FF00","008000","00FFFF","008080","0000FF","000080","FF00FF","800080"],customswatches:"colorpickkersliders",connectedinput:false,flat:false,disableautopopup:false,updateinterval:30,previewontriggerelement:true,previewcontrasttreshold:15,previewformat:"rgb",erroneousciecolormarkers:true,invalidcolorsopacity:1,finercierangeedges:true,titleswatchesadd:"Add color to swatches",titleswatchesremove:"Remove color from swatches",titleswatchesreset:"Reset to default swatches",order:{},labels:{},onchange:function(){}},b);if(b.hasOwnProperty("order")){V.order=a.extend({opacity:false,hsl:false,rgb:false,cie:false,preview:false},b.order)}else{V.order={opacity:0,hsl:1,rgb:2,cie:3,preview:4}}if(!b.hasOwnProperty("labels")){b.labels={}}V.labels=a.extend({hslhue:"HSL-Hue",hslsaturation:"HSL-Saturation",hsllightness:"HSL-Lightness",rgbred:"RGB-Red",rgbgreen:"RGB-Green",rgbblue:"RGB-Blue",cielightness:"CIE-Lightness",ciechroma:"CIE-Chroma",ciehue:"CIE-hue",opacity:"Opacity",preview:"Preview"},b.labels)}function K(){var aa=[],ab="";if(V.order.opacity!==false){aa[V.order.opacity]='<div class="cp-slider cp-opacity cp-transparency"><span>'+V.labels.opacity+'</span><div class="cp-marker"></div></div>'}if(V.order.hsl!==false){aa[V.order.hsl]='<div class="cp-slider cp-hslhue cp-transparency"><span>'+V.labels.hslhue+'</span><div class="cp-marker"></div></div><div class="cp-slider cp-hslsaturation cp-transparency"><span>'+V.labels.hslsaturation+'</span><div class="cp-marker"></div></div><div class="cp-slider cp-hsllightness cp-transparency"><span>'+V.labels.hsllightness+'</span><div class="cp-marker"></div></div>'}if(V.order.rgb!==false){aa[V.order.rgb]='<div class="cp-slider cp-rgbred cp-transparency"><span>'+V.labels.rgbred+'</span><div class="cp-marker"></div></div><div class="cp-slider cp-rgbgreen cp-transparency"><span>'+V.labels.rgbgreen+'</span><div class="cp-marker"></div></div><div class="cp-slider cp-rgbblue cp-transparency"><span>'+V.labels.rgbblue+'</span><div class="cp-marker"></div></div>'}if(V.order.cie!==false){aa[V.order.cie]='<div class="cp-slider cp-cielightness cp-transparency"><span>'+V.labels.cielightness+'</span><div class="cp-marker"></div></div><div class="cp-slider cp-ciechroma cp-transparency"><span>'+V.labels.ciechroma+'</span><div class="cp-marker"></div></div><div class="cp-slider cp-ciehue cp-transparency"><span>'+V.labels.ciehue+'</span><div class="cp-marker"></div></div>'}if(V.order.preview!==false){aa[V.order.preview]='<div class="cp-preview cp-transparency"><input type="text" readonly="readonly"></div>'}ab+='<div class="cp-sliders">';for(var Z=0;Z<aa.length;Z++){if(typeof aa[Z]==="undefined"){continue}ab+=aa[Z]}ab+="</div>";if(V.swatches){ab+='<div class="cp-swatches"><button type="button" class="add" title="'+V.titleswatchesadd+'"></button><button type="button" class="remove" title="'+V.titleswatchesremove+'"></button><button type="button" class="reset" title="'+V.titleswatchesreset+'"></button><ul></ul><div style="clear:both"></div></div>'}if(V.flat){if(R){G=a('<div class="cp-container"></div>').insertAfter(L)}else{G=a('<div class="cp-container"></div>');L.append(G)}}else{G=a('<div class="cp-container"></div>').appendTo("body")}G.append(ab);if(V.connectedinput instanceof jQuery){V.connectedinput.add(L)}else{if(V.connectedinput===false){V.connectedinput=L}else{V.connectedinput=a(V.connectedinput).add(L)}}if(!V.flat){G.addClass("cp-popup")}}function g(){h={connectedinput:false,actualswatch:false,swatchescontainer:a(".cp-swatches",G),swatches:a(".cp-swatches ul",G),swatches_add:a(".cp-swatches button.add",G),swatches_remove:a(".cp-swatches button.remove",G),swatches_reset:a(".cp-swatches button.reset",G),all_sliders:a(".cp-sliders, .cp-preview input",G),sliders:{hue:a(".cp-hslhue span",G),hue_marker:a(".cp-hslhue .cp-marker",G),saturation:a(".cp-hslsaturation span",G),saturation_marker:a(".cp-hslsaturation .cp-marker",G),lightness:a(".cp-hsllightness span",G),lightness_marker:a(".cp-hsllightness .cp-marker",G),opacity:a(".cp-opacity span",G),opacity_marker:a(".cp-opacity .cp-marker",G),red:a(".cp-rgbred span",G),red_marker:a(".cp-rgbred .cp-marker",G),green:a(".cp-rgbgreen span",G),green_marker:a(".cp-rgbgreen .cp-marker",G),blue:a(".cp-rgbblue span",G),blue_marker:a(".cp-rgbblue .cp-marker",G),cielightness:a(".cp-cielightness span",G),cielightness_marker:a(".cp-cielightness .cp-marker",G),ciechroma:a(".cp-ciechroma span",G),ciechroma_marker:a(".cp-ciechroma .cp-marker",G),ciehue:a(".cp-ciehue span",G),ciehue_marker:a(".cp-ciehue .cp-marker",G),preview:a(".cp-preview input",G)}};if(V.connectedinput){if(V.connectedinput instanceof jQuery){h.connectedinput=V.connectedinput}else{h.connectedinput=a(V.connectedinput)}}if(!V.customswatches){h.swatches_add.hide();h.swatches_remove.hide();h.swatches_reset.hide()}}function Y(){if(G instanceof jQuery){p();G.remove();n=false}}function B(){U()}function y(){L.on("colorpickersliders.destroy",function(){Y()});L.on("colorpickersliders.reset",function(){B()});L.on("colorpickersliders.updateColor",function(aa,Z){r(Z)});L.on("colorpickersliders.showPopup",function(){l()});L.on("colorpickersliders.hidePopup",function(){p()});a(document).on("colorpickersliders.changeswatches",function(){f()});if(!V.flat&&!V.disableautopopup){if(typeof L.attr("tabindex")==="undefined"){L.attr("tabindex",-1)}if(V.preventtouchkeyboardonshow){a(L).prop("readonly",true);a(L).on("click",function(Z){if(G.data("justshown")){G.data("justshown",false)}else{a(L).prop("readonly",false);Z.stopPropagation()}})}if(!R){a(L).on("click",function(Z){l();Z.stopPropagation()});a(document).on("click",function(){p()})}a(L).on("focus",function(Z){l();Z.stopPropagation()});a(L).on("blur",function(Z){p();if(V.preventtouchkeyboardonshow){a(L).prop("readonly",true)}Z.stopPropagation()});G.on("touchstart mousedown",function(Z){Z.preventDefault();Z.stopPropagation();return false})}G.on("contextmenu",function(Z){Z.preventDefault();return false});h.swatches.on("click","li span",function(aa){var Z=a(this).css("background-color");r(Z);aa.preventDefault()});h.swatches_add.on("click",function(Z){N();Z.preventDefault()});h.swatches_remove.on("click",function(Z){t();Z.preventDefault()});h.swatches_reset.on("click",function(Z){Q();Z.preventDefault()});h.sliders.hue.parent().on("touchstart mousedown",function(aa){aa.preventDefault();if(aa.which>1){return}I="hue";var Z=D(I,aa);P("hsla","h",3.6*Z);F()});h.sliders.saturation.parent().on("touchstart mousedown",function(aa){aa.preventDefault();if(aa.which>1){return}I="saturation";var Z=D(I,aa);P("hsla","s",Z/100);F()});h.sliders.lightness.parent().on("touchstart mousedown",function(aa){aa.preventDefault();if(aa.which>1){return}I="lightness";var Z=D(I,aa);P("hsla","l",Z/100);F()});h.sliders.opacity.parent().on("touchstart mousedown",function(aa){aa.preventDefault();if(aa.which>1){return}I="opacity";var Z=D(I,aa);P("hsla","a",Z/100);F()});h.sliders.red.parent().on("touchstart mousedown",function(aa){aa.preventDefault();if(aa.which>1){return}I="red";var Z=D(I,aa);P("rgba","r",2.55*Z);F()});h.sliders.green.parent().on("touchstart mousedown",function(aa){aa.preventDefault();if(aa.which>1){return}I="green";var Z=D(I,aa);P("rgba","g",2.55*Z);F()});h.sliders.blue.parent().on("touchstart mousedown",function(aa){aa.preventDefault();if(aa.which>1){return}I="blue";var Z=D(I,aa);P("rgba","b",2.55*Z);F()});h.sliders.cielightness.parent().on("touchstart mousedown",function(aa){aa.preventDefault();if(aa.which>1){return}I="cielightness";var Z=D(I,aa);P("cielch","l",(j/100)*Z);F()});h.sliders.ciechroma.parent().on("touchstart mousedown",function(aa){aa.preventDefault();if(aa.which>1){return}I="ciechroma";var Z=D(I,aa);P("cielch","c",(c/100)*Z);F()});h.sliders.ciehue.parent().on("touchstart mousedown",function(aa){aa.preventDefault();if(aa.which>1){return}I="ciehue";var Z=D(I,aa);P("cielch","h",3.6*Z);F()});h.sliders.preview.on("click",function(){this.select()});a(document).on("touchmove mousemove",function(aa){if(!I){return}var Z=D(I,aa);switch(I){case"hue":P("hsla","h",3.6*Z);break;case"saturation":P("hsla","s",Z/100);break;case"lightness":P("hsla","l",Z/100);break;case"opacity":P("hsla","a",Z/100);break;case"red":P("rgba","r",2.55*Z);break;case"green":P("rgba","g",2.55*Z);break;case"blue":P("rgba","b",2.55*Z);break;case"cielightness":P("cielch","l",(j/100)*Z);break;case"ciechroma":P("cielch","c",(c/100)*Z);break;case"ciehue":P("cielch","h",3.6*Z);break}F();aa.preventDefault()});a(document).on("touchend mouseup",function(Z){if(Z.which>1){return}if(I){I=false;Z.preventDefault()}});if(h.connectedinput){h.connectedinput.on("keyup change",function(){var Z=a(this);r(Z.val(),true)})}}function m(){d=[];for(var aa=0;aa<V.swatches.length;aa++){var Z=tinycolor(V.swatches[aa]);if(Z.format){d.push(Z.toRgbString())}}}function f(){if(!V.swatches){return}if(V.customswatches){var aa=false;try{aa=JSON.parse(localStorage.getItem("swatches-"+V.customswatches))}catch(ac){}if(aa){d=aa}else{m()}}else{m()}if(d instanceof Array){h.swatches.html("");for(var ab=0;ab<d.length;ab++){var Z=tinycolor(d[ab]);if(Z.format){h.swatches.append(a("<li></li>").append(a("<span></span>").css("background-color",Z.toRgbString())))}}}v()}function v(){var Z=false;a("span",h.swatches).filter(function(){var ab=a(this).css("background-color");ab=tinycolor(ab);ab.alpha=Math.round(ab.alpha*100)/100;if(ab.toRgbString()===E.tiny.toRgbString()){Z=true;var aa=a(this).parent();if(!aa.is(h.actualswatch)){if(h.actualswatch){h.actualswatch.removeClass("actual")}h.actualswatch=aa;aa.addClass("actual")}}});if(!Z){if(h.actualswatch){h.actualswatch.removeClass("actual");h.actualswatch=false}}if(h.actualswatch){h.swatches_add.prop("disabled",true);h.swatches_remove.prop("disabled",false)}else{h.swatches_add.prop("disabled",false);h.swatches_remove.prop("disabled",true)}}function i(){localStorage.setItem("swatches-"+V.customswatches,JSON.stringify(d))}function N(){d.unshift(E.tiny.toRgbString());i();a(document).trigger("colorpickersliders.changeswatches")}function t(){var Z=d.indexOf(E.tiny.toRgbString());if(Z!==-1){d.splice(Z,1);i();a(document).trigger("colorpickersliders.changeswatches")}}function Q(){if(confirm("Do you really want to reset the swatches? All customizations will be lost!")){m();i();a(document).trigger("colorpickersliders.changeswatches")}}function P(ab,aa,Z){switch(ab){case"hsla":E.hsla[aa]=Z;E.tiny=tinycolor({h:E.hsla.h,s:E.hsla.s,l:E.hsla.l,a:E.hsla.a});E.rgba=E.tiny.toRgb();E.cielch=a.fn.ColorPickerSliders.rgb2lch(E.rgba);G.removeClass("cp-unconvertible-cie-color");break;case"rgba":E.rgba[aa]=Z;E.tiny=tinycolor({r:E.rgba.r,g:E.rgba.g,b:E.rgba.b,a:E.hsla.a});E.hsla=E.tiny.toHsl();E.cielch=a.fn.ColorPickerSliders.rgb2lch(E.rgba);G.removeClass("cp-unconvertible-cie-color");break;case"cielch":E.cielch[aa]=Z;E.rgba=a.fn.ColorPickerSliders.lch2rgb(E.cielch);E.tiny=tinycolor(E.rgba);E.hsla=E.tiny.toHsl();if(V.erroneousciecolormarkers){if(E.rgba.isok){G.removeClass("cp-unconvertible-cie-color")}else{G.addClass("cp-unconvertible-cie-color")}}break}}function D(Z,ab){var aa=a.fn.ColorPickerSliders.calculateEventPositionPercentage(ab,h.sliders[Z]);h.sliders[Z+"_marker"].data("position",aa);return aa}var w;function A(Z){w=setTimeout(function(){F(Z)},V.updateinterval)}function F(Z){clearTimeout(w);Date.now=Date.now||function(){return +new Date};if(Date.now()-M<V.updateinterval){A(Z);return}if(typeof Z==="undefined"){Z=false}M=Date.now();if(V.order.opacity!==false){k()}if(V.order.hsl!==false){H();e();X()}if(V.order.rgb!==false){O();q();u()}if(V.order.cie!==false){o();W();C()}if(V.order.preview!==false){T()}if(!Z){s()}if((100-E.cielch.l)*E.cielch.a<V.previewcontrasttreshold){h.all_sliders.css("color","#000");if(R&&V.previewontriggerelement){L.css("background",E.tiny.toRgbString()).css("color","#000")}}else{h.all_sliders.css("color","#fff");if(R&&V.previewontriggerelement){L.css("background",E.tiny.toRgbString()).css("color","#fff")}}v();V.onchange(G,E);L.data("color",E)}function s(){if(h.connectedinput){h.connectedinput.each(function(aa,ab){var Z=a(ab),ac=Z.data("color-format")||V.previewformat;switch(ac){case"hex":Z.val(E.tiny.toHexString());break;case"hsl":Z.val(E.tiny.toHslString());break;case"rgb":default:Z.val(E.tiny.toRgbString());break}})}}function H(){z(h.sliders.hue,a.fn.ColorPickerSliders.getScaledGradientStops(E.hsla,"h",0,360,7));h.sliders.hue_marker.css("left",E.hsla.h/360*100+"%")}function e(){z(h.sliders.saturation,a.fn.ColorPickerSliders.getScaledGradientStops(E.hsla,"s",0,1,2));h.sliders.saturation_marker.css("left",E.hsla.s*100+"%")}function X(){z(h.sliders.lightness,a.fn.ColorPickerSliders.getScaledGradientStops(E.hsla,"l",0,1,3));h.sliders.lightness_marker.css("left",E.hsla.l*100+"%")}function k(){z(h.sliders.opacity,a.fn.ColorPickerSliders.getScaledGradientStops(E.hsla,"a",0,1,2));h.sliders.opacity_marker.css("left",E.hsla.a*100+"%")}function O(){z(h.sliders.red,a.fn.ColorPickerSliders.getScaledGradientStops(E.rgba,"r",0,255,2));h.sliders.red_marker.css("left",E.rgba.r/255*100+"%")}function q(){z(h.sliders.green,a.fn.ColorPickerSliders.getScaledGradientStops(E.rgba,"g",0,255,2));h.sliders.green_marker.css("left",E.rgba.g/255*100+"%")}function u(){z(h.sliders.blue,a.fn.ColorPickerSliders.getScaledGradientStops(E.rgba,"b",0,255,2));h.sliders.blue_marker.css("left",E.rgba.b/255*100+"%")}function x(Z,ae){if(V.invalidcolorsopacity===1||!V.finercierangeedges){return Z}Z.sort(function(ah,ag){return ah.position-ag.position});var af=[];for(var ad=1;ad<Z.length;ad++){if(Z[ad].isok!==Z[ad-1].isok){var ab=Math.round(Z[ad].position)-Math.round(Z[ad-1].position),aa=a.fn.ColorPickerSliders.getScaledGradientStops(Z[ad].rawcolor,ae,Z[ad-1].rawcolor[ae],Z[ad].rawcolor[ae],ab,V.invalidcolorsopacity,Z[ad-1].position,Z[ad].position);for(var ac=0;ac<aa.length;ac++){if(aa[ac].isok!==Z[ad-1].isok){af.push(aa[ac]);if(ac>0){af.push(aa[ac-1])}break}}}}return a.merge(af,Z)}function o(){var Z=a.fn.ColorPickerSliders.getScaledGradientStops(E.cielch,"l",0,100,10,V.invalidcolorsopacity);Z=x(Z,"l");z(h.sliders.cielightness,Z);h.sliders.cielightness_marker.css("left",E.cielch.l/j*100+"%")}function W(){var Z=a.fn.ColorPickerSliders.getScaledGradientStops(E.cielch,"c",0,c,5,V.invalidcolorsopacity);Z=x(Z,"c");z(h.sliders.ciechroma,Z);h.sliders.ciechroma_marker.css("left",E.cielch.c/c*100+"%")}function C(){var Z=a.fn.ColorPickerSliders.getScaledGradientStops(E.cielch,"h",0,360,28,V.invalidcolorsopacity);Z=x(Z,"h");z(h.sliders.ciehue,Z);h.sliders.ciehue_marker.css("left",E.cielch.h/360*100+"%")}function T(){h.sliders.preview.css("background",a.fn.ColorPickerSliders.csscolor(E.rgba));var Z;switch(V.previewformat){case"hex":Z=E.tiny.toHexString();break;case"hsl":Z=E.tiny.toHslString();break;case"rgb":default:Z=E.tiny.toRgbString();break}h.sliders.preview.val(Z)}function z(aa,Z){Z.sort(function(ac,ab){return ac.position-ab.position});switch(J){case"noprefix":a.fn.ColorPickerSliders.renderNoprefix(aa,Z);break;case"webkit":a.fn.ColorPickerSliders.renderWebkit(aa,Z);break;case"ms":a.fn.ColorPickerSliders.renderMs(aa,Z);break;case"svg":a.fn.ColorPickerSliders.renderSVG(aa,Z);break;case"oldwebkit":a.fn.ColorPickerSliders.renderOldwebkit(aa,Z);break}}})};a.fn.ColorPickerSliders.getEventCoordinates=function(b){if(typeof b.pageX!=="undefined"){return{pageX:b.originalEvent.pageX,pageY:b.originalEvent.pageY}}else{if(typeof b.originalEvent.touches!=="undefined"){return{pageX:b.originalEvent.touches[0].pageX,pageY:b.originalEvent.touches[0].pageY}}}};a.fn.ColorPickerSliders.calculateEventPositionPercentage=function(e,h){var g=a.fn.ColorPickerSliders.getEventCoordinates(e);var f=h.width(),b=g.pageX-h.offset().left;var d=b/f*100;if(d<0){d=0}if(d>100){d=100}return d};a.fn.ColorPickerSliders.getScaledGradientStops=function(e,c,r,o,n,j,k,m){if(typeof j==="undefined"){j=1}if(typeof k==="undefined"){k=0}if(typeof m==="undefined"){m=100}var l=[],p=o-r,d=true;for(var h=0;h<n;++h){var q=h/(n-1),g=a.fn.ColorPickerSliders.modifyColor(e,c,q*p+r),b;if(j<1){var f=a.fn.ColorPickerSliders.lch2rgb(g,j);d=f.isok;b=a.fn.ColorPickerSliders.csscolor(f,j)}else{b=a.fn.ColorPickerSliders.csscolor(g,j)}l[h]={color:tinycolor(b).toRgbString(),position:Math.round((q*(m-k)+k)*100)/100,isok:d,rawcolor:g}}return l};a.fn.ColorPickerSliders.getGradientStopsCSSString=function(b){var h="",g="",e="";for(var d=0;d<b.length;d++){var f=b[d];h+=","+f.color+" "+f.position+"%";g+=",color-stop("+f.position+"%,"+f.color+")";var c=tinycolor(f.color);e+='<stop stop-color="'+c.toHexString()+'" stop-opacity="'+c.toRgb().a+'" offset="'+f.position/100+'"/>'}return{noprefix:h,oldwebkit:g,svg:e}};a.fn.ColorPickerSliders.renderNoprefix=function(d,b){var c="linear-gradient(to right",e=a.fn.ColorPickerSliders.getGradientStopsCSSString(b).noprefix;c+=e+")";d.css("background-image",c)};a.fn.ColorPickerSliders.renderWebkit=function(d,b){var c="-webkit-linear-gradient(left",e=a.fn.ColorPickerSliders.getGradientStopsCSSString(b).noprefix;c+=e+")";d.css("background-image",c)};a.fn.ColorPickerSliders.renderOldwebkit=function(d,b){var c="-webkit-gradient(linear, 0% 0%, 100% 0%",e=a.fn.ColorPickerSliders.getGradientStopsCSSString(b).oldwebkit;c+=e+")";d.css("background-image",c)};a.fn.ColorPickerSliders.renderMs=function(d,b){var c="-ms-linear-gradient(to right",e=a.fn.ColorPickerSliders.getGradientStopsCSSString(b).noprefix;c+=e+")";d.css("background-image",c)};a.fn.ColorPickerSliders.renderSVG=function(e,b){var c="",d=a.fn.ColorPickerSliders.getGradientStopsCSSString(b).svg;c='<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 1 1" preserveAspectRatio="none"><linearGradient id="vsgg" gradientUnits="userSpaceOnUse" x1="0" y1="0" x2="100%" y2="0">';c+=d;c+='</linearGradient><rect x="0" y="0" width="1" height="1" fill="url(#vsgg)" /></svg>';c="url(data:image/svg+xml;base64,"+a.fn.ColorPickerSliders.base64encode(c)+")";e.css("background-image",c)};a.fn.ColorPickerSliders.base64encode=function(k){var f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var e,d,c,o,n,m,l,p,j=0,q=0,h="",g=[];if(!k){return k}do{e=k.charCodeAt(j++);d=k.charCodeAt(j++);c=k.charCodeAt(j++);p=e<<16|d<<8|c;o=p>>18&63;n=p>>12&63;m=p>>6&63;l=p&63;g[q++]=f.charAt(o)+f.charAt(n)+f.charAt(m)+f.charAt(l)}while(j<k.length);h=g.join("");var b=k.length%3;return(b?h.slice(0,b-3):h)+"===".slice(b||3)};a.fn.ColorPickerSliders.isGoodRgb=function(b){var d=258;var c=-1;if(b.r>d||b.g>d||b.b>d||b.r<c||b.g<c||b.b<c){return false}else{b.r=Math.min(255,b.r);b.g=Math.min(255,b.g);b.b=Math.min(255,b.b);b.r=Math.max(0,b.r);b.g=Math.max(0,b.g);b.b=Math.max(0,b.b);return true}};a.fn.ColorPickerSliders.rgb2lch=function(c){var b=a.fn.ColorPickerSliders.CIELab2CIELCH(a.fn.ColorPickerSliders.XYZ2CIELab(a.fn.ColorPickerSliders.rgb2XYZ(c)));if(c.hasOwnProperty("a")){b.a=c.a}return b};a.fn.ColorPickerSliders.lch2rgb=function(c,g){if(typeof g==="undefined"){g=1}var d=a.fn.ColorPickerSliders.XYZ2rgb(a.fn.ColorPickerSliders.CIELab2XYZ(a.fn.ColorPickerSliders.CIELCH2CIELab(c)));if(a.fn.ColorPickerSliders.isGoodRgb(d)){if(c.hasOwnProperty("a")){d.a=c.a}d.isok=true;return d}var e=a.extend({},c),f=e.c,h=-1,b=0;do{++b;e.c=h+((f-h)/2);d=a.fn.ColorPickerSliders.XYZ2rgb(a.fn.ColorPickerSliders.CIELab2XYZ(a.fn.ColorPickerSliders.CIELCH2CIELab(e)));if(a.fn.ColorPickerSliders.isGoodRgb(d)){h=e.c}else{f=e.c}}while(Math.abs(f-h)>0.9&&b<100);if(c.hasOwnProperty("a")){d.a=c.a}d.r=Math.max(0,d.r);d.g=Math.max(0,d.g);d.b=Math.max(0,d.b);d.r=Math.min(255,d.r);d.g=Math.min(255,d.g);d.b=Math.min(255,d.b);if(g<1){if(d.hasOwnProperty("a")){d.a=d.a*g}else{d.a=g}}d.isok=false;return d};a.fn.ColorPickerSliders.modifyColor=function(b,e,d){var c=a.extend({},b);if(!b.hasOwnProperty(e)){throw ("Missing color property: "+e)}c[e]=d;return c};a.fn.ColorPickerSliders.csscolor=function(c,d){if(typeof d==="undefined"){d=1}var e=false,b=a.extend({},c);if(b.hasOwnProperty("c")){b=a.fn.ColorPickerSliders.lch2rgb(b,d)}if(b.hasOwnProperty("h")){e="hsla("+b.h+","+b.s*100+"%,"+b.l*100+"%,"+b.a+")"}if(b.hasOwnProperty("r")){if(b.a<1){e="rgba("+Math.round(b.r)+","+Math.round(b.g)+","+Math.round(b.b)+","+b.a+")"}else{e="rgb("+Math.round(b.r)+","+Math.round(b.g)+","+Math.round(b.b)+")"}}return e};a.fn.ColorPickerSliders.rgb2XYZ=function(d){var h={};var f=(d.r/255);var e=(d.g/255);var c=(d.b/255);if(f>0.04045){f=Math.pow(((f+0.055)/1.055),2.4)}else{f=f/12.92}if(e>0.04045){e=Math.pow(((e+0.055)/1.055),2.4)}else{e=e/12.92}if(c>0.04045){c=Math.pow(((c+0.055)/1.055),2.4)}else{c=c/12.92}f=f*100;e=e*100;c=c*100;h.x=f*0.4124+e*0.3576+c*0.1805;h.y=f*0.2126+e*0.7152+c*0.0722;h.z=f*0.0193+e*0.1192+c*0.9505;return h};a.fn.ColorPickerSliders.XYZ2CIELab=function(f){var e={};var d=f.x/95.047;var c=f.y/100;var b=f.z/108.883;if(d>0.008856){d=Math.pow(d,0.333333333)}else{d=7.787*d+0.137931034}if(c>0.008856){c=Math.pow(c,0.333333333)}else{c=7.787*c+0.137931034}if(b>0.008856){b=Math.pow(b,0.333333333)}else{b=7.787*b+0.137931034}e.l=(116*c)-16;e.a=500*(d-c);e.b=200*(c-b);return e};a.fn.ColorPickerSliders.CIELab2CIELCH=function(c){var b={};b.l=c.l;b.c=Math.sqrt(Math.pow(c.a,2)+Math.pow(c.b,2));b.h=Math.atan2(c.b,c.a);if(b.h>0){b.h=(b.h/Math.PI)*180}else{b.h=360-(Math.abs(b.h)/Math.PI)*180}return b};a.fn.ColorPickerSliders.CIELCH2CIELab=function(b){var c={};c.l=b.l;c.a=Math.cos(b.h*0.01745329251)*b.c;c.b=Math.sin(b.h*0.01745329251)*b.c;return c};a.fn.ColorPickerSliders.CIELab2XYZ=function(c){var b={};b.y=(c.l+16)/116;b.x=c.a/500+b.y;b.z=b.y-c.b/200;if(Math.pow(b.y,3)>0.008856){b.y=Math.pow(b.y,3)}else{b.y=(b.y-0.137931034)/7.787}if(Math.pow(b.x,3)>0.008856){b.x=Math.pow(b.x,3)}else{b.x=(b.x-0.137931034)/7.787}if(Math.pow(b.z,3)>0.008856){b.z=Math.pow(b.z,3)}else{b.z=(b.z-0.137931034)/7.787}b.x=95.047*b.x;b.y=100*b.y;b.z=108.883*b.z;return b};a.fn.ColorPickerSliders.XYZ2rgb=function(c){var b={};c.x=c.x/100;c.y=c.y/100;c.z=c.z/100;b.r=c.x*3.2406+c.y*-1.5372+c.z*-0.4986;b.g=c.x*-0.9689+c.y*1.8758+c.z*0.0415;b.b=c.x*0.0557+c.y*-0.204+c.z*1.057;if(b.r>0.0031308){b.r=1.055*(Math.pow(b.r,0.41666667))-0.055}else{b.r=12.92*b.r}if(b.g>0.0031308){b.g=1.055*(Math.pow(b.g,0.41666667))-0.055}else{b.g=12.92*b.g}if(b.b>0.0031308){b.b=1.055*(Math.pow(b.b,0.41666667))-0.055}else{b.b=12.92*b.b}b.r=Math.round(b.r*255);b.g=Math.round(b.g*255);b.b=Math.round(b.b*255);return b};a.fn.ColorPickerSliders.detectWhichGradientIsSupported=function(){var c=document.createElement("detectGradientSupport").style;try{c.backgroundImage="linear-gradient(to top left, #9f9, white)";if(c.backgroundImage.indexOf("gradient")!==-1){return"noprefix"}c.backgroundImage="-webkit-linear-gradient(left top, #9f9, white)";if(c.backgroundImage.indexOf("gradient")!==-1){return"webkit"}c.backgroundImage="-ms-linear-gradient(left top, #9f9, white)";if(c.backgroundImage.indexOf("gradient")!==-1){return"ms"}c.backgroundImage="-webkit-gradient(linear, left top, right bottom, from(#9f9), to(white))";if(c.backgroundImage.indexOf("gradient")!==-1){return"oldwebkit"}}catch(b){try{c.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffffff',endColorstr='#000000',GradientType=0)";if(c.filter.indexOf("DXImageTransform")!==-1){return"filter"}}catch(b){}}return false};a.fn.ColorPickerSliders.svgSupported=function(){return !!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect}})(jQuery);