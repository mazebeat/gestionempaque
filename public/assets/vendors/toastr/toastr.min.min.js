(function(b){b(["jquery"],function(a){return(function(){var H;var S;var y=0;var T={error:"error",info:"info",success:"success",warning:"warning"};var A={clear:J,remove:z,error:F,getContainer:D,info:B,options:{},subscribe:O,success:Q,version:"2.1.0",warning:G};var P;return A;function F(d,c,e){return K({type:T.error,iconClass:M().iconClasses.error,message:d,optionsOverride:e,title:c})}function D(d,c){if(!d){d=M()}H=a("#"+d.containerId);if(H.length){return H}if(c){H=R(d)}return H}function B(d,c,e){return K({type:T.info,iconClass:M().iconClasses.info,message:d,optionsOverride:e,title:c})}function O(c){S=c}function Q(d,c,e){return K({type:T.success,iconClass:M().iconClasses.success,message:d,optionsOverride:e,title:c})}function G(d,c,e){return K({type:T.warning,iconClass:M().iconClasses.warning,message:d,optionsOverride:e,title:c})}function J(d){var c=M();if(!H){D(c)}if(!C(d,c)){I(c)}}function z(d){var c=M();if(!H){D(c)}if(d&&a(":focus",d).length===0){L(d);return}if(H.children().length){H.remove()}}function I(e){var c=H.children();for(var d=c.length-1;d>=0;d--){C(a(c[d]),e)}}function C(d,c){if(d&&a(":focus",d).length===0){d[c.hideMethod]({duration:c.hideDuration,easing:c.hideEasing,complete:function(){L(d)}});return true}return false}function R(c){H=a("<div/>").attr("id",c.containerId).addClass(c.positionClass).attr("aria-live","polite").attr("role","alert");H.appendTo(a(c.target));return H}function N(){return{tapToDismiss:true,toastClass:"toast",containerId:"toast-container",debug:false,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:undefined,hideMethod:"fadeOut",hideDuration:1000,hideEasing:"swing",onHidden:undefined,extendedTimeOut:1000,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5000,titleClass:"toast-title",messageClass:"toast-message",target:"body",closeHtml:"<button>&times;</button>",newestOnTop:true,preventDuplicates:false,progressBar:false}}function E(c){if(!S){return}S(c)}function K(h){var g=M(),m=h.iconClass||g.iconClass;if(g.preventDuplicates){if(h.message===P){return}else{P=h.message}}if(typeof(h.optionsOverride)!=="undefined"){g=a.extend(g,h.optionsOverride);m=h.optionsOverride.iconClass||m}y++;H=D(g,true);var i=null,c=a("<div/>"),p=a("<div/>"),j=a("<div/>"),k=a("<div/>"),o=a(g.closeHtml),n={intervalId:null,hideEta:null,maxHideTime:null},q={toastId:y,state:"visible",startTime:new Date(),options:g,map:h};if(h.iconClass){c.addClass(g.toastClass).addClass(m)}if(h.title){p.append(h.title).addClass(g.titleClass);c.append(p)}if(h.message){j.append(h.message).addClass(g.messageClass);c.append(j)}if(g.closeButton){o.addClass("toast-close-button").attr("role","button");c.prepend(o)}if(g.progressBar){k.addClass("toast-progress");c.prepend(k)}c.hide();if(g.newestOnTop){H.prepend(c)}else{H.append(c)}c[g.showMethod]({duration:g.showDuration,easing:g.showEasing,complete:g.onShown});if(g.timeOut>0){i=setTimeout(d,g.timeOut);n.maxHideTime=parseFloat(g.timeOut);n.hideEta=new Date().getTime()+n.maxHideTime;if(g.progressBar){n.intervalId=setInterval(f,10)}}c.hover(e,l);if(!g.onclick&&g.tapToDismiss){c.click(d)}if(g.closeButton&&o){o.click(function(r){if(r.stopPropagation){r.stopPropagation()}else{if(r.cancelBubble!==undefined&&r.cancelBubble!==true){r.cancelBubble=true}}d(true)})}if(g.onclick){c.click(function(){g.onclick();d()})}E(q);if(g.debug&&console){console.log(q)}return c;function d(r){if(a(":focus",c).length&&!r){return}clearTimeout(n.intervalId);return c[g.hideMethod]({duration:g.hideDuration,easing:g.hideEasing,complete:function(){L(c);if(g.onHidden&&q.state!=="hidden"){g.onHidden()}q.state="hidden";q.endTime=new Date();E(q)}})}function l(){if(g.timeOut>0||g.extendedTimeOut>0){i=setTimeout(d,g.extendedTimeOut);n.maxHideTime=parseFloat(g.extendedTimeOut);n.hideEta=new Date().getTime()+n.maxHideTime}}function e(){clearTimeout(i);n.hideEta=0;c.stop(true,true)[g.showMethod]({duration:g.showDuration,easing:g.showEasing})}function f(){var r=((n.hideEta-(new Date().getTime()))/n.maxHideTime)*100;k.width(r+"%")}}function M(){return a.extend({},N(),A.options)}function L(c){if(!H){H=D()}if(c.is(":visible")){return}c.remove();c=null;if(H.children().length===0){H.remove()}}})()})}(typeof define==="function"&&define.amd?define:function(c,d){if(typeof module!=="undefined"&&module.exports){module.exports=d(require("jquery"))}else{window.toastr=d(window.jQuery)}}));