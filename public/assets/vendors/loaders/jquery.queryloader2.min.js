(function(f){
/*!
 * eventie v1.0.5
 * event binding helper
 *   eventie.bind( elem, 'click', myFn )
 *   eventie.unbind( elem, 'click', myFn )
 * MIT license
 */
(function(k){var h=document.documentElement;var l=function(){};function g(n){var m=k.event;m.target=m.target||m.srcElement||n;return m}if(h.addEventListener){l=function(o,n,m){o.addEventListener(n,m,false)}}else{if(h.attachEvent){l=function(o,n,m){o[n+m]=m.handleEvent?function(){var p=g(o);m.handleEvent.call(m,p)}:function(){var p=g(o);m.call(o,p)};o.attachEvent("on"+n,o[n+m])}}}var j=function(){};if(h.removeEventListener){j=function(o,n,m){o.removeEventListener(n,m,false)}}else{if(h.detachEvent){j=function(p,n,m){p.detachEvent("on"+n,p[n+m]);try{delete p[n+m]}catch(o){p[n+m]=undefined}}}}var i={bind:l,unbind:j};if(typeof define==="function"&&define.amd){define(i)}else{if(typeof exports==="object"){module.exports=i}else{k.eventie=i}}})(this);
/*!
 * EventEmitter v4.2.7 - git.io/ee
 * Oliver Caldwell
 * MIT license
 * @preserve
 */
(function(){function i(){}var r=i.prototype;var B=this;var D=B.EventEmitter;function n(F,G){var E=F.length;while(E--){if(F[E].listener===G){return E}}return -1}function p(E){return function F(){return this[E].apply(this,arguments)}}r.getListeners=function z(E){var H=this._getEvents();var F;var G;if(E instanceof RegExp){F={};for(G in H){if(H.hasOwnProperty(G)&&E.test(G)){F[G]=H[G]}}}else{F=H[E]||(H[E]=[])}return F};r.flattenListeners=function x(G){var E=[];var F;for(F=0;F<G.length;F+=1){E.push(G[F].listener)}return E};r.getListenersAsObject=function k(E){var G=this.getListeners(E);var F;if(G instanceof Array){F={};F[E]=G}return F||G};r.addListener=function l(E,H){var G=this.getListenersAsObject(E);var I=typeof H==="object";var F;for(F in G){if(G.hasOwnProperty(F)&&n(G[F],H)===-1){G[F].push(I?H:{listener:H,once:false})}}return this};r.on=p("addListener");r.addOnceListener=function g(E,F){return this.addListener(E,{listener:F,once:true})};r.once=p("addOnceListener");r.defineEvent=function v(E){this.getListeners(E);return this};r.defineEvents=function w(E){for(var F=0;F<E.length;F+=1){this.defineEvent(E[F])}return this};r.removeListener=function h(E,I){var H=this.getListenersAsObject(E);var F;var G;for(G in H){if(H.hasOwnProperty(G)){F=n(H[G],I);if(F!==-1){H[G].splice(F,1)}}}return this};r.off=p("removeListener");r.addListeners=function s(E,F){return this.manipulateListeners(false,E,F)};r.removeListeners=function y(E,F){return this.manipulateListeners(true,E,F)};r.manipulateListeners=function m(F,G,I){var H;var J;var K=F?this.removeListener:this.addListener;var E=F?this.removeListeners:this.addListeners;if(typeof G==="object"&&!(G instanceof RegExp)){for(H in G){if(G.hasOwnProperty(H)&&(J=G[H])){if(typeof J==="function"){K.call(this,H,J)}else{E.call(this,H,J)}}}}else{H=I.length;while(H--){K.call(this,G,I[H])}}return this};r.removeEvent=function u(E){var H=typeof E;var G=this._getEvents();var F;if(H==="string"){delete G[E]}else{if(E instanceof RegExp){for(F in G){if(G.hasOwnProperty(F)&&E.test(F)){delete G[F]}}}else{delete this._events}}return this};r.removeAllListeners=p("removeEvent");r.emitEvent=function A(E,G){var J=this.getListenersAsObject(E);var K;var I;var H;var F;for(H in J){if(J.hasOwnProperty(H)){I=J[H].length;while(I--){K=J[H][I];if(K.once===true){this.removeListener(E,K.listener)}F=K.listener.apply(this,G||[]);if(F===this._getOnceReturnValue()){this.removeListener(E,K.listener)}}}}return this};r.trigger=p("emitEvent");r.emit=function q(E){var F=Array.prototype.slice.call(arguments,1);return this.emitEvent(E,F)};r.setOnceReturnValue=function o(E){this._onceReturnValue=E;return this};r._getOnceReturnValue=function t(){if(this.hasOwnProperty("_onceReturnValue")){return this._onceReturnValue}else{return true}};r._getEvents=function j(){return this._events||(this._events={})};i.noConflict=function C(){B.EventEmitter=D;return i};if(typeof define==="function"&&define.amd){define(function(){return i})}else{if(typeof module==="object"&&module.exports){module.exports=i}else{this.EventEmitter=i}}}.call(this));
/*!
 * imagesLoaded v3.1.4
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
(function(h,g){if(typeof define==="function"&&define.amd){define(["eventEmitter/EventEmitter","eventie/eventie"],function(j,i){return g(h,j,i)})}else{if(typeof exports==="object"){module.exports=g(h,require("eventEmitter"),require("eventie"))}else{h.imagesLoaded=g(h,h.EventEmitter,h.eventie)}}})(this,function b(o,s,r){var m=o.jQuery;var k=o.console;var i=typeof k!=="undefined";function p(v,u){for(var w in u){v[w]=u[w]}return v}var t=Object.prototype.toString;function n(u){return t.call(u)==="[object Array]"}function j(x){var w=[];if(n(x)){w=x}else{if(typeof x.length==="number"){for(var v=0,u=x.length;v<u;v++){w.push(x[v])}}else{w.push(x)}}return w}function l(w,v,u){if(!(this instanceof l)){return new l(w,v)}if(typeof w==="string"){w=document.querySelectorAll(w)}this.elements=j(w);this.options=p({},this.options);if(typeof v==="function"){u=v}else{p(this.options,v)}if(u){this.on("always",u)}this.getImages();if(m){this.jqDeferred=new m.Deferred()}var x=this;setTimeout(function(){x.check()})}l.prototype=new s();l.prototype.options={};l.prototype.getImages=function(){this.images=[];for(var x=0,u=this.elements.length;x<u;x++){var y=this.elements[x];if(y.nodeName==="IMG"){this.addImage(y)}var A=y.querySelectorAll("img");for(var w=0,z=A.length;w<z;w++){var v=A[w];this.addImage(v)}}};l.prototype.addImage=function(u){var v=new q(u);this.images.push(v)};l.prototype.check=function(){var z=this;var v=0;var x=this.images.length;this.hasAnyBroken=false;if(!x){this.complete();return}function w(B,A){if(z.options.debug&&i){}z.progress(B);v++;if(v===x){z.complete()}return true}for(var u=0;u<x;u++){var y=this.images[u];y.on("confirm",w);y.check()}};l.prototype.progress=function(u){this.hasAnyBroken=this.hasAnyBroken||!u.isLoaded;var v=this;setTimeout(function(){v.emit("progress",v,u);if(v.jqDeferred&&v.jqDeferred.notify){v.jqDeferred.notify(v,u)}})};l.prototype.complete=function(){var u=this.hasAnyBroken?"fail":"done";this.isComplete=true;var v=this;setTimeout(function(){v.emit(u,v);v.emit("always",v);if(v.jqDeferred){var w=v.hasAnyBroken?"reject":"resolve";v.jqDeferred[w](v)}})};if(m){m.fn.imagesLoaded=function(v,w){var u=new l(this,v,w);return u.jqDeferred.promise(m(this))}}function q(u){this.img=u}q.prototype=new s();q.prototype.check=function(){var u=h[this.img.src]||new g(this.img.src);if(u.isConfirmed){this.confirm(u.isLoaded,"cached was confirmed");return}if(this.img.complete&&this.img.naturalWidth!==undefined){this.confirm(this.img.naturalWidth!==0,"naturalWidth");return}var v=this;u.on("confirm",function(w,x){v.confirm(w.isLoaded,x);return true});u.check()};q.prototype.confirm=function(u,v){this.isLoaded=u;this.emit("confirm",this,v)};var h={};function g(u){this.src=u;h[u]=this}g.prototype=new s();g.prototype.check=function(){if(this.isChecked){return}var u=new Image();r.bind(u,"load",this);r.bind(u,"error",this);u.src=this.src;this.isChecked=true};g.prototype.handleEvent=function(u){var v="on"+u.type;if(this[v]){this[v](u)}};g.prototype.onload=function(u){this.confirm(true,"onload");this.unbindProxyEvents(u)};g.prototype.onerror=function(u){this.confirm(false,"onerror");this.unbindProxyEvents(u)};g.prototype.confirm=function(u,v){this.isConfirmed=true;this.isLoaded=u;this.emit("confirm",this,v)};g.prototype.unbindProxyEvents=function(u){r.unbind(u.target,"load",this);r.unbind(u.target,"error",this)};return l});function c(g){this.parent=g;this.container;this.loadbar;this.percentageContainer}c.prototype.createOverlay=function(){var g="absolute";if(this.parent.element.tagName.toLowerCase()=="body"){g="fixed"}else{var h=this.parent.$element.css("position");if(h!="fixed"||h!="absolute"){this.parent.$element.css("position","relative")}}this.container=f("<div id='"+this.parent.options.overlayId+"'></div>").css({width:"100%",height:"100%",backgroundColor:this.parent.options.backgroundColor,backgroundPosition:"fixed",position:g,zIndex:666999,top:0,left:0}).appendTo(this.parent.$element);this.loadbar=f("<div id='qLbar'></div>").css({height:this.parent.options.barHeight+"px",marginTop:"-"+(this.parent.options.barHeight/2)+"px",backgroundColor:this.parent.options.barColor,width:"0%",position:"absolute",top:"50%"}).appendTo(this.container);if(this.parent.options.percentage==true){this.percentageContainer=f("<div id='qLpercentage'></div>").text("0%").css({height:"40px",width:"100px",position:"absolute",fontSize:"3em",top:"50%",left:"50%",marginTop:"-"+(59+this.parent.options.barHeight)+"px",textAlign:"center",marginLeft:"-50px",color:this.parent.options.barColor}).appendTo(this.container)}if(!this.parent.preloadContainer.toPreload.length||this.parent.alreadyLoaded==true){this.parent.destroyContainers()}};c.prototype.updatePercentage=function(g){this.loadbar.stop().animate({width:g+"%",minWidth:g+"%"},200);if(this.parent.options.percentage==true){this.percentageContainer.text(Math.ceil(g)+"%")}};function a(g){this.toPreload=[];this.parent=g;this.container}a.prototype.create=function(){this.container=f("<div></div>").appendTo("body").css({display:"none",width:0,height:0,overflow:"hidden"});this.processQueue()};a.prototype.processQueue=function(){for(var g=0;this.toPreload.length>g;g++){if(!this.parent.destroyed){this.preloadImage(this.toPreload[g])}}};a.prototype.addImage=function(g){this.toPreload.push(g)};a.prototype.preloadImage=function(g){var h=new e();h.addToPreloader(this,g);h.bindLoadEvent()};function e(g){this.element;this.parent=g}e.prototype.addToPreloader=function(g,h){this.element=f("<img />").attr("src",h);this.element.appendTo(g.container);this.parent=g.parent};e.prototype.bindLoadEvent=function(){this.parent.imageCounter++;this.element[0].ref=this;new imagesLoaded(this.element,function(g){g.elements[0].ref.completeLoading()})};e.prototype.completeLoading=function(){this.parent.imageDone++;var g=(this.parent.imageDone/this.parent.imageCounter)*100;this.parent.overlayLoader.updatePercentage(g);if(this.parent.imageDone==this.parent.imageCounter||g>=100){this.parent.endLoader()}};function d(h,g){this.element=h;this.$element=f(h);this.options=g;this.foundUrls=[];this.destroyed=false;this.imageCounter=0;this.imageDone=0;this.alreadyLoaded=false;this.preloadContainer=new a(this);this.overlayLoader=new c(this);this.defaultOptions={onComplete:function(){},onLoadComplete:function(){},backgroundColor:"#000",barColor:"#fff",overlayId:"qLoverlay",barHeight:1,percentage:false,deepSearch:true,completeAnimation:"fade",minimumTime:500};this.init()}d.prototype.init=function(){this.options=f.extend({},this.defaultOptions,this.options);var g=this.findImageInElement(this.element);if(this.options.deepSearch==true){var j=this.$element.find("*:not(script)");for(var h=0;h<j.length;h++){this.findImageInElement(j[h])}}this.preloadContainer.create();this.overlayLoader.createOverlay()};d.prototype.findImageInElement=function(k){var h="";var o=f(k);var l="normal";if(o.css("background-image")!="none"){h=o.css("background-image");l="background"}else{if(typeof(o.attr("src"))!="undefined"&&k.nodeName.toLowerCase()=="img"){h=o.attr("src")}}if(!this.hasGradient(h)){h=this.stripUrl(h);var n=h.split(", ");for(var j=0;j<n.length;j++){if(this.validUrl(n[j])&&this.urlIsNew(n[j])){var g="";if(this.isIE()||this.isOpera()){g="?rand="+Math.random();this.preloadContainer.addImage(n[j]+g)}else{if(l=="background"){this.preloadContainer.addImage(n[j]+g)}else{var m=new e(this);m.element=o;m.bindLoadEvent()}}this.foundUrls.push(n[j])}}}};d.prototype.hasGradient=function(g){if(g.indexOf("gradient")==-1){return false}else{return true}};d.prototype.stripUrl=function(g){g=g.replace(/url\(\"/g,"");g=g.replace(/url\(/g,"");g=g.replace(/\"\)/g,"");g=g.replace(/\)/g,"");return g};d.prototype.isIE=function(){return navigator.userAgent.match(/msie/i)};d.prototype.isOpera=function(){return navigator.userAgent.match(/Opera/i)};d.prototype.validUrl=function(g){if(g.length>0&&!g.match(/^(data:)/i)){return true}else{return false}};d.prototype.urlIsNew=function(g){if(this.foundUrls.indexOf(g)==-1){return true}else{return false}};d.prototype.destroyContainers=function(){this.destroyed=true;this.preloadContainer.container.remove();this.overlayLoader.container.remove()};d.prototype.endLoader=function(){this.destroyed=true;this.onLoadComplete()};d.prototype.onLoadComplete=function(){this.options.onLoadComplete();if(this.options.completeAnimation=="grow"){var g=this.options.minimumTime;this.overlayLoader.loadbar[0].parent=this;this.overlayLoader.loadbar.stop().animate({width:"100%"},g,function(){f(this).animate({top:"0%",width:"100%",height:"100%"},500,function(){this.parent.overlayLoader.container[0].parent=this.parent;this.parent.overlayLoader.container.fadeOut(500,function(){this.parent.destroyContainers();this.parent.options.onComplete()})})})}else{var g=this.options.minimumTime;this.overlayLoader.container[0].parent=this;this.overlayLoader.container.fadeOut(g,function(){this.parent.destroyContainers();this.parent.options.onComplete()})}};if(!Array.prototype.indexOf){Array.prototype.indexOf=function(h){var g=this.length>>>0;var i=Number(arguments[1])||0;i=(i<0)?Math.ceil(i):Math.floor(i);if(i<0){i+=g}for(;i<g;i++){if(i in this&&this[i]===h){return i}}return -1}}f.fn.queryLoader2=function(g){return this.each(function(){(new d(this,g))})}})(jQuery);