function OverlayLoader(a){this.parent=a;this.container;this.loadbar;this.percentageContainer}OverlayLoader.prototype.createOverlay=function(){console.log("Creating the loader overlay");var a="absolute";if(this.parent.element.tagName.toLowerCase()=="body"){a="fixed"}else{var b=this.parent.$element.css("position");if(b!="fixed"||b!="absolute"){this.parent.$element.css("position","relative")}}this.container=$("<div id='"+this.parent.options.overlayId+"'></div>").css({width:"100%",height:"100%",backgroundColor:this.parent.options.backgroundColor,backgroundPosition:"fixed",position:a,zIndex:666999,top:0,left:0}).appendTo(this.parent.$element);this.loadbar=$("<div id='qLbar'></div>").css({height:this.parent.options.barHeight+"px",marginTop:"-"+(this.parent.options.barHeight/2)+"px",backgroundColor:this.parent.options.barColor,width:"0%",position:"absolute",top:"50%"}).appendTo(this.container);if(this.parent.options.percentage==true){this.percentageContainer=$("<div id='qLpercentage'></div>").text("0%").css({height:"40px",width:"100px",position:"absolute",fontSize:"3em",top:"50%",left:"50%",marginTop:"-"+(59+this.parent.options.barHeight)+"px",textAlign:"center",marginLeft:"-50px",color:this.parent.options.barColor}).appendTo(this.container)}if(!this.parent.preloadContainer.toPreload.length||this.parent.alreadyLoaded==true){this.parent.destroyContainers()}};OverlayLoader.prototype.updatePercentage=function(a){this.loadbar.stop().animate({width:a+"%",minWidth:a+"%"},200);if(this.parent.options.percentage==true){this.percentageContainer.text(Math.ceil(a)+"%")}};