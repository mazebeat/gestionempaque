var Hogan={};(function(v,u){function n(b){return String(b===null||b===undefined?"":b)}function m(b){return b=n(b),o.test(b)?b.replace(t,"&amp;").replace(s,"&lt;").replace(r,"&gt;").replace(q,"&#39;").replace(p,"&quot;"):b}v.Template=function(b,h,g,f){this.r=b||this.r,this.c=g,this.options=f,this.text=h||"",this.buf=u?[]:""},v.Template.prototype={r:function(e,d,f){return""},v:m,t:n,render:function(a,f,e){return this.ri([a],f||{},e)},ri:function(e,d,f){return this.r(e,d,f)},rp:function(g,f,j,i){var h=j[g];return h?(this.c&&typeof h=="string"&&(h=this.c.compile(h,this.options)),h.ri(f,j,i)):""},rs:function(g,f,j){var i=g[g.length-1];if(!l(i)){j(g,f,this);return}for(var h=0;h<i.length;h++){g.push(i[h]),j(g,f,this),g.pop()}},s:function(j,i,A,z,y,x,w){var k;return l(j)&&j.length===0?!1:(typeof j=="function"&&(j=this.ls(j,i,A,z,y,x,w)),k=j===""||!!j,!z&&k&&i&&i.push(typeof j=="object"?j:i[i.length-1]),k)},d:function(j,i,A,z){var y=j.split("."),x=this.f(y[0],i,A,z),w=null;if(j==="."&&l(i[i.length-2])){return i[i.length-1]}for(var k=1;k<y.length;k++){x&&typeof x=="object"&&y[k] in x?(w=x,x=x[y[k]]):x=""}return z&&!x?!1:(!z&&typeof x=="function"&&(i.push(w),x=this.lv(x,i,A),i.pop()),x)},f:function(j,i,A,z){var y=!1,x=null,w=!1;for(var k=i.length-1;k>=0;k--){x=i[k];if(x&&typeof x=="object"&&j in x){y=x[j],w=!0;break}}return w?(!z&&typeof y=="function"&&(y=this.lv(y,i,A)),y):z?!1:""},ho:function(i,h,y,x,w){var k=this.c,j=this.options;j.delimiters=w;var x=i.call(h,x);return x=x==null?String(x):x.toString(),this.b(k.compile(x,j).render(h,y)),!1},b:u?function(b){this.buf.push(b)}:function(b){this.buf+=b},fl:u?function(){var b=this.buf.join("");return this.buf=[],b}:function(){var b=this.buf;return this.buf="",b},ls:function(C,B,A,z,y,x,w){var k=B[B.length-1],j=null;if(!z&&this.c&&C.length>0){return this.ho(C,k,A,this.text.substring(y,x),w)}j=C.call(k);if(typeof j=="function"){if(z){return !0}if(this.c){return this.ho(j,k,A,this.text.substring(y,x),w)}}return j},lv:function(g,f,j){var i=f[f.length-1],h=g.call(i);if(typeof h=="function"){h=n(h.call(i));if(this.c&&~h.indexOf("{{")){return this.c.compile(h,this.options).render(i,j)}}return n(h)}};var t=/&/g,s=/</g,r=/>/g,q=/\'/g,p=/\"/g,o=/[&<>\"\']/,l=Array.isArray||function(b){return Object.prototype.toString.call(b)==="[object Array]"}})(typeof exports!="undefined"?exports:Hogan),function(R){function K(b){b.n.substr(b.n.length-1)==="}"&&(b.n=b.n.substring(0,b.n.length-1))}function J(b){return b.trim?b.trim():b.replace(/^\s*|\s*$/g,"")}function I(g,f,j){if(f.charAt(j)!=g.charAt(0)){return !1}for(var i=1,h=g.length;i<h;i++){if(f.charAt(j+i)!=g.charAt(i)){return !1}}return !0}function H(i,h,n,m){var l=[],k=null,j=null;while(i.length>0){j=i.shift();if(j.tag=="#"||j.tag=="^"||G(j,m)){n.push(j),j.nodes=H(i,j.tag,n,m),l.push(j)}else{if(j.tag=="/"){if(n.length===0){throw new Error("Closing tag without opener: /"+j.n)}k=n.pop();if(j.n!=k.n&&!F(j.n,k.n,m)){throw new Error("Nesting error: "+k.n+" vs. "+j.n)}return k.end=j.i,l}l.push(j)}}if(n.length>0){throw new Error("missing closing tag: "+n.pop().n)}return l}function G(f,e){for(var h=0,g=e.length;h<g;h++){if(e[h].o==f.n){return f.tag="#",!0}}}function F(g,f,j){for(var i=0,h=j.length;i<h;i++){if(j[i].c==g&&j[i].o==f){return !0}}}function E(b){return b.replace(M,"\\\\").replace(P,'\\"').replace(O,"\\n").replace(N,"\\r")}function D(b){return ~b.indexOf(".")?"d":"f"}function C(g){var f="";for(var j=0,i=g.length;j<i;j++){var h=g[j].tag;h=="#"?f+=B(g[j].nodes,g[j].n,D(g[j].n),g[j].i,g[j].end,g[j].otag+" "+g[j].ctag):h=="^"?f+=A(g[j].nodes,g[j].n,D(g[j].n)):h=="<"||h==">"?f+=z(g[j]):h=="{"||h=="&"?f+=y(g[j].n,D(g[j].n)):h=="\n"?f+=w('"\\n"'+(g.length-1==j?"":" + i")):h=="_v"?f+=x(g[j].n,D(g[j].n)):h===undefined&&(f+=w('"'+E(g[j])+'"'))}return f}function B(h,g,l,k,j,i){return"if(_.s(_."+l+'("'+E(g)+'",c,p,1),c,p,0,'+k+","+j+',"'+i+'")){_.rs(c,p,function(c,p,_){'+C(h)+"});c.pop();}"}function A(e,d,f){return"if(!_.s(_."+f+'("'+E(d)+'",c,p,1),c,p,1,0,0,"")){'+C(e)+"};"}function z(b){return'_.b(_.rp("'+E(b.n)+'",c,p,"'+(b.indent||"")+'"));'}function y(d,c){return"_.b(_.t(_."+c+'("'+E(d)+'",c,p,0)));'}function x(d,c){return"_.b(_.v(_."+c+'("'+E(d)+'",c,p,0)));'}function w(b){return"_.b("+b+");"}var Q=/\S/,P=/\"/g,O=/\n/g,N=/\r/g,M=/\\/g,L={"#":1,"^":2,"/":3,"!":4,">":5,"<":6,"=":7,_v:8,"{":9,"&":10};R.scan=function(af,ae){function h(){W.length>0&&(V.push(new String(W)),W="")}function g(){var d=!0;for(var e=S;e<V.length;e++){d=V[e].tag&&L[V[e].tag]<L._v||!V[e].tag&&V[e].match(Q)===null;if(!d){return !1}}return d}function b(f,e){h();if(f&&g()){for(var l=S,k;l<V.length;l++){V[l].tag||((k=V[l+1])&&k.tag==">"&&(k.indent=V[l].toString()),V.splice(l,1))}}else{e||V.push({tag:"\n"})}U=!1,S=V.length}function a(k,f){var n="="+i,m=k.indexOf(n,f),l=J(k.substring(k.indexOf("=",f)+1,m)).split(" ");return j=l[0],i=l[1],m+n.length-1}var ad=af.length,ac=0,ab=1,aa=2,Z=ac,Y=null,X=null,W="",V=[],U=!1,T=0,S=0,j="{{",i="}}";ae&&(ae=ae.split(" "),j=ae[0],i=ae[1]);for(T=0;T<ad;T++){Z==ac?I(j,af,T)?(--T,h(),Z=ab):af.charAt(T)=="\n"?b(U):W+=af.charAt(T):Z==ab?(T+=j.length-1,X=L[af.charAt(T+1)],Y=X?af.charAt(T+1):"_v",Y=="="?(T=a(af,T),Z=ac):(X&&T++,Z=aa),U=T):I(i,af,T)?(V.push({tag:Y,n:J(W),otag:j,ctag:i,i:Y=="/"?U-i.length:T+j.length}),W="",T+=i.length-1,Z=ac,Y=="{"&&(i=="}}"?T++:K(V[V.length-1]))):W+=af.charAt(T)}return b(U,!0),V},R.generate=function(a,h,g){var f='var _=this;_.b(i=i||"");'+C(a)+"return _.fl();";return g.asString?"function(c,p,i){"+f+";}":new R.Template(new Function("c","p","i",f),h,R,g)},R.parse=function(e,d,f){return f=f||{},H(e,"",[],f.sectionTags||[])},R.cache={},R.compile=function(f,e){e=e||{};var h=f+"||"+!!e.asString,g=this.cache[h];return g?g:(g=this.generate(this.parse(this.scan(f,e.delimiters),f,e),f,e),this.cache[h]=g)}}(typeof exports!="undefined"?exports:Hogan);