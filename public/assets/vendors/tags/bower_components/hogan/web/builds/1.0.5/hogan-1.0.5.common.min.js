var Hogan={};(function(j,h){j.Template=function(o,p,n,m){this.r=o||this.r;this.c=n;this.options=m;this.text=p||"";this.buf=(h)?[]:""};j.Template.prototype={r:function(o,n,m){return""},v:c,t:e,render:function b(o,n,m){return this.ri([o],n||{},m)},ri:function(o,n,m){return this.r(o,n,m)},rp:function(o,q,p,m){var n=p[o];if(!n){return""}if(this.c&&typeof n=="string"){n=this.c.compile(n,this.options)}return n.ri(q,p,m)},rs:function(p,o,q){var m=p[p.length-1];if(!g(m)){q(p,o,this);return}for(var n=0;n<m.length;n++){p.push(m[n]);q(p,o,this);p.pop()}},s:function(s,n,q,o,t,m,p){var r;if(g(s)&&s.length===0){return false}if(typeof s=="function"){s=this.ls(s,n,q,o,t,m,p)}r=(s==="")||!!s;if(!o&&r&&n){n.push((typeof s=="object")?s:n[n.length-1])}return r},d:function(q,n,p,r){var s=q.split("."),t=this.f(s[0],n,p,r),m=null;if(q==="."&&g(n[n.length-2])){return n[n.length-1]}for(var o=1;o<s.length;o++){if(t&&typeof t=="object"&&s[o] in t){m=t;t=t[s[o]]}else{t=""}}if(r&&!t){return false}if(!r&&typeof t=="function"){n.push(m);t=this.lv(t,n,p);n.pop()}return t},f:function(q,m,p,r){var t=false,n=null,s=false;for(var o=m.length-1;o>=0;o--){n=m[o];if(n&&typeof n=="object"&&q in n){t=n[q];s=true;break}}if(!s){return(r)?false:""}if(!r&&typeof t=="function"){t=this.lv(t,m,p)}return t},ho:function(u,m,q,s,o){var r=this.c;var n=this.options;n.delimiters=o;var p=u.call(m,s,function(v){return r.compile(v,n).render(m,q)});this.b(r.compile(p.toString(),n).render(m,q));return false},b:(h)?function(m){this.buf.push(m)}:function(m){this.buf+=m},fl:(h)?function(){var m=this.buf.join("");this.buf=[];return m}:function(){var m=this.buf;this.buf="";return m},ls:function(n,u,r,o,m,p,v){var q=u[u.length-1],s=null;if(!o&&this.c&&n.length>0){return this.ho(n,q,r,this.text.substring(m,p),v)}s=n.call(q);if(typeof s=="function"){if(o){return true}else{if(this.c){return this.ho(s,q,r,this.text.substring(m,p),v)}}}return s},lv:function(q,o,p){var n=o[o.length-1];var m=q.call(n);if(typeof m=="function"){m=m.call(n)}m=e(m);if(this.c&&~m.indexOf("{\u007B")){return this.c.compile(m,this.options).render(n,p)}return m}};var i=/&/g,d=/</g,a=/>/g,l=/\'/g,k=/\"/g,f=/[&<>\"\']/;function e(m){return String((m===null||m===undefined)?"":m)}function c(m){m=e(m);return f.test(m)?m.replace(i,"&amp;").replace(d,"&lt;").replace(a,"&gt;").replace(l,"&#39;").replace(k,"&quot;"):m}var g=Array.isArray||function(m){return Object.prototype.toString.call(m)==="[object Array]"}})(typeof exports!=="undefined"?exports:Hogan);(function(n){var f=/\S/,j=/\"/g,o=/\n/g,k=/\r/g,v=/\\/g,a={"#":1,"^":2,"/":3,"!":4,">":5,"<":6,"=":7,_v:8,"{":9,"&":10};n.scan=function m(H,C){var P=H.length,z=0,E=1,y=2,A=z,D=null,R=null,Q="",K=[],G=false,O=0,L=0,I="{{",N="}}";function M(){if(Q.length>0){K.push(new String(Q));Q=""}}function B(){var T=true;for(var S=L;S<K.length;S++){T=(K[S].tag&&a[K[S].tag]<a._v)||(!K[S].tag&&K[S].match(f)===null);if(!T){return false}}return T}function J(V,S){M();if(V&&B()){for(var T=L,U;T<K.length;T++){if(!K[T].tag){if((U=K[T+1])&&U.tag==">"){U.indent=K[T].toString()}K.splice(T,1)}}}else{if(!S){K.push({tag:"\n"})}}G=false;L=K.length}function F(W,T){var V="="+N,S=W.indexOf(V,T),U=r(W.substring(W.indexOf("=",T)+1,S)).split(" ");I=U[0];N=U[1];return S+V.length-1}if(C){C=C.split(" ");I=C[0];N=C[1]}for(O=0;O<P;O++){if(A==z){if(x(I,H,O)){--O;M();A=E}else{if(H.charAt(O)=="\n"){J(G)}else{Q+=H.charAt(O)}}}else{if(A==E){O+=I.length-1;R=a[H.charAt(O+1)];D=R?H.charAt(O+1):"_v";if(D=="="){O=F(H,O);A=z}else{if(R){O++}A=y}G=O}else{if(x(N,H,O)){K.push({tag:D,n:r(Q),otag:I,ctag:N,i:(D=="/")?G-N.length:O+I.length});Q="";O+=N.length-1;A=z;if(D=="{"){if(N=="}}"){O++}else{s(K[K.length-1])}}}else{Q+=H.charAt(O)}}}}J(G,true);return K};function s(y){if(y.n.substr(y.n.length-1)==="}"){y.n=y.n.substring(0,y.n.length-1)}}function r(y){if(y.trim){return y.trim()}return y.replace(/^\s*|\s*$/g,"")}function x(y,C,A){if(C.charAt(A)!=y.charAt(0)){return false}for(var B=1,z=y.length;B<z;B++){if(C.charAt(A+B)!=y.charAt(B)){return false}}return true}function b(E,B,z,D){var y=[],C=null,A=null;while(E.length>0){A=E.shift();if(A.tag=="#"||A.tag=="^"||e(A,D)){z.push(A);A.nodes=b(E,A.tag,z,D);y.push(A)}else{if(A.tag=="/"){if(z.length===0){throw new Error("Closing tag without opener: /"+A.n)}C=z.pop();if(A.n!=C.n&&!g(A.n,C.n,D)){throw new Error("Nesting error: "+C.n+" vs. "+A.n)}C.end=A.i;return y}else{y.push(A)}}}if(z.length>0){throw new Error("missing closing tag: "+z.pop().n)}return y}function e(B,z){for(var A=0,y=z.length;A<y;A++){if(z[A].o==B.n){B.tag="#";return true}}}function g(C,A,z){for(var B=0,y=z.length;B<y;B++){if(z[B].c==C&&z[B].o==A){return true}}}function q(y){return'var _=this;_.b(i=i||"");'+u(y)+"return _.fl();"}n.generate=function(z,A,y){if(y.asString){return"function(c,p,i){"+z+";}"}return new n.Template(new Function("c","p","i",z),A,n,y)};function w(y){return y.replace(v,"\\\\").replace(j,'\\"').replace(o,"\\n").replace(k,"\\r")}function i(y){return(~y.indexOf("."))?"d":"f"}function u(z){var C="";for(var B=0,A=z.length;B<A;B++){var y=z[B].tag;if(y=="#"){C+=h(z[B].nodes,z[B].n,i(z[B].n),z[B].i,z[B].end,z[B].otag+" "+z[B].ctag)}else{if(y=="^"){C+=t(z[B].nodes,z[B].n,i(z[B].n))}else{if(y=="<"||y==">"){C+=d(z[B])}else{if(y=="{"||y=="&"){C+=c(z[B].n,i(z[B].n))}else{if(y=="\n"){C+=l('"\\n"'+(z.length-1==B?"":" + i"))}else{if(y=="_v"){C+=p(z[B].n,i(z[B].n))}else{if(y===undefined){C+=l('"'+w(z[B])+'"')}}}}}}}}return C}function h(z,D,C,B,y,A){return"if(_.s(_."+C+'("'+w(D)+'",c,p,1),c,p,0,'+B+","+y+',"'+A+'")){_.rs(c,p,function(c,p,_){'+u(z)+"});c.pop();}"}function t(y,A,z){return"if(!_.s(_."+z+'("'+w(A)+'",c,p,1),c,p,1,0,0,"")){'+u(y)+"};"}function d(y){return'_.b(_.rp("'+w(y.n)+'",c,p,"'+(y.indent||"")+'"));'}function c(z,y){return"_.b(_.t(_."+y+'("'+w(z)+'",c,p,0)));'}function p(z,y){return"_.b(_.v(_."+y+'("'+w(z)+'",c,p,0)));'}function l(y){return"_.b("+y+");"}n.parse=function(z,A,y){y=y||{};return b(z,"",[],y.sectionTags||[])},n.cache={};n.compile=function(B,y){y=y||{};var A=B+"||"+!!y.asString;var z=this.cache[A];if(z){return z}z=this.generate(q(this.parse(this.scan(B,y.delimiters),B,y)),B,y);return this.cache[A]=z}})(typeof exports!=="undefined"?exports:Hogan);if(typeof module!=="undefined"&&module.exports){module.exports=Hogan};