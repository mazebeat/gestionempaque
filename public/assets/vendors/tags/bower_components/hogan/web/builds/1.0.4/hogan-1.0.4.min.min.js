var Hogan={};(function(n,p){n.Template=function(d,c,a,b){this.r=d||this.r;this.c=a;this.options=b;this.text=c||"";this.buf=(p)?[]:""};n.Template.prototype={r:function(c,a,b){return""},v:t,render:function u(c,a,b){return this.ri([c],a||{},b)},ri:function(c,a,b){return this.r(c,a,b)},rp:function(e,c,d,b){var a=d[e];if(!a){return""}if(this.c&&typeof a=="string"){a=this.c.compile(a,this.options)}return a.ri(c,d,b)},rs:function(d,e,c){var b=d[d.length-1];if(!q(b)){c(d,e,this);return}for(var a=0;a<b.length;a++){d.push(b[a]);c(d,e,this);d.pop()}},s:function(d,a,f,h,c,b,g){var e;if(q(d)&&d.length===0){return false}if(typeof d=="function"){d=this.ls(d,a,f,h,c,b,g)}e=(d==="")||!!d;if(!h&&e&&a){a.push((typeof d=="object")?d:a[a.length-1])}return e},d:function(f,a,g,e){var d=f.split("."),c=this.f(d[0],a,g,e),b=null;if(f==="."&&q(a[a.length-2])){return a[a.length-1]}for(var h=1;h<d.length;h++){if(c&&typeof c=="object"&&d[h] in c){b=c;c=c[d[h]]}else{c=""}}if(e&&!c){return false}if(!e&&typeof c=="function"){a.push(b);c=this.lv(c,a,g);a.pop()}return c},f:function(f,b,g,e){var c=false,a=null,d=false;for(var h=b.length-1;h>=0;h--){a=b[h];if(a&&typeof a=="object"&&f in a){c=a[f];d=true;break}}if(!d){return(e)?false:""}if(!e&&typeof c=="function"){c=this.lv(c,b,g)}return c},ho:function(c,b,f,d,a){var e=this.c;var g=c.call(b,d,function(h){return e.compile(h,{delimiters:a}).render(b,f)});this.b(e.compile(g.toString(),{delimiters:a}).render(b,f));return false},b:(p)?function(a){this.buf.push(a)}:function(a){this.buf+=a},fl:(p)?function(){var a=this.buf.join("");this.buf=[];return a}:function(){var a=this.buf;this.buf="";return a},ls:function(f,i,b,e,g,d,h){var c=i[i.length-1],a=null;if(!e&&this.c&&f.length>0){return this.ho(f,c,b,this.text.substring(g,d),h)}a=f.call(c);if(typeof a=="function"){if(e){return true}else{if(this.c){return this.ho(a,c,b,this.text.substring(g,d),h)}}}return a},lv:function(c,e,d){var a=e[e.length-1];var b=c.call(a);if(typeof b=="function"){b=b.call(a)}b=b.toString();if(this.c&&~b.indexOf("{{")){return this.c.compile(b).render(a,d)}return b}};var o=/&/g,s=/</g,v=/>/g,l=/\'/g,m=/\"/g,r=/[&<>\"\']/;function t(a){a=String((a===null||a===undefined)?"":a);return r.test(a)?a.replace(o,"&amp;").replace(s,"&lt;").replace(v,"&gt;").replace(l,"&#39;").replace(m,"&quot;"):a}var q=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"}})(typeof exports!=="undefined"?exports:Hogan);(function(I){var Q=/\S/,M=/\"/g,H=/\n/g,L=/\r/g,A=/\\/g,V={"#":1,"^":2,"/":3,"!":4,">":5,"<":6,"=":7,_v:8,"{":9,"&":10};I.scan=function J(m,r){var c=m.length,i=0,p=1,k=2,t=i,q=null,a=null,b="",h=[],n=false,d=0,g=0,l="{{",e="}}";function f(){if(b.length>0){h.push(new String(b));b=""}}function s(){var u=true;for(var v=g;v<h.length;v++){u=(h[v].tag&&V[h[v].tag]<V._v)||(!h[v].tag&&h[v].match(Q)===null);if(!u){return false}}return u}function j(u,x){f();if(u&&s()){for(var w=g,v;w<h.length;w++){if(!h[w].tag){if((v=h[w+1])&&v.tag==">"){v.indent=h[w].toString()}h.splice(w,1)}}}else{if(!x){h.push({tag:"\n"})}}n=false;g=h.length}function o(u,x){var v="="+e,X=u.indexOf(v,x),w=E(u.substring(u.indexOf("=",x)+1,X)).split(" ");l=w[0];e=w[1];return X+v.length-1}if(r){r=r.split(" ");l=r[0];e=r[1]}for(d=0;d<c;d++){if(t==i){if(y(l,m,d)){--d;f();t=p}else{if(m.charAt(d)=="\n"){j(n)}else{b+=m.charAt(d)}}}else{if(t==p){d+=l.length-1;a=V[m.charAt(d+1)];q=a?m.charAt(d+1):"_v";if(q=="="){d=o(m,d);t=i}else{if(a){d++}t=k}n=d}else{if(y(e,m,d)){h.push({tag:q,n:E(b),otag:l,ctag:e,i:(q=="/")?n-e.length:d+l.length});b="";d+=e.length-1;t=i;if(q=="{"){if(e=="}}"){d++}else{D(h[h.length-1])}}}else{b+=m.charAt(d)}}}}j(n,true);return h};function D(a){if(a.n.substr(a.n.length-1)==="}"){a.n=a.n.substring(0,a.n.length-1)}}function E(a){if(a.trim){return a.trim()}return a.replace(/^\s*|\s*$/g,"")}function y(e,c,a){if(c.charAt(a)!=e.charAt(0)){return false}for(var d=1,b=e.length;d<b;d++){if(c.charAt(a+d)!=e.charAt(d)){return false}}return true}function U(b,g,e,c){var f=[],d=null,a=null;while(b.length>0){a=b.shift();if(a.tag=="#"||a.tag=="^"||R(a,c)){e.push(a);a.nodes=U(b,a.tag,e,c);f.push(a)}else{if(a.tag=="/"){if(e.length===0){throw new Error("Closing tag without opener: /"+a.n)}d=e.pop();if(a.n!=d.n&&!P(a.n,d.n,c)){throw new Error("Nesting error: "+d.n+" vs. "+a.n)}d.end=a.i;return f}else{f.push(a)}}}if(e.length>0){throw new Error("missing closing tag: "+e.pop().n)}return f}function R(d,b){for(var a=0,c=b.length;a<c;a++){if(b[a].o==d.n){d.tag="#";return true}}}function P(c,a,b){for(var e=0,d=b.length;e<d;e++){if(b[e].c==c&&b[e].o==a){return true}}}function F(a){return'var _=this;_.b(i=i||"");'+B(a)+"return _.fl();"}I.generate=function(b,a,c){if(c.asString){return"function(c,p,i){"+b+";}"}return new I.Template(new Function("c","p","i",b),a,I,c)};function z(a){return a.replace(A,"\\\\").replace(M,'\\"').replace(H,"\\n").replace(L,"\\r")}function N(a){return(~a.indexOf("."))?"d":"f"}function B(c){var b="";for(var e=0,a=c.length;e<a;e++){var d=c[e].tag;if(d=="#"){b+=O(c[e].nodes,c[e].n,N(c[e].n),c[e].i,c[e].end,c[e].otag+" "+c[e].ctag)}else{if(d=="^"){b+=C(c[e].nodes,c[e].n,N(c[e].n))}else{if(d=="<"||d==">"){b+=S(c[e])}else{if(d=="{"||d=="&"){b+=T(c[e].n,N(c[e].n))}else{if(d=="\n"){b+=K('"\\n"'+(c.length-1==e?"":" + i"))}else{if(d=="_v"){b+=G(c[e].n,N(c[e].n))}else{if(d===undefined){b+=K('"'+z(c[e])+'"')}}}}}}}}return b}function O(d,b,c,f,e,a){return"if(_.s(_."+c+'("'+z(b)+'",c,p,1),c,p,0,'+f+","+e+',"'+a+'")){_.rs(c,p,function(c,p,_){'+B(d)+"});c.pop();}"}function C(c,a,b){return"if(!_.s(_."+b+'("'+z(a)+'",c,p,1),c,p,1,0,0,"")){'+B(c)+"};"}function S(a){return'_.b(_.rp("'+z(a.n)+'",c,p,"'+(a.indent||"")+'"));'}function T(a,b){return"_.b(_."+b+'("'+z(a)+'",c,p,0));'}function G(a,b){return"_.b(_.v(_."+b+'("'+z(a)+'",c,p,0)));'}function K(a){return"_.b("+a+");"}I.parse=function(b,a,c){c=c||{};return U(b,"",[],c.sectionTags||[])},I.cache={};I.compile=function(d,c){c=c||{};var a=d+"||"+!!c.asString;var b=this.cache[a];if(b){return b}b=this.generate(F(this.parse(this.scan(d,c.delimiters),d,c)),d,c);return this.cache[a]=b}})(typeof exports!=="undefined"?exports:Hogan);