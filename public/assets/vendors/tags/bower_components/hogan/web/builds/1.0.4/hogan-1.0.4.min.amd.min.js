var Hogan={};(function(t,s){function l(b){return b=String(b===null||b===undefined?"":b),m.test(b)?b.replace(r,"&amp;").replace(q,"&lt;").replace(p,"&gt;").replace(o,"&#39;").replace(n,"&quot;"):b}t.Template=function(b,h,g,f){this.r=b||this.r,this.c=g,this.options=f,this.text=h||"",this.buf=s?[]:""},t.Template.prototype={r:function(e,d,f){return""},v:l,render:function(a,f,e){return this.ri([a],f||{},e)},ri:function(e,d,f){return this.r(e,d,f)},rp:function(g,f,j,i){var h=j[g];return h?(this.c&&typeof h=="string"&&(h=this.c.compile(h,this.options)),h.ri(f,j,i)):""},rs:function(g,f,j){var i=g[g.length-1];if(!k(i)){j(g,f,this);return}for(var h=0;h<i.length;h++){g.push(i[h]),j(g,f,this),g.pop()}},s:function(j,i,z,y,x,w,v){var u;return k(j)&&j.length===0?!1:(typeof j=="function"&&(j=this.ls(j,i,z,y,x,w,v)),u=j===""||!!j,!y&&u&&i&&i.push(typeof j=="object"?j:i[i.length-1]),u)},d:function(j,i,z,y){var x=j.split("."),w=this.f(x[0],i,z,y),v=null;if(j==="."&&k(i[i.length-2])){return i[i.length-1]}for(var u=1;u<x.length;u++){w&&typeof w=="object"&&x[u] in w?(v=w,w=w[x[u]]):w=""}return y&&!w?!1:(!y&&typeof w=="function"&&(i.push(v),w=this.lv(w,i,z),i.pop()),w)},f:function(j,i,z,y){var x=!1,w=null,v=!1;for(var u=i.length-1;u>=0;u--){w=i[u];if(w&&typeof w=="object"&&j in w){x=w[j],v=!0;break}}return v?(!y&&typeof x=="function"&&(x=this.lv(x,i,z)),x):y?!1:""},ho:function(i,h,x,w,v){var u=this.c,j=i.call(h,w,function(b){return u.compile(b,{delimiters:v}).render(h,x)});return this.b(u.compile(j.toString(),{delimiters:v}).render(h,x)),!1},b:s?function(b){this.buf.push(b)}:function(b){this.buf+=b},fl:s?function(){var b=this.buf.join("");return this.buf=[],b}:function(){var b=this.buf;return this.buf="",b},ls:function(B,A,z,y,x,w,v){var u=A[A.length-1],j=null;if(!y&&this.c&&B.length>0){return this.ho(B,u,z,this.text.substring(x,w),v)}j=B.call(u);if(typeof j=="function"){if(y){return !0}if(this.c){return this.ho(j,u,z,this.text.substring(x,w),v)}}return j},lv:function(g,f,j){var i=f[f.length-1],h=g.call(i);return typeof h=="function"&&(h=h.call(i)),h=h.toString(),this.c&&~h.indexOf("{{")?this.c.compile(h).render(i,j):h}};var r=/&/g,q=/</g,p=/>/g,o=/\'/g,n=/\"/g,m=/[&<>\"\']/,k=Array.isArray||function(b){return Object.prototype.toString.call(b)==="[object Array]"}})(typeof exports!="undefined"?exports:Hogan),function(T){function M(b){b.n.substr(b.n.length-1)==="}"&&(b.n=b.n.substring(0,b.n.length-1))}function L(b){return b.trim?b.trim():b.replace(/^\s*|\s*$/g,"")}function K(g,f,j){if(f.charAt(j)!=g.charAt(0)){return !1}for(var i=1,h=g.length;i<h;i++){if(f.charAt(j+i)!=g.charAt(i)){return !1}}return !0}function J(i,h,n,m){var l=[],k=null,j=null;while(i.length>0){j=i.shift();if(j.tag=="#"||j.tag=="^"||I(j,m)){n.push(j),j.nodes=J(i,j.tag,n,m),l.push(j)}else{if(j.tag=="/"){if(n.length===0){throw new Error("Closing tag without opener: /"+j.n)}k=n.pop();if(j.n!=k.n&&!H(j.n,k.n,m)){throw new Error("Nesting error: "+k.n+" vs. "+j.n)}return k.end=j.i,l}l.push(j)}}if(n.length>0){throw new Error("missing closing tag: "+n.pop().n)}return l}function I(f,e){for(var h=0,g=e.length;h<g;h++){if(e[h].o==f.n){return f.tag="#",!0}}}function H(g,f,j){for(var i=0,h=j.length;i<h;i++){if(j[i].c==g&&j[i].o==f){return !0}}}function G(b){return'var _=this;_.b(i=i||"");'+D(b)+"return _.fl();"}function F(b){return b.replace(O,"\\\\").replace(R,'\\"').replace(Q,"\\n").replace(P,"\\r")}function E(b){return ~b.indexOf(".")?"d":"f"}function D(g){var f="";for(var j=0,i=g.length;j<i;j++){var h=g[j].tag;h=="#"?f+=C(g[j].nodes,g[j].n,E(g[j].n),g[j].i,g[j].end,g[j].otag+" "+g[j].ctag):h=="^"?f+=B(g[j].nodes,g[j].n,E(g[j].n)):h=="<"||h==">"?f+=A(g[j]):h=="{"||h=="&"?f+=z(g[j].n,E(g[j].n)):h=="\n"?f+=x('"\\n"'+(g.length-1==j?"":" + i")):h=="_v"?f+=y(g[j].n,E(g[j].n)):h===undefined&&(f+=x('"'+F(g[j])+'"'))}return f}function C(h,g,l,k,j,i){return"if(_.s(_."+l+'("'+F(g)+'",c,p,1),c,p,0,'+k+","+j+',"'+i+'")){_.rs(c,p,function(c,p,_){'+D(h)+"});c.pop();}"}function B(e,d,f){return"if(!_.s(_."+f+'("'+F(d)+'",c,p,1),c,p,1,0,0,"")){'+D(e)+"};"}function A(b){return'_.b(_.rp("'+F(b.n)+'",c,p,"'+(b.indent||"")+'"));'}function z(d,c){return"_.b(_."+c+'("'+F(d)+'",c,p,0));'}function y(d,c){return"_.b(_.v(_."+c+'("'+F(d)+'",c,p,0)));'}function x(b){return"_.b("+b+");"}var S=/\S/,R=/\"/g,Q=/\n/g,P=/\r/g,O=/\\/g,N={"#":1,"^":2,"/":3,"!":4,">":5,"<":6,"=":7,_v:8,"{":9,"&":10};T.scan=function(ah,ag){function h(){Y.length>0&&(X.push(new String(Y)),Y="")}function g(){var d=!0;for(var e=U;e<X.length;e++){d=X[e].tag&&N[X[e].tag]<N._v||!X[e].tag&&X[e].match(S)===null;if(!d){return !1}}return d}function b(f,e){h();if(f&&g()){for(var l=U,k;l<X.length;l++){X[l].tag||((k=X[l+1])&&k.tag==">"&&(k.indent=X[l].toString()),X.splice(l,1))}}else{e||X.push({tag:"\n"})}W=!1,U=X.length}function a(k,f){var n="="+i,m=k.indexOf(n,f),l=L(k.substring(k.indexOf("=",f)+1,m)).split(" ");return j=l[0],i=l[1],m+n.length-1}var af=ah.length,ae=0,ad=1,ac=2,ab=ae,aa=null,Z=null,Y="",X=[],W=!1,V=0,U=0,j="{{",i="}}";ag&&(ag=ag.split(" "),j=ag[0],i=ag[1]);for(V=0;V<af;V++){ab==ae?K(j,ah,V)?(--V,h(),ab=ad):ah.charAt(V)=="\n"?b(W):Y+=ah.charAt(V):ab==ad?(V+=j.length-1,Z=N[ah.charAt(V+1)],aa=Z?ah.charAt(V+1):"_v",aa=="="?(V=a(ah,V),ab=ae):(Z&&V++,ab=ac),W=V):K(i,ah,V)?(X.push({tag:aa,n:L(Y),otag:j,ctag:i,i:aa=="/"?W-i.length:V+j.length}),Y="",V+=i.length-1,ab=ae,aa=="{"&&(i=="}}"?V++:M(X[X.length-1]))):Y+=ah.charAt(V)}return b(W,!0),X},T.generate=function(a,f,e){return e.asString?"function(c,p,i){"+a+";}":new T.Template(new Function("c","p","i",a),f,T,e)},T.parse=function(e,d,f){return f=f||{},J(e,"",[],f.sectionTags||[])},T.cache={},T.compile=function(f,e){e=e||{};var h=f+"||"+!!e.asString,g=this.cache[h];return g?g:(g=this.generate(G(this.parse(this.scan(f,e.delimiters),f,e)),f,e),this.cache[h]=g)}}(typeof exports!="undefined"?exports:Hogan),typeof define=="function"&&define.amd&&define(Hogan);