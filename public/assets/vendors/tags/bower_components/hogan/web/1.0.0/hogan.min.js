var HoganTemplate=(function(){function c(k){this.text=k}c.prototype={r:function(l,k){return""},v:d,render:function b(l,k){return this.r(l,k)},rp:function(m,o,n,k){var l=n[m];if(!l){return""}return l.render(o,n)},rs:function(o,n,p){var l="";var k=o[o.length-1];if(!g(k)){l=p(o,n);return l}for(var m=0;m<k.length;m++){o.push(k[m]);l+=p(o,n);o.pop()}return l},s:function(p,l,n,m,q,k){if(g(p)&&p.length===0){return false}if(!m&&typeof p=="function"){p=this.ls(p,l,n,q,k)}var o=(p==="")||!!p;if(!m&&o&&l){l.push((typeof p=="object")?p:l[l.length-1])}return o},d:function(o,l,n,p){if(o==="."&&g(l[l.length-2])){return l[l.length-1]}var q=o.split(".");var r=this.f(q[0],l,n,p);var k=null;for(var m=1;m<q.length;m++){if(r&&typeof r=="object"&&q[m] in r){k=r;r=r[q[m]]}else{r=""}}if(p&&!r){return false}if(!p&&typeof r=="function"){l.push(k);r=this.lv(r,l,n);l.pop()}return r},f:function(o,k,n,p){var r=false;var l=null;var q=false;for(var m=k.length-1;m>=0;m--){l=k[m];if(l&&typeof l=="object"&&o in l){r=l[o];q=true;break}}if(!q){return(p)?false:""}if(!p&&typeof r=="function"){r=this.lv(r,k,n)}return r},ho:function(p,k,m,o){var l=p.call(k,o,function(q){return Hogan.compile(q).render(k)});var n=Hogan.compile(l.toString()).render(k,m);this.b=n;return false},b:"",ls:function(p,m,o,q,l){var k=m[m.length-1];if(p.length>0){return this.ho(p,k,o,this.text.substring(q,l))}var n=p.call(k);if(typeof n=="function"){return this.ho(n,k,o,this.text.substring(q,l))}return n},lv:function(n,l,m){var k=l[l.length-1];return Hogan.compile(n.call(k).toString()).render(k,m)}};var h=/&/g,e=/</g,a=/>/g,j=/\'/g,i=/\"/g,f=/[&<>\"\']/;function d(l){var k=String(l===null?"":l);return f.test(k)?k.replace(h,"&amp;").replace(e,"&lt;").replace(a,"&gt;").replace(j,"&#39;").replace(i,"&quot;"):k}var g=Array.isArray||function(k){return Object.prototype.toString.call(k)==="[object Array]"};return c})();var Hogan=(function(){function m(E){var M=E.length,x=0,B=1,w=2,y=x,A=null,N="",G=[],D=false,L=0,I=0,F="{{",K="}}";function J(){if(N.length>0){G.push(new String(N));N=""}}function z(){var Q=true;for(var P=I;P<G.length;P++){Q=(G[P].tag&&a[G[P].tag]<a._v)||(!G[P].tag&&G[P].match(f)==null);if(!Q){return false}}return Q}function H(R,P){J();if(R&&z()){for(var Q=I;Q<G.length;Q++){if(!G[Q].tag){G.splice(Q,1)}}}else{if(!P){G.push({tag:"\n"})}}D=false;I=G.length}function C(T,Q){var S="="+K;var P=T.indexOf(S,Q);var R=q(T.substring(T.indexOf("=",Q)+1,P)).split(" ");F=R[0];K=R[1];return P+S.length-1}for(L=0;L<M;L++){if(y==x){if(v(F,E,L)){--L;J();y=B}else{if(E[L]=="\n"){H(D)}else{N+=E[L]}}}else{if(y==B){L+=F.length-1;var O=a[E[L+1]];A=O?E[L+1]:"_v";D=L;if(A=="="){L=C(E,L);y=x}else{if(O){L++}y=w}}else{if(v(K,E,L)){L+=K.length-1;G.push({tag:A,n:q(N),i:(A=="/")?D-1:L+1});N="";y=x;if(A=="{"){L++}}else{N+=E[L]}}}}H(D,true);return G}function q(w){if(w.trim){return w.trim()}return w.replace(/^\s*|\s*$/g,"")}var f=/\S/;var a={"#":1,"^":2,"/":3,"!":4,">":5,"<":6,"=":7,_v:8,"{":9,"&":10};function v(w,A,y){if(A[y]!=w[0]){return false}for(var z=1,x=w.length;z<x;z++){if(A[y+z]!=w[z]){return false}}return true}function b(C,z,x,B){var w=[],A=null,y=null;while(C.length>0){y=C.shift();if(y.tag=="#"||y.tag=="^"||e(y,B)){x.push(y);y.nodes=b(C,y.tag,x,B);w.push(y)}else{if(y.tag=="/"){if(x.length==0){throw new Error("Closing tag without opener: /"+y.n)}A=x.pop();if(y.n!=A.n&&!g(y.n,A.n,B)){throw new Error("Nesting error: "+A.n+" vs. "+y.n)}A.end=y.i;return w}else{w.push(y)}}}if(x.length>0){throw new Error("missing closing tag: "+x.pop().n)}return w}function e(z,x){for(var y=0,w=x.length;y<w;y++){if(x[y].o==z.n){z.tag="#";return true}}}function g(A,y,x){for(var z=0,w=x.length;z<w;z++){if(x[z].c==A&&x[z].o==y){return true}}}function p(w,A,x){var z='var c = [cx];var b = "";var _ = this;'+s(w)+"return b;";if(x.asString){return"function(cx,p){"+z+";};"}var y=new HoganTemplate(A);y.r=new Function("cx","p",z);return y}var j=/\"/g,n=/\n/g,k=/\r/g,t=/\\/g;function u(w){return w.replace(t,"\\\\").replace(j,'\\"').replace(n,"\\n").replace(k,"\\r")}function i(w){return(~w.indexOf("."))?"d":"f"}function s(x){var A="";for(var z=0,y=x.length;z<y;z++){var w=x[z].tag;if(w=="#"){A+=h(x[z].nodes,x[z].n,i(x[z].n),x[z].i,x[z].end)}else{if(w=="^"){A+=r(x[z].nodes,x[z].n,i(x[z].n))}else{if(w=="<"||w==">"){A+=d(x[z].n)}else{if(w=="{"||w=="&"){A+=c(x[z].n,i(x[z].n))}else{if(w=="\n"){A+=l("\n")}else{if(w=="_v"){A+=o(x[z].n,i(x[z].n))}else{if(w===undefined){A+=l(x[z])}}}}}}}}return A}function h(x,B,A,z,w){var y="if(_.s(_."+A+'("'+u(B)+'",c,p,1),';y+="c,p,0,"+z+","+w+")){";y+="b += _.rs(c,p,";y+='function(c,p){ var b = "";';y+=s(x);y+="return b;});c.pop();}";y+='else{b += _.b; _.b = ""};';return y}function r(w,z,y){var x="if (!_.s(_."+y+'("'+u(z)+'",c,p,1),c,p,1,0,0)){';x+=s(w);x+="};";return x}function d(w){return'b += _.rp("'+u(w)+'",c[c.length - 1],p);'}function c(x,w){return"b += (_."+w+'("'+u(x)+'",c,p,0));'}function o(x,w){return"b += (_.v(_."+w+'("'+u(x)+'",c,p,0)));'}function l(w){return'b += "'+u(w)+'";'}return({scan:m,parse:function(x,w){w=w||{};return b(x,"",[],w.sectionTags||[])},cache:{},compile:function(y,w){w=w||{};var x=this.cache[y];if(x){return x}x=p(this.parse(m(y),w),y,w);return this.cache[y]=x}})})();if(typeof module!=="undefined"&&module.exports){module.exports=Hogan;module.exports.Template=HoganTemplate}else{if(typeof exports!=="undefined"){exports.Hogan=Hogan;exports.HoganTemplate=HoganTemplate}};