(function(){var b={},c="ttView",a;a={initialize:function(f){var e;f=utils.isArray(f)?f:[f];if(f.length===0){$.error("no datasets provided")}e=utils.map(f,function(h){var g=b[h.name]?b[h.name]:new Dataset(h);if(h.name){b[h.name]=g}return g});return this.each(d);function d(){var i=$(this),h,g=new EventBus({el:i});h=utils.map(e,function(j){return j.initialize()});i.data(c,new TypeaheadView({input:i,eventBus:g=new EventBus({el:i}),datasets:e}));$.when.apply($,h).always(function(){utils.defer(function(){g.trigger("initialized")})})}},destroy:function(){return this.each(d);function d(){var f=$(this),e=f.data(c);if(e){e.destroy();f.removeData(c)}}},setQuery:function(d){return this.each(e);function e(){var f=$(this).data(c);f&&f.setQuery(d)}}};jQuery.fn.typeahead=function(d){if(a[d]){return a[d].apply(this,[].slice.call(arguments,1))}else{return a.initialize.apply(this,arguments)}}})();