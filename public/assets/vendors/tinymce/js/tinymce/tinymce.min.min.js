!function(aS,aA){function aI(d,b){for(var f,c=[],a=0;a<d.length;++a){if(f=aB[d[a]]||aH(d[a]),!f){throw"module definition dependecy not found: "+d[a]}c.push(f)}b.apply(null,c)}function aC(c,b,a){if("string"!=typeof c){throw"invalid module definition, module id must be defined and be a string"}if(b===aA){throw"invalid module definition, dependencies must be specified"}if(a===aA){throw"invalid module definition, definition function must be specified"}aI(b,function(){aB[c]=a.apply(null,arguments)})}function aO(a){return !!aB[a]}function aH(b){for(var d=aS,c=b.split(/[.\/]/),a=0;a<c.length;++a){if(!d[c[a]]){return}d=d[c[a]]}return d}function aX(g){for(var e=0;e<g.length;e++){for(var d=aS,f=g[e],c=f.split(/[.\/]/),b=0;b<c.length-1;++b){d[c[b]]===aA&&(d[c[b]]={}),d=d[c[b]]}d[c[c.length-1]]=aB[f]}}var aB={},aL="tinymce/dom/Sizzle",aU="tinymce/html/Styles",az="tinymce/dom/EventUtils",aT="tinymce/dom/TreeWalker",aR="tinymce/util/Tools",aG="tinymce/dom/Range",aJ="tinymce/html/Entities",aP="tinymce/Env",aQ="tinymce/dom/DOMUtils",ay="tinymce/dom/ScriptLoader",au="tinymce/AddOnManager",aW="tinymce/html/Node",bw="tinymce/html/Schema",av="tinymce/html/SaxParser",aw="tinymce/html/DomParser",aY="tinymce/html/Writer",bj="tinymce/html/Serializer",aM="tinymce/dom/Serializer",bu="tinymce/dom/TridentSelection",bc="tinymce/util/VK",ba="tinymce/dom/ControlSelection",be="tinymce/dom/Selection",bz="tinymce/dom/RangeUtils",by="tinymce/Formatter",bq="tinymce/UndoManager",bl="tinymce/EnterKey",bv="tinymce/ForceBlocks",bm="tinymce/EditorCommands",bg="tinymce/util/URI",bh="tinymce/util/Class",bp="tinymce/ui/Selector",bs="tinymce/ui/Collection",a6="tinymce/ui/DomUtils",ar="tinymce/ui/Control",a8="tinymce/ui/Factory",a9="tinymce/ui/Container",aF="tinymce/ui/DragHelper",aN="tinymce/ui/Scrollable",bI="tinymce/ui/Panel",bn="tinymce/ui/Movable",br="tinymce/ui/Resizable",a2="tinymce/ui/FloatPanel",a4="tinymce/ui/KeyboardNavigation",bo="tinymce/ui/Window",bf="tinymce/ui/MessageBox",a1="tinymce/WindowManager",bT="tinymce/util/Quirks",bb="tinymce/util/Observable",a3="tinymce/Shortcuts",bN="tinymce/Editor",ap="tinymce/util/I18n",ax="tinymce/FocusManager",bx="tinymce/EditorManager",bE="tinymce/LegacyInput",bL="tinymce/util/XHR",ao="tinymce/util/JSON",aD="tinymce/util/JSONRequest",ah="tinymce/util/JSONP",bJ="tinymce/util/LocalStorage",ak="tinymce/Compat",bC="tinymce/ui/Layout",aZ="tinymce/ui/AbsoluteLayout",bA="tinymce/ui/Tooltip",am="tinymce/ui/Widget",bG="tinymce/ui/Button",aV="tinymce/ui/ButtonGroup",a0="tinymce/ui/Checkbox",bP="tinymce/ui/PanelButton",ae="tinymce/ui/ColorButton",bS="tinymce/ui/ComboBox",bF="tinymce/ui/Path",aa="tinymce/ui/ElementPath",aj="tinymce/ui/FormItem",bQ="tinymce/ui/Form",bH="tinymce/ui/FieldSet",af="tinymce/ui/FilePicker",bK="tinymce/ui/FitLayout",bB="tinymce/ui/FlexLayout",bD="tinymce/ui/FlowLayout",bO="tinymce/ui/FormatControls",aq="tinymce/ui/GridLayout",ad="tinymce/ui/Iframe",aE="tinymce/ui/Label",bd="tinymce/ui/Toolbar",a5="tinymce/ui/MenuBar",ab="tinymce/ui/MenuButton",an="tinymce/ui/ListBox",bi="tinymce/ui/MenuItem",aK="tinymce/ui/Menu",bk="tinymce/ui/Radio",ac="tinymce/ui/ResizeHandle",ai="tinymce/ui/Spacer",a7="tinymce/ui/SplitButton",al="tinymce/ui/StackLayout",bM="tinymce/ui/TabPanel",bR="tinymce/ui/TextBox",ag="tinymce/ui/Throbber";aC(aL,[],function(){function b(f,g,d,c){return a.find(f,g,d,c)}if(!window.jQuery){throw new Error("Load jQuery first")}var a=jQuery;return b.matches=function(c,d){return a(d).is(c)?d:[]},b}),aC(aU,[],function(){return function(k,w){function g(l,c,o,d){function a(i){return i=parseInt(i,10).toString(16),i.length>1?i:"0"+i}return"#"+a(c)+a(o)+a(d)}var b=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,j=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,f=/\s*([^:]+):\s*([^;]+);?/g,q=/\s+$/,x,h,p={},v,m="\ufeff";for(k=k||{},v=("\\\" \\' \\; \\: ; : "+m).split(" "),h=0;h<v.length;h++){p[v[h]]=m+h,p[m+h]=v[h]}return{toHex:function(a){return a.replace(b,g)},parse:function(F){function G(u,l){var C,s,d,y;C=e[u+"-top"+l],C&&(s=e[u+"-right"+l],C==s&&(d=e[u+"-bottom"+l],s==d&&(y=e[u+"-left"+l],d==y&&(e[u+l]=y,delete e[u+"-top"+l],delete e[u+"-right"+l],delete e[u+"-bottom"+l],delete e[u+"-left"+l]))))}function i(l){var d=e[l],s;if(d&&!(d.indexOf(" ")<0)){for(d=d.split(" "),s=d.length;s--;){if(d[s]!==d[0]){return !1}}return e[l]=d[0],!0}}function E(s,d,u,l){i(d)&&i(u)&&i(l)&&(e[s]=e[d]+" "+e[u]+" "+e[l],delete e[d],delete e[u],delete e[l])}function z(d){return B=!0,p[d]}function r(l,d){return B&&(l=l.replace(/\uFEFF[0-9]/g,function(s){return p[s]})),d||(l=l.replace(/\\([\'\";:])/g,"$1")),l}function c(u,l,C,s,d,y){return(d=d||y)?(d=r(d),"'"+d.replace(/\'/g,"\\'")+"'"):(l=r(l||C||s),A&&(l=A.call(a,l,"style")),"url('"+l.replace(/\'/g,"\\'")+"')")}var e={},n,o,D,B,A=k.url_converter,a=k.url_converter_scope||this;if(F){for(F=F.replace(/\\[\"\';:\uFEFF]/g,z).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(d){return d.replace(/[;:]/g,z)});n=f.exec(F);){o=n[1].replace(q,"").toLowerCase(),D=n[2].replace(q,""),o&&D.length>0&&("font-weight"===o&&"700"===D?D="bold":("color"===o||"background-color"===o)&&(D=D.toLowerCase()),D=D.replace(b,g),D=D.replace(j,c),e[o]=B?r(D,!0):D),f.lastIndex=n.index+n[0].length}G("border",""),G("border","-width"),G("border","-color"),G("border","-style"),G("padding",""),G("margin",""),E("border","border-width","border-style","border-color"),"medium none"===e.border&&delete e.border}return e},serialize:function(s,u){function l(A){var y,z,i,e;if(y=w.styles[A]){for(z=0,i=y.length;i>z;z++){A=y[z],e=s[A],e!==x&&e.length>0&&(d+=(d.length>0?" ":"")+A+": "+e+";")}}}var d="",t,c;if(u&&w&&w.styles){l("*"),l(u)}else{for(t in s){c=s[t],c!==x&&c.length>0&&(d+=(d.length>0?" ":"")+t+": "+c+";")}}return d}}}}),aC(az,[],function(){function h(l,a,m,i){l.addEventListener?l.addEventListener(a,m,i||!1):l.attachEvent&&l.attachEvent("on"+a,m)}function d(l,a,m,i){l.removeEventListener?l.removeEventListener(a,m,i||!1):l.detachEvent&&l.detachEvent("on"+a,m)}function k(v,z){function p(){return !1}function a(){return !0}var s,m=z||{},q;for(s in v){f[s]||(m[s]=v[s])}if(m.target||(m.target=m.srcElement||document),v&&b.test(v.type)&&v.pageX===q&&v.clientX!==q){var x=m.target.ownerDocument||document,y=x.documentElement,w=x.body;m.pageX=v.clientX+(y&&y.scrollLeft||w&&w.scrollLeft||0)-(y&&y.clientLeft||w&&w.clientLeft||0),m.pageY=v.clientY+(y&&y.scrollTop||w&&w.scrollTop||0)-(y&&y.clientTop||w&&w.clientTop||0)}return m.preventDefault=function(){m.isDefaultPrevented=a,v&&(v.preventDefault?v.preventDefault():v.returnValue=!1)},m.stopPropagation=function(){m.isPropagationStopped=a,v&&(v.stopPropagation?v.stopPropagation():v.cancelBubble=!0)},m.stopImmediatePropagation=function(){m.isImmediatePropagationStopped=a,m.stopPropagation()},m.isDefaultPrevented||(m.isDefaultPrevented=p,m.isPropagationStopped=p,m.isImmediatePropagationStopped=p),m}function g(w,t,p){function u(){p.domLoaded||(p.domLoaded=!0,t(v))}function m(){"complete"===e.readyState&&(d(e,"readystatechange",m),u())}function q(){try{e.documentElement.doScroll("left")}catch(a){return setTimeout(q,0),void 0}u()}var e=w.document,v={type:"ready"};return p.domLoaded?(t(v),void 0):(e.addEventListener?h(w,"DOMContentLoaded",u):(h(e,"readystatechange",m),e.documentElement.doScroll&&w===w.top&&q()),h(w,"load",u),void 0)}function c(){function o(u,l){var w,s,a,v;if(w=p[l][u.type]){for(s=0,a=w.length;a>s;s++){if(v=w[s],v&&v.func.call(v.scope,u)===!1&&u.preventDefault(),u.isImmediatePropagationStopped()){return}}}}var m=this,p={},e,t,n,r,q;t=j+(+new Date).toString(32),r="onmouseenter" in document.documentElement,n="onfocusin" in document.documentElement,q={mouseenter:"mouseover",mouseleave:"mouseout"},e=1,m.domLoaded=!1,m.events=p,m.bind=function(H,l,i,s){function u(v){o(k(v||F.event),z)}var z,G,B,A,a,D,E,F=window;if(H&&3!==H.nodeType&&8!==H.nodeType){for(H[t]?z=H[t]:(z=e++,H[t]=z,p[z]={}),s=s||H,l=l.split(" "),B=l.length;B--;){A=l[B],D=u,a=E=!1,"DOMContentLoaded"===A&&(A="ready"),m.domLoaded&&"ready"===A&&"complete"==H.readyState?i.call(s,k({type:A})):(r||(a=q[A],a&&(D=function(x){var v,w;if(v=x.currentTarget,w=x.relatedTarget,w&&v.contains){w=v.contains(w)}else{for(;w&&w!==v;){w=w.parentNode}}w||(x=k(x||F.event),x.type="mouseout"===x.type?"mouseleave":"mouseenter",x.target=v,o(x,z))})),n||"focusin"!==A&&"focusout"!==A||(E=!0,a="focusin"===A?"focus":"blur",D=function(v){v=k(v||F.event),v.type="focus"===v.type?"focusin":"focusout",o(v,z)}),G=p[z][A],G?"ready"===A&&m.domLoaded?i({type:A}):G.push({func:i,scope:s}):(p[z][A]=G=[{func:i,scope:s}],G.fakeName=a,G.capture=E,G.nativeHandler=D,"ready"===A?g(H,D,m):h(H,a||A,D,E)))}return H=G=0,i}},m.unbind=function(A,w,a){var y,v,x,C,B,z;if(!A||3===A.nodeType||8===A.nodeType){return m}if(y=A[t]){if(z=p[y],w){for(w=w.split(" "),x=w.length;x--;){if(B=w[x],v=z[B]){if(a){for(C=v.length;C--;){v[C].func===a&&v.splice(C,1)}}a&&0!==v.length||(delete z[B],d(A,v.fakeName||B,v.nativeHandler,v.capture))}}}else{for(B in z){v=z[B],d(A,v.fakeName||B,v.nativeHandler,v.capture)}z={}}for(B in z){return m}delete p[y];try{delete A[t]}catch(s){A[t]=null}}return m},m.fire=function(l,a,i){var s;if(!l||3===l.nodeType||8===l.nodeType){return m}i=k(null,i),i.type=a,i.target=l;do{s=l[t],s&&o(i,s),l=l.parentNode||l.ownerDocument||l.defaultView||l.parentWindow}while(l&&!i.isPropagationStopped());return m},m.clean=function(l){var a,s,i=m.unbind;if(!l||3===l.nodeType||8===l.nodeType){return m}if(l[t]&&i(l),l.getElementsByTagName||(l=l.document),l&&l.getElementsByTagName){for(i(l),s=l.getElementsByTagName("*"),a=s.length;a--;){l=s[a],l[t]&&i(l)}}return m},m.destroy=function(){p={}},m.cancel=function(a){return a&&(a.preventDefault(),a.stopImmediatePropagation()),!1}}var j="mce-data-",b=/^(?:mouse|contextmenu)|click/,f={keyLocation:1,layerX:1,layerY:1};return c.Event=new c,c.Event.bind(window,"ready",function(){}),c}),aC(aT,[],function(){return function(c,a){function d(j,l,h,g){var k,f;if(j){if(!g&&j[l]){return j[l]}if(j!=a){if(k=j[h]){return k}for(f=j.parentNode;f&&f!=a;f=f.parentNode){if(k=f[h]){return k}}}}}var b=c;this.current=function(){return b},this.next=function(f){return b=d(b,"firstChild","nextSibling",f)},this.prev=function(f){return b=d(b,"lastChild","previousSibling",f)}}}),aC(aR,[],function(){function A(a,c){return c?"array"==c&&y(a)?!0:typeof a==c:a!==aA}function q(d){var a=[],f,c;for(f=0,c=d.length;c>f;f++){a[f]=d[f]}return a}function b(d,a,f){var c;for(d=d||[],a=a||",","string"==typeof d&&(d=d.split(a)),f=f||{},c=d.length;c--;){f[d[c]]={}}return f}function w(d,g,c){var a,f;if(!d){return 0}if(c=c||d,d.length!==aA){for(a=0,f=d.length;f>a;a++){if(g.call(c,d[a],a,d)===!1){return 0}}}else{for(a in d){if(d.hasOwnProperty(a)&&g.call(c,d[a],a,d)===!1){return 0}}}return 1}function k(c,a){var d=[];return w(c,function(f){d.push(a(f))}),d}function D(c,a){var d=[];return w(c,function(f){(!a||a(f))&&d.push(f)}),d}function F(p,H,g){var d=this,m,f,G,I,h,u=0;if(p=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(p),G=p[3].match(/(^|\.)(\w+)$/i)[2],f=d.createNS(p[3].replace(/\.\w+$/,""),g),!f[G]){if("static"==p[2]){return f[G]=H,this.onCreate&&this.onCreate(p[2],p[3],f[G]),void 0}H[G]||(H[G]=function(){},u=1),f[G]=H[G],d.extend(f[G].prototype,H),p[5]&&(m=d.resolve(p[5]).prototype,I=p[5].match(/\.(\w+)$/i)[1],h=f[G],f[G]=u?function(){return m[I].apply(this,arguments)}:function(){return this.parent=m[I],h.apply(this,arguments)},f[G].prototype[G]=f[G],d.each(m,function(c,a){f[G].prototype[a]=m[a]}),d.each(H,function(c,a){m[a]?f[G].prototype[a]=function(){return this.parent=m[a],c.apply(this,arguments)}:a!=G&&(f[G].prototype[a]=c)})),d.each(H["static"],function(c,a){f[G][a]=c})}}function v(d,a){var f,c;if(d){for(f=0,c=d.length;c>f;f++){if(d[f]===a){return f}}}return -1}function C(h,m){var g,d,l,c=arguments,f;for(g=1,d=c.length;d>g;g++){m=c[g];for(l in m){m.hasOwnProperty(l)&&(f=m[l],f!==aA&&(h[l]=f))}}return h}function E(d,a,f,c){c=c||this,d&&(f&&(d=d[f]),w(d,function(h,g){return a.call(c,h,g,f)===!1?!1:(E(h,a,f,c),void 0)}))}function B(d,a){var f,c;for(a=a||window,d=d.split("."),f=0;f<d.length;f++){c=d[f],a[c]||(a[c]={}),a=a[c]}return a}function z(d,a){var f,c;for(a=a||window,d=d.split("."),f=0,c=d.length;c>f&&(a=a[d[f]],a);f++){}return a}function j(a,c){return !a||A(a,"array")?a:k(a.split(c||","),x)}var t=/^\s*|\s*$/g,x=function(a){return null===a||a===aA?"":(""+a).replace(t,"")},y=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};return{trim:x,isArray:y,is:A,toArray:q,makeMap:b,each:w,map:k,grep:D,inArray:v,extend:C,create:F,walk:E,createNS:B,resolve:z,explode:j}}),aC(aG,[aR],function(b){function a(ce){function ca(){return bt.createDocumentFragment()}function cj(d,c){cr(bW,d,c)}function cd(d,c){cr(e,d,c)}function cq(c){cj(c.parentNode,b2(c))}function b9(c){cj(c.parentNode,b2(c)+1)}function cg(c){cd(c.parentNode,b2(c))}function co(c){cd(c.parentNode,b2(c)+1)}function b8(c){c?(bY[G]=bY[t],bY[cb]=bY[b3]):(bY[t]=bY[G],bY[b3]=bY[cb]),bY.collapsed=bW}function cn(c){cq(c),co(c)}function cm(c){cj(c,0),cd(c,1===c.nodeType?c.childNodes.length:c.nodeValue.length)}function cc(k,q){var g=bY[t],d=bY[b3],j=bY[G],f=bY[cb],p=q.startContainer,u=q.startOffset,h=q.endContainer,m=q.endOffset;return 0===k?b6(g,d,p,u):1===k?b6(j,f,p,u):2===k?b6(j,f,h,m):3===k?b6(g,d,h,m):void 0}function cf(){Z(bU)}function ck(){return Z(X)}function cl(){return Z(Y)}function b7(g){var d=this[t],f=this[b3],c,h;3!==d.nodeType&&4!==d.nodeType||!d.nodeValue?(d.childNodes.length>0&&(h=d.childNodes[f]),h?d.insertBefore(g,h):d.appendChild(g)):f?f>=d.nodeValue.length?ce.insertAfter(g,d):(c=d.splitText(f),d.parentNode.insertBefore(g,c)):d.parentNode.insertBefore(g,d)}function b4(d){var c=bY.extractContents();bY.insertNode(d),d.appendChild(c),bY.selectNode(d)}function cp(){return ci(new a(ce),{startContainer:bY[t],startOffset:bY[b3],endContainer:bY[G],endOffset:bY[cb],collapsed:bY.collapsed,commonAncestorContainer:bY.commonAncestorContainer})}function bZ(d,c){var f;if(3==d.nodeType){return d}if(0>c){return d}for(f=d.firstChild;f&&c>0;){--c,f=f.nextSibling}return f?f:d}function b5(){return bY[t]==bY[G]&&bY[b3]==bY[cb]}function b6(j,p,d,h){var f,m,q,g,k,n;if(j==d){return p==h?0:h>p?-1:1}for(f=d;f&&f.parentNode!=j;){f=f.parentNode}if(f){for(m=0,q=j.firstChild;q!=f&&p>m;){m++,q=q.nextSibling}return m>=p?-1:1}for(f=j;f&&f.parentNode!=d;){f=f.parentNode}if(f){for(m=0,q=d.firstChild;q!=f&&h>m;){m++,q=q.nextSibling}return h>m?-1:1}for(g=ce.findCommonAncestor(j,d),k=j;k&&k.parentNode!=g;){k=k.parentNode}for(k||(k=g),n=d;n&&n.parentNode!=g;){n=n.parentNode}if(n||(n=g),k==n){return 0}for(q=g.firstChild;q;){if(q==k){return -1}if(q==n){return 1}q=q.nextSibling}}function cr(g,d,f){var c,h;for(g?(bY[t]=d,bY[b3]=f):(bY[G]=d,bY[cb]=f),c=bY[G];c.parentNode;){c=c.parentNode}for(h=bY[t];h.parentNode;){h=h.parentNode}h==c?b6(bY[t],bY[b3],bY[G],bY[cb])>0&&bY.collapse(g):bY.collapse(g),bY.collapsed=b5(),bY.commonAncestorContainer=ce.findCommonAncestor(bY[t],bY[G])}function Z(k){var q,g=0,d=0,j,f,p,u,h,m;if(bY[t]==bY[G]){return ch(k)}for(q=bY[G],j=q.parentNode;j;q=j,j=j.parentNode){if(j==bY[t]){return bX(q,k)}++g}for(q=bY[t],j=q.parentNode;j;q=j,j=j.parentNode){if(j==bY[G]){return K(q,k)}++d}for(f=d-g,p=bY[t];f>0;){p=p.parentNode,f--}for(u=bY[G];0>f;){u=u.parentNode,f++}for(h=p.parentNode,m=u.parentNode;h!=m;h=h.parentNode,m=m.parentNode){p=h,u=m}return J(p,u,k)}function ch(j){var q,f,h,d,m,r,g,k,p;if(j!=bU&&(q=ca()),bY[b3]==bY[cb]){return q}if(3==bY[t].nodeType){if(f=bY[t].nodeValue,h=f.substring(bY[b3],bY[cb]),j!=Y&&(d=bY[t],k=bY[b3],p=bY[cb]-bY[b3],0===k&&p>=d.nodeValue.length-1?d.parentNode.removeChild(d):d.deleteData(k,p),bY.collapse(bW)),j==bU){return}return h.length>0&&q.appendChild(bt.createTextNode(h)),q}for(d=bZ(bY[t],bY[b3]),m=bY[cb]-bY[b3];d&&m>0;){r=d.nextSibling,g=bV(d,j),q&&q.appendChild(g),--m,d=r}return j!=Y&&bY.collapse(bW),q}function bX(j,g){var m,f,k,d,h,c;if(g!=bU&&(m=ca()),f=Q(j,g),m&&m.appendChild(f),k=b2(j),d=k-bY[b3],0>=d){return g!=Y&&(bY.setEndBefore(j),bY.collapse(e)),m}for(f=j.previousSibling;d>0;){h=f.previousSibling,c=bV(f,g),m&&m.insertBefore(c,m.firstChild),--d,f=h}return g!=Y&&(bY.setEndBefore(j),bY.collapse(e)),m}function K(j,g){var m,f,k,d,h,c;for(g!=bU&&(m=ca()),k=b1(j,g),m&&m.appendChild(k),f=b2(j),++f,d=bY[cb]-f,k=j.nextSibling;k&&d>0;){h=k.nextSibling,c=bV(k,g),m&&m.appendChild(c),--d,k=h}return g!=Y&&(bY.setStartAfter(j),bY.collapse(bW)),m}function J(k,v,g){var j,f,q,w,h,p,r,m;for(g!=bU&&(f=ca()),j=b1(k,g),f&&f.appendChild(j),q=k.parentNode,w=b2(k),h=b2(v),++w,p=h-w,r=k.nextSibling;p>0;){m=r.nextSibling,j=bV(r,g),f&&f.appendChild(j),r=m,--p}return j=Q(v,g),f&&f.appendChild(j),g!=Y&&(bY.setStartAfter(k),bY.collapse(bW)),f}function Q(j,m){var f=bZ(bY[G],bY[cb]-1),c,h,d,k,p,g=f!=bY[G];if(f==j){return b0(f,g,e,m)}for(c=f.parentNode,h=b0(c,e,e,m);c;){for(;f;){d=f.previousSibling,k=b0(f,g,e,m),m!=bU&&h.insertBefore(k,h.firstChild),g=bW,f=d}if(c==j){return h}f=c.previousSibling,c=c.parentNode,p=b0(c,e,e,m),m!=bU&&p.appendChild(h),h=p}}function b1(j,m){var f=bZ(bY[t],bY[b3]),c=f!=bY[t],h,d,k,p,g;if(f==j){return b0(f,c,bW,m)}for(h=f.parentNode,d=b0(h,e,bW,m);h;){for(;f;){k=f.nextSibling,p=b0(f,c,bW,m),m!=bU&&d.appendChild(p),c=bW,f=k}if(h==j){return d}f=h.nextSibling,h=h.parentNode,g=b0(h,e,bW,m),m!=bU&&g.appendChild(d),d=g}}function b0(j,n,d,h){var f,m,p,g,k;if(n){return bV(j,h)}if(3==j.nodeType){if(f=j.nodeValue,d?(g=bY[b3],m=f.substring(g),p=f.substring(0,g)):(g=bY[cb],m=f.substring(0,g),p=f.substring(g)),h!=Y&&(j.nodeValue=p),h==bU){return}return k=ce.clone(j,e),k.nodeValue=m,k}if(h!=bU){return ce.clone(j,e)}}function bV(d,c){return c!=bU?c==Y?ce.clone(d,bW):d:(d.parentNode.removeChild(d),void 0)}function at(){return ce.create("body",null,cl()).outerText}var bY=this,bt=ce.doc,X=0,Y=1,bU=2,bW=!0,e=!1,b3="startOffset",t="startContainer",G="endContainer",cb="endOffset",ci=b.extend,b2=ce.nodeIndex;return ci(bY,{startContainer:bt,startOffset:0,endContainer:bt,endOffset:0,collapsed:bW,commonAncestorContainer:bt,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:cj,setEnd:cd,setStartBefore:cq,setStartAfter:b9,setEndBefore:cg,setEndAfter:co,collapse:b8,selectNode:cn,selectNodeContents:cm,compareBoundaryPoints:cc,deleteContents:cf,extractContents:ck,cloneContents:cl,insertNode:b7,surroundContents:b4,cloneRange:cp,toStringIE:at}),bY}return a.prototype.toString=function(){return this.toStringIE()},a}),aC(aJ,[aR],function(p){function y(c){var a;return a=document.createElement("div"),a.innerHTML=c,a.textContent||a.innerText||c}function h(o,f){var s,l,d,c={};if(o){for(o=o.split(","),f=f||10,s=0;s<o.length;s+=2){l=String.fromCharCode(parseInt(o[s],f)),g[l]||(d="&"+o[s+1]+";",c[l]=d,c[d]=l)}return c}}var b=p.makeMap,k,g,w,z=/[&<>\"\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,j=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,v=/[<>&\"\']/g,x=/&(#x|#)?([\w]+);/g,q={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"};g={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;"},w={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},k=h("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var m={encodeRaw:function(c,a){return c.replace(a?z:j,function(d){return g[d]||d})},encodeAllRaw:function(a){return(""+a).replace(v,function(c){return g[c]||c})},encodeNumeric:function(c,a){return c.replace(a?z:j,function(d){return d.length>1?"&#"+(1024*(d.charCodeAt(0)-55296)+(d.charCodeAt(1)-56320)+65536)+";":g[d]||"&#"+d.charCodeAt(0)+";"})},encodeNamed:function(c,a,d){return d=d||k,c.replace(a?z:j,function(f){return g[f]||d[f]||f})},getEncodeFunc:function(i,f){function d(a,c){return a.replace(c?z:j,function(n){return g[n]||f[n]||"&#"+n.charCodeAt(0)+";"||n})}function l(a,c){return m.encodeNamed(a,c,f)}return f=h(f)||k,i=b(i.replace(/\+/g,",")),i.named&&i.numeric?d:i.named?f?l:m.encodeNamed:i.numeric?m.encodeNumeric:m.encodeRaw},decode:function(a){return a.replace(x,function(d,f,c){return f?(c=parseInt(c,2===f.length?16:10),c>65535?(c-=65536,String.fromCharCode(55296+(c>>10),56320+(1023&c))):q[c]||String.fromCharCode(c)):w[d]||k[d]||y(d)})}};return m}),aC(aP,[],function(){var j=navigator,p=j.userAgent,f,b,h,d,m,q,g;f=window.opera&&window.opera.buildNumber,b=/WebKit/.test(p),h=!b&&!f&&/MSIE/gi.test(p)&&/Explorer/gi.test(j.appName),h=h&&/MSIE (\w+)\./.exec(p)[1],d=-1!=p.indexOf("Trident")?11:!1,h=h||d,m=!b&&/Gecko/.test(p),q=-1!=p.indexOf("Mac"),g=/(iPad|iPhone)/.test(p);var k=!g||p.match(/AppleWebKit\/(\d*)/)[1]>=534;return{opera:f,webkit:b,ie:h,gecko:m,mac:q,iOS:g,contentEditable:k,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!=h,range:window.getSelection&&"Range" in window,documentMode:h?document.documentMode||7:10}}),aC(aQ,[aL,aU,az,aT,aG,aJ,aP,aR],function(H,A,w,D,z,L,t,C){function J(c,b){var a=this,d;a.doc=c,a.win=window,a.files={},a.counter=0,a.stdMode=!F||c.documentMode>=8,a.boxModel=!F||"CSS1Compat"==c.compatMode||a.stdMode,a.hasOuterHTML="outerHTML" in c.createElement("a"),a.settings=b=B({keep_values:!1,hex_colors:1},b),a.schema=b.schema,a.styles=new A({url_converter:b.url_converter,url_converter_scope:b.url_converter_scope},b.schema),a.fixDoc(c),a.events=b.ownEvents?new w(b.proxy):w.Event,d=b.schema?b.schema.getBlockElements():{},a.isBlock=function(g){if(!g){return !1}var f=g.nodeType;return f?!(1!==f||!d[g.nodeName]):!!d[g]}}var q=C.each,I=C.is,G=C.grep,x=C.trim,B=C.extend,E=t.webkit,F=t.ie,k=/^([a-z0-9],?)+$/i,j=/^[ \t\r\n]*$/,K=C.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," ");return J.prototype={root:null,props:{"for":"htmlFor","class":"className",className:"className",checked:"checked",disabled:"disabled",maxlength:"maxLength",readonly:"readOnly",selected:"selected",value:"value",id:"id",name:"name",type:"type"},fixDoc:function(b){var a=this.settings,c;if(F&&a.schema){"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,function(d){b.createElement(d)});for(c in a.schema.getCustomElements()){b.createElement(c)}}},clone:function(d,b){var f=this,c,a;return !F||1!==d.nodeType||b?d.cloneNode(b):(a=f.doc,b?c.firstChild:(c=a.createElement(d.nodeName),q(f.getAttribs(d),function(e){f.setAttrib(c,e.nodeName,f.getAttrib(d,e.nodeName))}),c))},getRoot:function(){var a=this;return a.get(a.settings.root_element)||a.doc.body},getViewPort:function(b){var a,c;return b=b?b:this.win,a=b.document,c=this.boxModel?a.documentElement:a.body,{x:b.pageXOffset||c.scrollLeft,y:b.pageYOffset||c.scrollTop,w:b.innerWidth||c.clientWidth,h:b.innerHeight||c.clientHeight}},getRect:function(c){var a=this,d,b;return c=a.get(c),d=a.getPos(c),b=a.getSize(c),{x:d.x,y:d.y,w:b.w,h:b.h}},getSize:function(c){var a=this,d,b;return c=a.get(c),d=a.getStyle(c,"width"),b=a.getStyle(c,"height"),-1===d.indexOf("px")&&(d=0),-1===b.indexOf("px")&&(b=0),{w:parseInt(d,10)||c.offsetWidth||c.clientWidth,h:parseInt(b,10)||c.offsetHeight||c.clientHeight}},getParent:function(b,a,c){return this.getParents(b,a,c,!1)},getParents:function(g,l,f,c){var h=this,b,d=[];for(g=h.get(g),c=c===aA,f=f||("BODY"!=h.getRoot().nodeName?h.getRoot().parentNode:null),I(l,"string")&&(b=l,l="*"===l?function(a){return 1==a.nodeType}:function(a){return h.is(a,b)});g&&g!=f&&g.nodeType&&9!==g.nodeType;){if(!l||l(g)){if(!c){return g}d.push(g)}g=g.parentNode}return c?d:null},get:function(b){var a;return b&&this.doc&&"string"==typeof b&&(a=b,b=this.doc.getElementById(b),b&&b.id!==a)?this.doc.getElementsByName(a)[1]:b},getNext:function(b,a){return this._findSib(b,a,"nextSibling")},getPrev:function(b,a){return this._findSib(b,a,"previousSibling")},select:function(a,c){var b=this;return H(a,b.get(c)||b.get(b.settings.root_element)||b.doc,[])},is:function(c,b){var a;if(c.length===aA){if("*"===b){return 1==c.nodeType}if(k.test(b)){for(b=b.toLowerCase().split(/,/),c=c.nodeName.toLowerCase(),a=b.length-1;a>=0;a--){if(b[a]==c){return !0}}return !1}}return c.nodeType&&1!=c.nodeType?!1:H.matches(b,c.nodeType?[c]:c).length>0},add:function(d,b,g,c,a){var f=this;return this.run(d,function(i){var h;return h=I(b,"string")?f.doc.createElement(b):b,f.setAttribs(h,g),c&&(c.nodeType?h.appendChild(c):f.setHTML(h,c)),a?h:i.appendChild(h)})},create:function(b,a,c){return this.add(this.doc.createElement(b),b,a,c,1)},createHTML:function(d,b,f){var c="",a;c+="<"+d;for(a in b){b.hasOwnProperty(a)&&null!==b[a]&&(c+=" "+a+'="'+this.encode(b[a])+'"')}return"undefined"!=typeof f?c+">"+f+"</"+d+">":c+" />"},createFragment:function(d){var b,f,c=this.doc,a;for(a=c.createElement("div"),b=c.createDocumentFragment(),d&&(a.innerHTML=d);f=a.firstChild;){b.appendChild(f)}return b},remove:function(b,a){return this.run(b,function(d){var f,c=d.parentNode;if(!c){return null}if(a){for(;f=d.firstChild;){!F||3!==f.nodeType||f.nodeValue?c.insertBefore(f,d):d.removeChild(f)}}return c.removeChild(d)})},setStyle:function(b,a,c){return this.run(b,function(h){var g=this,f,l;if(a){if("string"==typeof a){f=h.style,a=a.replace(/-(\D)/g,function(m,i){return i.toUpperCase()}),"number"!=typeof c||K[a]||(c+="px"),"opacity"===a&&h.runtimeStyle&&"undefined"==typeof h.runtimeStyle.opacity&&(f.filter=""===c?"":"alpha(opacity="+100*c+")"),"float"==a&&(a="cssFloat" in h.style?"cssFloat":"styleFloat");try{f[a]=c}catch(d){}g.settings.update_styles&&h.removeAttribute("data-mce-style")}else{for(l in a){g.setStyle(h,l,a[l])}}}})},getStyle:function(c,d,b){if(c=this.get(c)){if(this.doc.defaultView&&b){d=d.replace(/[A-Z]/g,function(f){return"-"+f});try{return this.doc.defaultView.getComputedStyle(c,null).getPropertyValue(d)}catch(a){return null}}return d=d.replace(/-(\D)/g,function(g,f){return f.toUpperCase()}),"float"==d&&(d=F?"styleFloat":"cssFloat"),c.currentStyle&&b?c.currentStyle[d]:c.style?c.style[d]:aA}},setStyles:function(b,a){this.setStyle(b,a)},css:function(b,a,c){this.setStyle(b,a,c)},removeAllAttribs:function(a){return this.run(a,function(c){var b,d=c.attributes;for(b=d.length-1;b>=0;b--){c.removeAttributeNode(d.item(b))}})},setAttrib:function(c,a,d){var b=this;if(c&&a){return this.run(c,function(g){var f=b.settings,h=g.getAttribute(a);if(null!==d){switch(a){case"style":if(!I(d,"string")){return q(d,function(e,i){b.setStyle(g,i,e)}),void 0}f.keep_values&&(d?g.setAttribute("data-mce-style",d,2):g.removeAttribute("data-mce-style",2)),g.style.cssText=d;break;case"class":g.className=d||"";break;case"src":case"href":f.keep_values&&(f.url_converter&&(d=f.url_converter.call(f.url_converter_scope||b,d,a,g)),b.setAttrib(g,"data-mce-"+a,d,2));break;case"shape":g.setAttribute("data-mce-style",d)}}I(d)&&null!==d&&0!==d.length?g.setAttribute(a,""+d,2):g.removeAttribute(a,2),h!=d&&f.onSetAttrib&&f.onSetAttrib({attrElm:g,attrName:a,attrValue:d})})}},setAttribs:function(b,a){var c=this;return this.run(b,function(d){q(a,function(e,f){c.setAttrib(d,f,e)})})},getAttrib:function(d,b,g){var c,a=this,f;if(d=a.get(d),!d||1!==d.nodeType){return g===f?!1:g}if(I(g)||(g=""),/^(src|href|style|coords|shape)$/.test(b)&&(c=d.getAttribute("data-mce-"+b))){return c}if(F&&a.props[b]&&(c=d[a.props[b]],c=c&&c.nodeValue?c.nodeValue:c),c||(c=d.getAttribute(b,2)),/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noshade|nowrap|readonly|selected)$/.test(b)){return d[a.props[b]]===!0&&""===c?b:c?b:""}if("FORM"===d.nodeName&&d.getAttributeNode(b)){return d.getAttributeNode(b).nodeValue}if("style"===b&&(c=c||d.style.cssText,c&&(c=a.serializeStyle(a.parseStyle(c),d.nodeName),a.settings.keep_values&&d.setAttribute("data-mce-style",c))),E&&"class"===b&&c&&(c=c.replace(/(apple|webkit)\-[a-z\-]+/gi,"")),F){switch(b){case"rowspan":case"colspan":1===c&&(c="");break;case"size":("+0"===c||20===c||0===c)&&(c="");break;case"width":case"height":case"vspace":case"checked":case"disabled":case"readonly":0===c&&(c="");break;case"hspace":-1===c&&(c="");break;case"maxlength":case"tabindex":(32768===c||2147483647===c||"32768"===c)&&(c="");break;case"multiple":case"compact":case"noshade":case"nowrap":return 65535===c?b:g;case"shape":c=c.toLowerCase();break;default:0===b.indexOf("on")&&c&&(c=(""+c).replace(/^function\s+\w+\(\)\s+\{\s+(.*)\s+\}$/,"$1"))}}return c!==f&&null!==c&&""!==c?""+c:g},getPos:function(h,d){var m=this,g=0,c=0,l,b=m.doc,f;if(h=m.get(h),d=d||b.body,h){if(d===b.body&&h.getBoundingClientRect){return f=h.getBoundingClientRect(),d=m.boxModel?b.documentElement:b.body,g=f.left+(b.documentElement.scrollLeft||b.body.scrollLeft)-d.clientTop,c=f.top+(b.documentElement.scrollTop||b.body.scrollTop)-d.clientLeft,{x:g,y:c}}for(l=h;l&&l!=d&&l.nodeType;){g+=l.offsetLeft||0,c+=l.offsetTop||0,l=l.offsetParent}for(l=h.parentNode;l&&l!=d&&l.nodeType;){g-=l.scrollLeft||0,c-=l.scrollTop||0,l=l.parentNode}}return{x:g,y:c}},parseStyle:function(a){return this.styles.parse(a)},serializeStyle:function(b,a){return this.styles.serialize(b,a)},addStyle:function(d){var b=this,g=b.doc,c,a;if(b!==J.DOM&&g===document){var f=J.DOM.addedStyles;if(f=f||[],f[d]){return}f[d]=!0,J.DOM.addedStyles=f}a=g.getElementById("mceDefaultStyles"),a||(a=g.createElement("style"),a.id="mceDefaultStyles",a.type="text/css",c=g.getElementsByTagName("head")[0],c.firstChild?c.insertBefore(a,c.firstChild):c.appendChild(a)),a.styleSheet?a.styleSheet.cssText+=d:a.appendChild(g.createTextNode(d))},loadCSS:function(c){var a=this,d=a.doc,b;return a!==J.DOM&&d===document?(J.DOM.loadCSS(c),void 0):(c||(c=""),b=d.getElementsByTagName("head")[0],q(c.split(","),function(g){var f;a.files[g]||(a.files[g]=!0,f=a.create("link",{rel:"stylesheet",href:g}),F&&d.documentMode&&d.recalc&&(f.onload=function(){d.recalc&&d.recalc(),f.onload=null}),b.appendChild(f))}),void 0)},addClass:function(b,a){return this.run(b,function(c){var d;return a?this.hasClass(c,a)?c.className:(d=this.removeClass(c,a),c.className=d=(""!==d?d+" ":"")+a,d):0})},removeClass:function(c,a){var d=this,b;return d.run(c,function(g){var f;return d.hasClass(g,a)?(b||(b=new RegExp("(^|\\s+)"+a+"(\\s+|$)","g")),f=g.className.replace(b," "),f=x(" "!=f?f:""),g.className=f,f||(g.removeAttribute("class"),g.removeAttribute("className")),f):g.className})},hasClass:function(b,a){return b=this.get(b),b&&a?-1!==(" "+b.className+" ").indexOf(" "+a+" "):!1},toggleClass:function(b,c,a){a=a===aA?!this.hasClass(b,c):a,this.hasClass(b,c)!==a&&(a?this.addClass(b,c):this.removeClass(b,c))},show:function(a){return this.setStyle(a,"display","block")},hide:function(a){return this.setStyle(a,"display","none")},isHidden:function(a){return a=this.get(a),!a||"none"==a.style.display||"none"==this.getStyle(a,"display")},uniqueId:function(a){return(a?a:"mce_")+this.counter++},setHTML:function(b,a){var c=this;return c.run(b,function(g){if(F){for(;g.firstChild;){g.removeChild(g.firstChild)}try{g.innerHTML="<br />"+a,g.removeChild(g.firstChild)}catch(f){var d=c.create("div");d.innerHTML="<br />"+a,q(G(d.childNodes),function(e,h){h&&g.canHaveHTML&&g.appendChild(e)})}}else{g.innerHTML=a}return a})},getOuterHTML:function(b){var a,c=this;return(b=c.get(b))?1===b.nodeType&&c.hasOuterHTML?b.outerHTML:(a=(b.ownerDocument||c.doc).createElement("body"),a.appendChild(b.cloneNode(!0)),a.innerHTML):null},setOuterHTML:function(c,a,d){var b=this;return b.run(c,function(g){function f(){var e,l;for(l=d.createElement("body"),l.innerHTML=a,e=l.lastChild;e;){b.insertAfter(e.cloneNode(!0),g),e=e.previousSibling}b.remove(g)}if(1==g.nodeType){if(d=d||g.ownerDocument||b.doc,F){try{1==g.nodeType&&b.hasOuterHTML?g.outerHTML=a:f()}catch(h){f()}}else{f()}}})},decode:L.decode,encode:L.encodeAllRaw,insertAfter:function(b,a){return a=this.get(a),this.run(b,function(d){var f,c;return f=a.parentNode,c=a.nextSibling,c?f.insertBefore(d,c):f.appendChild(d),d})},replace:function(c,a,d){var b=this;return b.run(a,function(e){return I(e,"array")&&(c=c.cloneNode(!0)),d&&q(G(e.childNodes),function(f){c.appendChild(f)}),e.parentNode.replaceChild(c,e)})},rename:function(c,a){var d=this,b;return c.nodeName!=a.toUpperCase()&&(b=d.create(a),q(d.getAttribs(c),function(e){d.setAttrib(b,e.nodeName,d.getAttrib(c,e.nodeName))}),d.replace(b,c,1)),b||c},findCommonAncestor:function(c,a){for(var d=c,b;d;){for(b=a;b&&d!=b;){b=b.parentNode}if(d==b){break}d=d.parentNode}return !d&&c.ownerDocument?c.ownerDocument.documentElement:d},toHex:function(a){return this.styles.toHex(C.trim(a))},run:function(d,b,f){var c=this,a;return"string"==typeof d&&(d=c.get(d)),d?(f=f||this,d.nodeType||!d.length&&0!==d.length?b.call(f,d):(a=[],q(d,function(g,h){g&&("string"==typeof g&&(g=c.get(g)),a.push(b.call(f,g,h)))}),a)):!1},getAttribs:function(b){var a;if(b=this.get(b),!b){return[]}if(F){if(a=[],"OBJECT"==b.nodeName){return b.attributes}"OPTION"===b.nodeName&&this.getAttrib(b,"selected")&&a.push({specified:1,nodeName:"selected"});var c=/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi;return b.cloneNode(!1).outerHTML.replace(c,"").replace(/[\w:\-]+/gi,function(d){a.push({specified:1,nodeName:d})}),a}return b.attributes},isEmpty:function(h,p){var f=this,b,d,m,u,g,i=0;if(h=h.firstChild){u=new D(h,h.parentNode),p=p||f.schema?f.schema.getNonEmptyElements():null;do{if(m=h.nodeType,1===m){if(h.getAttribute("data-mce-bogus")){continue}if(g=h.nodeName.toLowerCase(),p&&p[g]){if("br"===g){i++;continue}return !1}for(d=f.getAttribs(h),b=h.attributes.length;b--;){if(g=h.attributes[b].nodeName,"name"===g||"data-mce-bookmark"===g){return !1}}}if(8==m){return !1}if(3===m&&!j.test(h.nodeValue)){return !1}}while(h=u.next())}return 1>=i},createRng:function(){var a=this.doc;return a.createRange?a.createRange():new z(this)},nodeIndex:function(d,b){var g=0,c,a,f;if(d){for(c=d.nodeType,d=d.previousSibling,a=d;d;d=d.previousSibling){f=d.nodeType,(!b||3!=f||f!=c&&d.nodeValue.length)&&(g++,c=f)}}return g},split:function(h,p,d){function b(v){function l(o){var a=o.previousSibling&&"SPAN"==o.previousSibling.nodeName,s=o.nextSibling&&"SPAN"==o.nextSibling.nodeName;return a&&s}var M,y=v.childNodes,i=v.nodeType;if(1!=i||"bookmark"!=v.getAttribute("data-mce-type")){for(M=y.length-1;M>=0;M--){b(y[M])}if(9!=i){if(3==i&&v.nodeValue.length>0){var r=x(v.nodeValue).length;if(!g.isBlock(v.parentNode)||r>0||0===r&&l(v)){return}}else{if(1==i&&(y=v.childNodes,1==y.length&&y[0]&&1==y[0].nodeType&&"bookmark"==y[0].getAttribute("data-mce-type")&&v.parentNode.insertBefore(y[0],v),y.length||/^(br|hr|input|img)$/i.test(v.nodeName))){return}}g.remove(v)}return v}}var g=this,c=g.createRng(),m,u,f;return h&&p?(c.setStart(h.parentNode,g.nodeIndex(h)),c.setEnd(p.parentNode,g.nodeIndex(p)),m=c.extractContents(),c=g.createRng(),c.setStart(p.parentNode,g.nodeIndex(p)+1),c.setEnd(h.parentNode,g.nodeIndex(h)+1),u=c.extractContents(),f=h.parentNode,f.insertBefore(b(m),h),d?f.replaceChild(d,p):f.insertBefore(p,h),f.insertBefore(b(u),h),g.remove(h),d||p):void 0},bind:function(c,a,d,b){return this.events.bind(c,a,d,b||this)},unbind:function(b,a,c){return this.events.unbind(b,a,c)},fire:function(b,a,c){return this.events.fire(b,a,c)},getContentEditable:function(b){var a;return 1!=b.nodeType?null:(a=b.getAttribute("data-mce-contenteditable"),a&&"inherit"!==a?a:"inherit"!==b.contentEditable?b.contentEditable:null)},destroy:function(){var a=this;a.win=a.doc=a.root=a.events=a.frag=null},dumpRng:function(a){return"startContainer: "+a.startContainer.nodeName+", startOffset: "+a.startOffset+", endContainer: "+a.endContainer.nodeName+", endOffset: "+a.endOffset},_findSib:function(d,b,f){var c=this,a=b;if(d){for("string"==typeof a&&(a=function(g){return c.is(g,b)}),d=d[f];d;d=d[f]){if(a(d)){return d}}}return null}},J.DOM=new J(document),J}),aC(ay,[aQ,aR],function(d,b){function g(){function k(y,w){function A(){z.remove(x),l&&(l.onreadystatechange=l.onload=l=null),w()}function u(){"undefined"!=typeof console&&console.log&&console.log("Failed to load: "+y)}var z=c,l,x;x=z.uniqueId(),l=document.createElement("script"),l.id=x,l.type="text/javascript",l.src=y,"onreadystatechange" in l?l.onreadystatechange=function(){/loaded|complete/.test(l.readyState)&&A()}:l.onload=A,l.onerror=u,(document.getElementsByTagName("head")[0]||document.body).appendChild(l)}var r=0,h=1,p=2,v={},i=[],o={},q=[],m=0,j;this.isDone=function(l){return v[l]==p},this.markDone=function(l){v[l]=p},this.add=this.load=function(t,u,s){var l=v[t];l==j&&(i.push(t),v[t]=r),u&&(o[t]||(o[t]=[]),o[t].push({func:u,scope:s||this}))},this.loadQueue=function(n,l){this.loadScripts(i,n,l)},this.loadScripts=function(s,u,n){function w(l){a(o[l],function(t){t.func.call(t.scope)}),o[l]=j}var e;q.push({func:u,scope:n||this}),e=function(){var l=f(s);s.length=0,a(l,function(x){return v[x]==p?(w(x),void 0):(v[x]!=h&&(v[x]=h,m++,k(x,function(){v[x]=p,m--,w(x),e()})),void 0)}),m||(a(q,function(t){t.func.call(t.scope)}),q.length=0)},e()}}var c=d.DOM,a=b.each,f=b.grep;return g.ScriptLoader=new g,g}),aC(au,[ay,aR],function(c,d){function b(){var f=this;f.items=[],f.urls={},f.lookup={}}var a=d.each;return b.prototype={get:function(f){return this.lookup[f]?this.lookup[f].instance:aA},dependencies:function(g){var f;return this.lookup[g]&&(f=this.lookup[g].dependencies),f||[]},requireLangPack:function(e){var f=b.settings;f&&f.language&&f.language_load!==!1&&c.ScriptLoader.add(this.urls[e]+"/langs/"+f.language+".js")},add:function(g,f,h){return this.items.push(f),this.lookup[g]={instance:f,dependencies:h},f},createUrl:function(g,f){return"object"==typeof f?f:{prefix:g.prefix,resource:f,suffix:g.suffix}},addComponents:function(e,g){var f=this.urls[e];a(g,function(h){c.ScriptLoader.add(f+"/"+h)})},load:function(k,i,f,h){function e(){var l=j.dependencies(k);a(l,function(m){var o=j.createUrl(i,m);j.load(o.resource,o,aA,aA)}),f&&(h?f.call(h):f.call(c))}var j=this,g=i;j.urls[k]||("object"==typeof i&&(g=i.prefix+i.resource+i.suffix),0!==g.indexOf("/")&&-1==g.indexOf("://")&&(g=b.baseURL+"/"+g),j.urls[k]=g.substring(0,g.lastIndexOf("/")),j.lookup[k]?e():c.ScriptLoader.add(g,e,h))}},b.PluginManager=new b,b.ThemeManager=new b,b}),aC(aW,[],function(){function c(k,h,m){var j,g,l=m?"lastChild":"firstChild",f=m?"prev":"next";if(k[l]){return k[l]}if(k!==h){if(j=k[f]){return j}for(g=k.parent;g&&g!==h;g=g.parent){if(j=g[f]){return j}}}}function a(g,f){this.name=g,this.type=f,1===f&&(this.attributes=[],this.attributes.map={})}var d=/^[ \t\r\n]*$/,b={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};return a.prototype={replace:function(g){var f=this;return g.parent&&g.remove(),f.insert(g,f),f.remove(),f},attr:function(j,g){var l=this,h,f,k;if("string"!=typeof j){for(f in j){l.attr(f,j[f])}return l}if(h=l.attributes){if(g!==k){if(null===g){if(j in h.map){for(delete h.map[j],f=h.length;f--;){if(h[f].name===j){return h=h.splice(f,1),l}}}return l}if(j in h.map){for(f=h.length;f--;){if(h[f].name===j){h[f].value=g;break}}}else{h.push({name:j,value:g})}return h.map[j]=g,l}return h.map[j]}},clone:function(){var k=this,m=new a(k.name,k.type),j,g,l,f,h;if(l=k.attributes){for(h=[],h.map={},j=0,g=l.length;g>j;j++){f=l[j],"id"!==f.name&&(h[h.length]={name:f.name,value:f.value},h.map[f.name]=f.value)}m.attributes=h}return m.value=k.value,m.shortEnded=k.shortEnded,m},wrap:function(g){var f=this;return f.parent.insert(g,f),g.append(f),f},unwrap:function(){var g=this,f,h;for(f=g.firstChild;f;){h=f.next,g.insert(f,g,!0),f=h}g.remove()},remove:function(){var h=this,f=h.parent,i=h.next,g=h.prev;return f&&(f.firstChild===h?(f.firstChild=i,i&&(i.prev=null)):g.next=i,f.lastChild===h?(f.lastChild=g,g&&(g.next=null)):i.prev=g,h.parent=h.next=h.prev=null),h},append:function(g){var f=this,h;return g.parent&&g.remove(),h=f.lastChild,h?(h.next=g,g.prev=h,f.lastChild=g):f.lastChild=f.firstChild=g,g.parent=f,g},insert:function(h,f,i){var g;return h.parent&&h.remove(),g=f.parent||this,i?(f===g.firstChild?g.firstChild=h:f.prev.next=h,h.prev=f.prev,h.next=f,f.prev=h):(f===g.lastChild?g.lastChild=h:f.next.prev=h,h.next=f.next,h.prev=f,f.next=h),h.parent=g,h},getAll:function(f){var h=this,g,e=[];for(g=h.firstChild;g;g=c(g,h)){g.name===f&&e.push(g)}return e},empty:function(){var f=this,h,g,e;if(f.firstChild){for(h=[],e=f.firstChild;e;e=c(e,f)){h.push(e)}for(g=h.length;g--;){e=h[g],e.parent=e.firstChild=e.lastChild=e.next=e.prev=null}}return f.firstChild=f.lastChild=null,f},isEmpty:function(g){var h=this,f=h.firstChild,j,e;if(f){do{if(1===f.type){if(f.attributes.map["data-mce-bogus"]){continue}if(g[f.name]){return !1}for(j=f.attributes.length;j--;){if(e=f.attributes[j].name,"name"===e||0===e.indexOf("data-mce-")){return !1}}}if(8===f.type){return !1}if(3===f.type&&!d.test(f.value)){return !1}}while(f=c(f,h))}return !0},walk:function(e){return c(this,null,e)}},a.create=function(g,j){var f,h;if(f=new a(g,b[g]||1),j){for(h in j){f.attr(h,j[h])}}return f},a}),aC(bw,[aR],function(h){function k(i,a){return i?i.split(a||" "):[]}function d(w){function q(D,G,C){function s(u){var i={},H,l;for(H=0,l=u.length;l>H;H++){i[u[H]]={}}return i}var E,a,F,p=arguments;for(C=C||[],G=G||"","string"==typeof C&&(C=k(C)),a=3;a<p.length;a++){"string"==typeof p[a]&&(p[a]=k(p[a])),C.push.apply(C,p[a])}for(D=k(D),E=D.length;E--;){F=[].concat(B,k(G)),z[D[E]]={attributes:s(F),attributesOrder:F,children:s(C)}}}function t(u,D){var p,a,C,l;for(u=k(u),p=u.length,D=k(D);p--;){for(a=z[u[p]],C=0,l=D.length;l>C;C++){a.attributes[D[C]]={},a.attributesOrder.push(D[C])}}}var z={},B,r,y,A,x,v,o;return b[w]?b[w]:(B=k("id accesskey class dir lang style tabindex title"),r=k("onabort onblur oncancel oncanplay oncanplaythrough onchange onclick onclose oncontextmenu oncuechange ondblclick ondrag ondragend ondragenter ondragleave ondragover ondragstart ondrop ondurationchange onemptied onended onerror onfocus oninput oninvalid onkeydown onkeypress onkeyup onload onloadeddata onloadedmetadata onloadstart onmousedown onmousemove onmouseout onmouseover onmouseup onmousewheel onpause onplay onplaying onprogress onratechange onreset onscroll onseeked onseeking onseeking onselect onshow onstalled onsubmit onsuspend ontimeupdate onvolumechange onwaiting"),y=k("address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul"),A=k("a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment"),"html4"!=w&&(B.push.apply(B,k("contenteditable contextmenu draggable dropzone hidden spellcheck translate")),y.push.apply(y,k("article aside details dialog figure header footer hgroup section nav")),A.push.apply(A,k("audio canvas command datalist mark meter output progress time wbr video ruby bdi keygen"))),"html5-strict"!=w&&(B.push("xml:lang"),o=k("acronym applet basefont big font strike tt"),A.push.apply(A,o),c(o,function(a){q(a,"",A)}),v=k("center dir isindex noframes"),y.push.apply(y,v),x=[].concat(y,A),c(v,function(a){q(a,"",x)})),x=x||[].concat(y,A),q("html","manifest","head body"),q("head","","base command link meta noscript script style title"),q("title hr noscript br"),q("base","href target"),q("link","href rel media hreflang type sizes hreflang"),q("meta","name http-equiv content charset"),q("style","media type scoped"),q("script","src async defer type charset"),q("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",x),q("address dt dd div caption","",x),q("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",A),q("blockquote","cite",x),q("ol","reversed start type","li"),q("ul","","li"),q("li","value",x),q("dl","","dt dd"),q("a","href target rel media hreflang type",A),q("q","cite",A),q("ins del","cite datetime",x),q("img","src alt usemap ismap width height"),q("iframe","src name width height",x),q("embed","src type width height"),q("object","data type typemustmatch name usemap form width height",x,"param"),q("param","name value"),q("map","name",x,"area"),q("area","alt coords shape href target rel media hreflang type"),q("table","border","caption colgroup thead tfoot tbody tr"+("html4"==w?" col":"")),q("colgroup","span","col"),q("col","span"),q("tbody thead tfoot","","tr"),q("tr","","td th"),q("td","colspan rowspan headers",x),q("th","colspan rowspan headers scope abbr",x),q("form","accept-charset action autocomplete enctype method name novalidate target",x),q("fieldset","disabled form name",x,"legend"),q("label","form for",A),q("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),q("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"==w?x:A),q("select","disabled form multiple name required size","option optgroup"),q("optgroup","disabled label","option"),q("option","disabled label selected value"),q("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),q("menu","type label",x,"li"),q("noscript","",x),"html4"!=w&&(q("wbr"),q("ruby","",A,"rt rp"),q("figcaption","",x),q("mark rt rp summary bdi","",A),q("canvas","width height",x),q("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height",x,"track source"),q("audio","src crossorigin preload autoplay mediagroup loop muted controls",x,"track source"),q("source","src type media"),q("track","kind src srclang label default"),q("datalist","",A,"option"),q("article section nav aside header footer","",x),q("hgroup","","h1 h2 h3 h4 h5 h6"),q("figure","",x,"figcaption"),q("time","datetime",A),q("dialog","open",x),q("command","type label icon disabled checked radiogroup command"),q("output","for form name",A),q("progress","value max",A),q("meter","value min max low high optimum",A),q("details","open",x,"summary"),q("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!=w&&(t("script","language xml:space"),t("style","xml:space"),t("object","declare classid codebase codetype archive standby align border hspace vspace"),t("param","valuetype type"),t("a","charset name rev shape coords"),t("br","clear"),t("applet","codebase archive code object alt name width height align hspace vspace"),t("img","name longdesc align border hspace vspace"),t("iframe","longdesc frameborder marginwidth marginheight scrolling align"),t("font basefont","size color face"),t("input","usemap align"),t("select","onchange"),t("textarea"),t("h1 h2 h3 h4 h5 h6 div p legend caption","align"),t("ul","type compact"),t("li","type"),t("ol dl menu dir","compact"),t("pre","width xml:space"),t("hr","align noshade size width"),t("isindex","prompt"),t("table","summary width frame rules cellspacing cellpadding align bgcolor"),t("col","width align char charoff valign"),t("colgroup","width align char charoff valign"),t("thead","align char charoff valign"),t("tr","align char charoff valign bgcolor"),t("th","axis align char charoff valign nowrap bgcolor width height"),t("form","accept"),t("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),t("tfoot","align char charoff valign"),t("tbody","align char charoff valign"),t("area","nohref"),t("body","background bgcolor text link vlink alink")),"html4"!=w&&(t("input button select textarea","autofocus"),t("input textarea","placeholder"),t("a","download"),t("link script img","crossorigin"),t("iframe","srcdoc sandbox seamless allowfullscreen")),c(k("a form meter progress dfn"),function(a){z[a]&&delete z[a].children[a]}),delete z.caption.children.table,b[w]=z,z)}var b={},g=h.makeMap,c=h.each,j=h.extend,m=h.explode,f=h.inArray;return function(L){function O(e,v,u){var p=L[e];return p?p=g(p,",",g(p.toUpperCase()," ")):(p=b[e],p||(p=g(v," ",g(v.toUpperCase()," ")),p=j(p,u),b[e]=p)),p}function t(p){return new RegExp("^"+p.replace(/([?+*])/g,".$1")+"$")}function M(b0){var bU,Z,bt,b3,X,b2,b1,bZ,at,bV,bX,bY,R,Y,U,V,b4,A,bW,W=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,v=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,u=/[*?+]/;if(b0){for(b0=k(b0,","),s["@"]&&(V=s["@"].attributes,b4=s["@"].attributesOrder),bU=0,Z=b0.length;Z>bU;bU++){if(X=W.exec(b0[bU])){if(Y=X[1],at=X[2],U=X[3],bZ=X[5],bY={},R=[],b2={attributes:bY,attributesOrder:R},"#"===Y&&(b2.paddEmpty=!0),"-"===Y&&(b2.removeEmpty=!0),"!"===X[4]&&(b2.removeEmptyAttrs=!0),V){for(A in V){bY[A]=V[A]}R.push.apply(R,b4)}if(bZ){for(bZ=k(bZ,"|"),bt=0,b3=bZ.length;b3>bt;bt++){if(X=v.exec(bZ[bt])){if(b1={},bX=X[1],bV=X[2].replace(/::/g,":"),Y=X[3],bW=X[4],"!"===bX&&(b2.attributesRequired=b2.attributesRequired||[],b2.attributesRequired.push(bV),b1.required=!0),"-"===bX){delete bY[bV],R.splice(f(R,bV),1);continue}Y&&("="===Y&&(b2.attributesDefault=b2.attributesDefault||[],b2.attributesDefault.push({name:bV,value:bW}),b1.defaultValue=bW),":"===Y&&(b2.attributesForced=b2.attributesForced||[],b2.attributesForced.push({name:bV,value:bW}),b1.forcedValue=bW),"<"===Y&&(b1.validValues=g(bW,"?"))),u.test(bV)?(b2.attributePatterns=b2.attributePatterns||[],b1.pattern=t(bV),b2.attributePatterns.push(b1)):(bY[bV]||R.push(bV),bY[bV]=b1)}}}V||"@"!=at||(V=bY,b4=R),U&&(b2.outputName=at,s[U]=b2),u.test(at)?(b2.pattern=t(at),P.push(b2)):s[at]=b2}}}}function K(p){s={},P=[],M(p),c(q,function(v,u){o[u]=v.children})}function F(p){var u=/^(~)?(.+)$/;p&&c(k(p,","),function(C){var x=u.exec(C),A="~"===x[1],w=A?"span":"div",y=x[2];if(o[y]=o[w],l[y]=w,A||(z[y.toUpperCase()]={},z[y]={}),!s[y]){var v=s[w];v=j({},v),delete v.removeEmptyAttrs,delete v.removeEmpty,s[y]=v}c(o,function(E){E[w]&&(E[y]=E[w])})})}function G(p){var u=/^([+\-]?)(\w+)\[([^\]]+)\]$/;p&&c(k(p,","),function(y){var x=u.exec(y),w,v;x&&(v=x[1],w=v?o[x[2]]:o[x[2]]={"#comment":{}},w=o[x[2]],c(k(x[3],"|"),function(A){"-"===v?delete w[A]:w[A]={}}))})}function I(u){var p=s[u],v;if(p){return p}for(v=P.length;v--;){if(p=P[v],p.pattern.test(u)){return p}}}var J=this,s={},o={},P=[],B,q,r,Q,n,H,z,i,a,l={},D={};L=L||{},q=d(L.schema),L.verify_html===!1&&(L.valid_elements="*[*]"),L.valid_styles&&(B={},c(L.valid_styles,function(u,p){B[p]=m(u)})),r=O("whitespace_elements","pre script noscript style textarea video audio iframe object"),Q=O("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),n=O("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),H=O("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),i=O("non_empty_elements","td th iframe video audio object",n),a=O("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),z=O("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex samp option datalist select optgroup",a),c((L.special||"script noscript style textarea").split(" "),function(p){D[p]=new RegExp("</"+p+"[^>]*>","gi")}),L.valid_elements?K(L.valid_elements):(c(q,function(u,p){s[p]={attributes:u.attributes,attributesOrder:u.attributesOrder},o[p]=u.children}),"html5"!=L.schema&&c(k("strong/b em/i"),function(p){p=k(p,"/"),s[p[1]].outputName=p[0]}),s.img.attributesDefault=[{name:"alt",value:""}],c(k("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(p){s[p]&&(s[p].removeEmpty=!0)}),c(k("p h1 h2 h3 h4 h5 h6 th td pre div address caption"),function(p){s[p].paddEmpty=!0}),c(k("span"),function(p){s[p].removeEmptyAttrs=!0})),F(L.custom_elements),G(L.valid_children),M(L.extended_valid_elements),G("+ol[ul|ol],+ul[ul|ol]"),L.invalid_elements&&c(m(L.invalid_elements),function(p){s[p]&&delete s[p]}),I("span")||M("span[!data-mce-type|*]"),J.children=o,J.styles=B,J.getBoolAttrs=function(){return H},J.getBlockElements=function(){return z},J.getTextBlockElements=function(){return a},J.getShortEndedElements=function(){return n},J.getSelfClosingElements=function(){return Q},J.getNonEmptyElements=function(){return i},J.getWhiteSpaceElements=function(){return r},J.getSpecialElements=function(){return D},J.isValidChild=function(u,p){var v=o[u];return !(!v||!v[p])},J.isValid=function(w,u){var x,v,p=I(w);if(p){if(!u){return !0}if(p.attributes[u]){return !0}if(x=p.attributePatterns){for(v=x.length;v--;){if(x[v].pattern.test(w)){return !0}}}}return !1},J.getElementRule=I,J.getCustomElements=function(){return l},J.addValidElements=M,J.setValidElements=K,J.addCustomElements=F,J.addValidChildren=G,J.elements=s}}),aC(av,[bw,aJ,aR],function(c,a,d){var b=d.each;return function(h,f){var g=this,e=function(){};h=h||{},g.schema=f=f||new c,h.fix_self_closing!==!1&&(h.fix_self_closing=!0),b("comment cdata text start end pi doctype".split(" "),function(i){i&&(g[i]=h[i]||e)}),g.parse=function(b7){function bY(l){var k,m;for(k=b8.length;k--&&b8[k].name!==l;){}if(k>=0){for(m=b8.length-1;m>=k;m--){l=b8[m],l.valid&&cb.end(l.name)}b8.length=k}}function b0(s,m,v,p,l){var u,k;if(m=m.toLowerCase(),v=m in ca?m:K(v||p||l||""),bt&&!b5&&0!==m.indexOf("data-")){if(u=V[m],!u&&j){for(k=j.length;k--&&(u=j[k],!u.pattern.test(m));){}-1===k&&(u=null)}if(!u){return}if(u.validValues&&!(v in u.validValues)){return}}b6.map[m]=v,b6.push({name:m,value:v})}var cb=this,bX,b2=0,b9,bW,b8=[],b6,bZ,b1,b4,b5,bV,at,ca,X,bt,bU,cc,z,b3,V,j,i,n,Z,Y,Q,G,W,J,q,t=0,K=a.decode,U;for(G=new RegExp("<(?:(?:!--([\\w\\W]*?)-->)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([A-Za-z0-9\\-\\:\\.]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),W=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,at=f.getShortEndedElements(),Q=h.self_closing_elements||f.getSelfClosingElements(),ca=f.getBoolAttrs(),bt=h.validate,bV=h.remove_internals,U=h.fix_self_closing,J=f.getSpecialElements();bX=G.exec(b7);){if(b2<bX.index&&cb.text(K(b7.substr(b2,bX.index-b2))),b9=bX[6]){b9=b9.toLowerCase(),":"===b9.charAt(0)&&(b9=b9.substr(1)),bY(b9)}else{if(b9=bX[7]){if(b9=b9.toLowerCase(),":"===b9.charAt(0)&&(b9=b9.substr(1)),X=b9 in at,U&&Q[b9]&&b8.length>0&&b8[b8.length-1].name===b9&&bY(b9),!bt||(bU=f.getElementRule(b9))){if(cc=!0,bt&&(V=bU.attributes,j=bU.attributePatterns),(b3=bX[8])?(b5=-1!==b3.indexOf("data-mce-type"),b5&&bV&&(cc=!1),b6=[],b6.map={},b3.replace(W,b0)):(b6=[],b6.map={}),bt&&!b5){if(i=bU.attributesRequired,n=bU.attributesDefault,Z=bU.attributesForced,Y=bU.removeEmptyAttrs,Y&&!b6.length&&(cc=!1),Z){for(bZ=Z.length;bZ--;){z=Z[bZ],b4=z.name,q=z.value,"{$uid}"===q&&(q="mce_"+t++),b6.map[b4]=q,b6.push({name:b4,value:q})}}if(n){for(bZ=n.length;bZ--;){z=n[bZ],b4=z.name,b4 in b6.map||(q=z.value,"{$uid}"===q&&(q="mce_"+t++),b6.map[b4]=q,b6.push({name:b4,value:q}))}}if(i){for(bZ=i.length;bZ--&&!(i[bZ] in b6.map);){}-1===bZ&&(cc=!1)}b6.map["data-mce-bogus"]&&(cc=!1)}cc&&cb.start(b9,b6,X)}else{cc=!1}if(bW=J[b9]){bW.lastIndex=b2=bX.index+bX[0].length,(bX=bW.exec(b7))?(cc&&(b1=b7.substr(b2,bX.index-b2)),b2=bX.index+bX[0].length):(b1=b7.substr(b2),b2=b7.length),cc&&(b1.length>0&&cb.text(b1,!0),cb.end(b9)),G.lastIndex=b2;continue}X||(b3&&b3.indexOf("/")==b3.length-1?cc&&cb.end(b9):b8.push({name:b9,valid:cc}))}else{(b9=bX[1])?cb.comment(b9):(b9=bX[2])?cb.cdata(b9):(b9=bX[3])?cb.doctype(b9):(b9=bX[4])&&cb.pi(b9,bX[5])}}b2=bX.index+bX[0].length}for(b2<b7.length&&cb.text(K(b7.substr(b2))),bZ=b8.length-1;bZ>=0;bZ--){b9=b8[bZ],b9.valid&&cb.end(b9.name)}}}}),aC(aw,[aW,bw,av,aR],function(h,d,k,g){var c=g.makeMap,j=g.each,b=g.explode,f=g.extend;return function(n,e){function t(I){var x,l,w,G,J,E,D,C,u,z,A,B,H,F;for(A=c("tr,td,th,tbody,thead,tfoot,table"),z=e.getNonEmptyElements(),B=e.getTextBlockElements(),x=0;x<I.length;x++){if(l=I[x],l.parent&&!l.fixed){if(B[l.name]&&"li"==l.parent.name){for(H=l.next;H&&B[H.name];){H.name="li",H.fixed=!0,l.parent.insert(H,l.parent),H=H.next}l.unwrap(l)}else{for(G=[l],w=l.parent;w&&!e.isValidChild(w.name,l.name)&&!A[w.name];w=w.parent){G.push(w)}if(w&&G.length>1){for(G.reverse(),J=E=i.filterNode(G[0].clone()),u=0;u<G.length-1;u++){for(e.isValidChild(E.name,G[u].name)?(D=i.filterNode(G[u].clone()),E.append(D)):D=E,C=G[u].firstChild;C&&C!=G[u+1];){F=C.next,D.append(C),C=F}E=D}J.isEmpty(z)?w.insert(l,G[0],!0):(w.insert(J,G[0],!0),w.insert(l,J)),w=G[0],(w.isEmpty(z)||w.firstChild===w.lastChild&&"br"===w.firstChild.name)&&w.empty().remove()}else{if(l.parent){if("li"===l.name){if(H=l.prev,H&&("ul"===H.name||"ul"===H.name)){H.append(l);continue}if(H=l.next,H&&("ul"===H.name||"ul"===H.name)){H.insert(l,H.firstChild,!0);continue}l.wrap(i.filterNode(new h("ul",1)));continue}e.isValidChild(l.parent.name,"div")&&e.isValidChild("div",l.name)?l.wrap(i.filterNode(new h("div",1))):"style"===l.name||"script"===l.name?l.empty().remove():l.unwrap()}}}}}}var i=this,s={},o=[],q={},a={};n=n||{},n.validate="validate" in n?n.validate:!0,n.root_name=n.root_name||"body",i.schema=e=e||new d,i.filterNode=function(p){var l,u,m;u in s&&(m=q[u],m?m.push(p):q[u]=[p]),l=o.length;for(;l--;){u=o[l].name,u in p.attributes.map&&(m=a[u],m?m.push(p):a[u]=[p])}return p},i.addNodeFilter=function(m,l){j(b(m),function(p){var r=s[p];r||(s[p]=r=[]),r.push(l)})},i.addAttributeFilter=function(m,l){j(b(m),function(p){var r;for(r=0;r<o.length;r++){if(o[r].name===p){return o[r].callbacks.push(l),void 0}}o.push({name:p,callbacks:[l]})})},i.parse=function(at,bX){function b2(){function w(y){y&&(u=y.firstChild,u&&3==u.type&&(u.value=u.value.replace(p,"")),u=y.lastChild,u&&3==u.type&&(u.value=u.value.replace(V,"")))}var u=K.firstChild,x,v;if(e.isValidChild(K.name,Q.toLowerCase())){for(;u;){x=u.next,3==u.type||1==u.type&&"p"!==u.name&&!l[u.name]&&!u.attr("data-mce-type")?v?v.append(u):(v=Y(Q,1),K.insert(v,u),v.append(u)):(w(v),v=null),u=x}w(v)}}function Y(v,x){var w=new h(v,x),u;return v in s&&(u=q[v],u?u.push(w):q[v]=[w]),w}function bZ(w){var u,x,v;for(u=w.prev;u&&3===u.type;){x=u.value.replace(V,""),x.length>0?(u.value=x,u=u.prev):(v=u.prev,u.remove(),u=v)}}function b0(v){var u,w={};for(u in v){"li"!==u&&"p"!=u&&(w[u]=v[u])}return w}var X,K,b1,bU,U,W,b3,F,bY,Z,m,l,p,bW=[],bV,V,G,bt,J,r,z,Q;if(bX=bX||{},q={},a={},l=f(c("script,style,head,html,body,title,meta,param"),e.getBlockElements()),z=e.getNonEmptyElements(),r=e.children,m=n.validate,Q="forced_root_block" in bX?bX.forced_root_block:n.forced_root_block,J=e.getWhiteSpaceElements(),p=/^[ \t\r\n]+/,V=/[ \t\r\n]+$/,G=/[ \t\r\n]+/g,bt=/^[ \t\r\n]+$/,X=new k({validate:m,self_closing_elements:b0(e.getSelfClosingElements()),cdata:function(u){b1.append(Y("#cdata",4)).value=u},text:function(v,u){var w;bV||(v=v.replace(G," "),b1.lastChild&&l[b1.lastChild.name]&&(v=v.replace(p,""))),0!==v.length&&(w=Y("#text",3),w.raw=!!u,b1.append(w).value=v)},comment:function(u){b1.append(Y("#comment",8)).value=u},pi:function(v,u){b1.append(Y(v,7)).value=u,bZ(b1)},doctype:function(v){var u;u=b1.append(Y("#doctype",10)),u.value=v,bZ(b1)},start:function(A,w,C){var y,v,B,u,x;if(B=m?e.getElementRule(A):{}){for(y=Y(B.outputName||A,1),y.attributes=w,y.shortEnded=C,b1.append(y),x=r[b1.name],x&&r[y.name]&&!x[y.name]&&bW.push(y),v=o.length;v--;){u=o[v].name,u in w.map&&(bY=a[u],bY?bY.push(y):a[u]=[y])}l[A]&&bZ(y),C||(b1=y),!bV&&J[A]&&(bV=!0)}},end:function(w){var A,x,v,y,u;if(x=m?e.getElementRule(w):{}){if(l[w]&&!bV){if(A=b1.firstChild,A&&3===A.type){if(v=A.value.replace(p,""),v.length>0){A.value=v,A=A.next}else{for(y=A.next,A.remove(),A=y;A&&3===A.type;){v=A.value,y=A.next,(0===v.length||bt.test(v))&&(A.remove(),A=y),A=y}}}if(A=b1.lastChild,A&&3===A.type){if(v=A.value.replace(V,""),v.length>0){A.value=v,A=A.prev}else{for(y=A.prev,A.remove(),A=y;A&&3===A.type;){v=A.value,y=A.prev,(0===v.length||bt.test(v))&&(A.remove(),A=y),A=y}}}}if(bV&&J[w]&&(bV=!1),(x.removeEmpty||x.paddEmpty)&&b1.isEmpty(z)){if(x.paddEmpty){b1.empty().append(new h("#text","3")).value="\xa0"}else{if(!b1.attributes.map.name&&!b1.attributes.map.id){return u=b1.parent,b1.empty().remove(),b1=u,void 0}}}b1=b1.parent}}},e),K=b1=new h(bX.context||n.root_name,11),X.parse(at),m&&bW.length&&(bX.context?bX.invalid=!0:t(bW)),Q&&("body"==K.name||bX.isRootContent)&&b2(),!bX.invalid){for(Z in q){for(bY=s[Z],bU=q[Z],b3=bU.length;b3--;){bU[b3].parent||bU.splice(b3,1)}for(U=0,W=bY.length;W>U;U++){bY[U](bU,Z,bX)}}for(U=0,W=o.length;W>U;U++){if(bY=o[U],bY.name in a){for(bU=a[bY.name],b3=bU.length;b3--;){bU[b3].parent||bU.splice(b3,1)}for(b3=0,F=bY.callbacks.length;F>b3;b3++){bY.callbacks[b3](bU,bY.name,bX)}}}}return K},n.remove_trailing_brs&&i.addNodeFilter("br",function(F){var x,l=F.length,z,w=f({},e.getBlockElements()),D=e.getNonEmptyElements(),C,E,B,A,v,y;for(w.body=1,x=0;l>x;x++){if(z=F[x],C=z.parent,w[z.parent.name]&&z===C.lastChild){for(B=z.prev;B;){if(A=B.name,"span"!==A||"bookmark"!==B.attr("data-mce-type")){if("br"!==A){break}if("br"===A){z=null;break}}B=B.prev}z&&(z.remove(),C.isEmpty(D)&&(v=e.getElementRule(C.name),v&&(v.removeEmpty?C.remove():v.paddEmpty&&(C.empty().append(new h("#text",3)).value="\xa0"))))}else{for(E=z;C&&C.firstChild===E&&C.lastChild===E&&(E=C,!w[C.name]);){C=C.parent}E===C&&(y=new h("#text",3),y.value="\xa0",z.replace(y))}}}),n.allow_html_in_named_anchor||i.addAttributeFilter("id,name",function(u){for(var m=u.length,w,p,l,v;m--;){if(v=u[m],"a"===v.name&&v.firstChild&&!v.attr("href")){l=v.parent,w=v.lastChild;do{p=w.prev,l.insert(w,v),w=p}while(w)}}})}}),aC(aY,[aJ,aR],function(b,a){var c=a.makeMap;return function(g){var j=[],f,k,e,h,d;return g=g||{},f=g.indent,k=c(g.indent_before||""),e=c(g.indent_after||""),h=b.getEncodeFunc(g.entity_encoding||"raw",g.entities),d="html"==g.element_format,{start:function(o,l,r){var q,i,p,m;if(f&&k[o]&&j.length>0&&(m=j[j.length-1],m.length>0&&"\n"!==m&&j.push("\n")),j.push("<",o),l){for(q=0,i=l.length;i>q;q++){p=l[q],j.push(" ",p.name,'="',h(p.value,!0),'"')}}j[j.length]=!r||d?">":" />",r&&f&&e[o]&&j.length>0&&(m=j[j.length-1],m.length>0&&"\n"!==m&&j.push("\n"))},end:function(l){var i;j.push("</",l,">"),f&&e[l]&&j.length>0&&(i=j[j.length-1],i.length>0&&"\n"!==i&&j.push("\n"))},text:function(l,i){l.length>0&&(j[j.length]=i?l:h(l))},cdata:function(i){j.push("<![CDATA[",i,"]]>")},comment:function(i){j.push("<!--",i,"-->")},pi:function(l,i){i?j.push("<?",l," ",i,"?>"):j.push("<?",l,"?>"),f&&j.push("\n")},doctype:function(i){j.push("<!DOCTYPE",i,">",f?"\n":"")},reset:function(){j.length=0},getContent:function(){return j.join("").replace(/\n$/,"")}}}}),aC(bj,[aY,bw],function(b,a){return function(f,d){var c=this,e=new b(f);f=f||{},f.validate="validate" in f?f.validate:!0,c.schema=d=d||new a,c.writer=e,c.serialize=function(k){function j(w){var o=h[w.type],A,r,y,z,x,v,i,q,t;if(o){o(w)}else{if(A=w.name,r=w.shortEnded,y=w.attributes,g&&y&&y.length>1){for(v=[],v.map={},t=d.getElementRule(w.name),i=0,q=t.attributesOrder.length;q>i;i++){z=t.attributesOrder[i],z in y.map&&(x=y.map[z],v.map[z]=x,v.push({name:z,value:x}))}for(i=0,q=y.length;q>i;i++){z=y[i].name,z in v.map||(x=y.map[z],v.map[z]=x,v.push({name:z,value:x}))}y=v}if(e.start(w.name,y,r),!r){if(w=w.firstChild){do{j(w)}while(w=w.next)}e.end(A)}}}var h,g;return g=f.validate,h={3:function(i){e.text(i.value,i.raw)},8:function(i){e.comment(i.value)},7:function(i){e.pi(i.name,i.value)},10:function(i){e.doctype(i.value)},4:function(i){e.cdata(i.value)},11:function(i){if(i=i.firstChild){do{j(i)}while(i=i.next)}}},e.reset(),1!=k.type||f.inner?h[11](k):j(k),e.getContent()}}}),aC(aM,[aQ,aw,aJ,bj,aW,bw,aP,aR],function(j,q,f,b,h,d,m,v){var g=v.each,k=v.trim,p=j.DOM;return function(n,a){var c,o,l;return a&&(c=a.dom,o=a.schema),c=c||p,o=o||new d(n),n.entity_encoding=n.entity_encoding||"named",n.remove_trailing_brs="remove_trailing_brs" in n?n.remove_trailing_brs:!0,l=new q(n,o),l.addAttributeFilter("src,href,style",function(C,w){for(var e=C.length,y,s,A="data-mce-"+w,x=n.url_converter,z=n.url_converter_scope,B;e--;){y=C[e],s=y.attributes.map[A],s!==B?(y.attr(w,s.length>0?s:null),y.attr(A,null)):(s=y.attributes.map[w],"style"===w?s=c.serializeStyle(c.parseStyle(s),y.name):x&&(s=x.call(z,s,w,y.name)),y.attr(w,s.length>0?s:null))}}),l.addAttributeFilter("class",function(u){for(var i=u.length,w,s;i--;){w=u[i],s=w.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),w.attr("class",s.length>0?s:null)}}),l.addAttributeFilter("data-mce-type",function(x,u,y){for(var w=x.length,s;w--;){s=x[w],"bookmark"!==s.attributes.map["data-mce-type"]||y.cleanup||s.remove()}}),l.addAttributeFilter("data-mce-expando",function(r,i){for(var s=r.length;s--;){r[s].attr(i,null)}}),l.addNodeFilter("noscript",function(u){for(var i=u.length,s;i--;){s=u[i].firstChild,s&&(s.value=f.decode(s.value))}}),l.addNodeFilter("script,style",function(y,w){function A(i){return i.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")}for(var x=y.length,u,z;x--;){if(u=y[x],z=u.firstChild?u.firstChild.value:"","script"===w){var s=(u.attr("type")||"text/javascript").replace(/^mce\-/,"");u.attr("type","text/javascript"===s?null:s),z.length>0&&(u.firstChild.value="// <![CDATA[\n"+A(z)+"\n// ]]>")}else{z.length>0&&(u.firstChild.value="<!--\n"+A(z)+"\n-->")}}}),l.addNodeFilter("#comment",function(r){for(var i=r.length,s;i--;){s=r[i],0===s.value.indexOf("[CDATA[")?(s.name="#cdata",s.type=4,s.value=s.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===s.value.indexOf("mce:protected ")&&(s.name="#text",s.type=3,s.raw=!0,s.value=unescape(s.value).substr(14))}}),l.addNodeFilter("xml:namespace,input",function(u,i){for(var w=u.length,s;w--;){s=u[w],7===s.type?s.remove():1===s.type&&("input"!==i||"type" in s.attributes.map||s.attr("type","text"))}}),n.fix_list_elements&&l.addNodeFilter("ul,ol",function(u){for(var i=u.length,w,s;i--;){w=u[i],s=w.parent,("ul"===s.name||"ol"===s.name)&&w.prev&&"li"===w.prev.name&&w.prev.append(w)}}),l.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected",function(r,i){for(var s=r.length;s--;){r[s].attr(i,null)}}),{schema:o,addNodeFilter:l.addNodeFilter,addAttributeFilter:l.addAttributeFilter,serialize:function(w,A){var s=this,z,r,y,e,x;return m.ie&&c.select("script,style,select,map").length>0?(x=w.innerHTML,w=w.cloneNode(!1),c.setHTML(w,x)):w=w.cloneNode(!0),z=w.ownerDocument.implementation,z.createHTMLDocument&&(r=z.createHTMLDocument(""),g("BODY"==w.nodeName?w.childNodes:[w],function(i){r.body.appendChild(r.importNode(i,!0))}),w="BODY"!=w.nodeName?r.body.firstChild:r.body,y=c.doc,c.doc=r),A=A||{},A.format=A.format||"html",A.selection&&(A.forced_root_block=""),A.no_events||(A.node=w,s.onPreProcess(A)),e=new b(n,o),A.content=e.serialize(l.parse(k(A.getInner?w.innerHTML:c.getOuterHTML(w)),A)),A.cleanup||(A.content=A.content.replace(/\uFEFF/g,"")),A.no_events||s.onPostProcess(A),y&&(c.doc=y),A.node=null,A.content},addRules:function(i){o.addValidElements(i)},setRules:function(i){o.setValidElements(i)},onPreProcess:function(i){a&&a.fire("PreProcess",i)},onPostProcess:function(i){a&&a.fire("PostProcess",i)}}}}),aC(bu,[],function(){function a(f){function c(z,k){var e,p=0,j,x,A,m,w,y,v=-1,q;if(e=z.duplicate(),e.collapse(k),q=e.parentElement(),q.ownerDocument===f.dom.doc){for(;"false"===q.contentEditable;){q=q.parentNode}if(!q.hasChildNodes()){return{node:q,inside:1}}for(A=q.children,j=A.length-1;j>=p;){if(y=Math.floor((p+j)/2),m=A[y],e.moveToElementText(m),v=e.compareEndPoints(k?"StartToStart":"EndToEnd",z),v>0){j=y-1}else{if(!(0>v)){return{node:m}}p=y+1}}if(0>v){for(m?e.collapse(!1):(e.moveToElementText(q),e.collapse(!0),m=q,x=!0),w=0;0!==e.compareEndPoints(k?"StartToStart":"StartToEnd",z)&&0!==e.move("character",1)&&q==e.parentElement();){w++}}else{for(e.collapse(!0),w=0;0!==e.compareEndPoints(k?"StartToStart":"StartToEnd",z)&&0!==e.move("character",-1)&&q==e.parentElement();){w++}}return{node:m,position:v,offset:w,inside:x}}}function h(){function i(z){var B=c(e,z),y,w,x=0,o,A,v;if(y=B.node,w=B.offset,B.inside&&!y.hasChildNodes()){return q[z?"setStart":"setEnd"](y,0),void 0}if(w===A){return q[z?"setStartBefore":"setEndAfter"](y),void 0}if(B.position<0){if(o=B.inside?y.firstChild:y.nextSibling,!o){return q[z?"setStartAfter":"setEndAfter"](y),void 0}if(!w){return 3==o.nodeType?q[z?"setStart":"setEnd"](o,0):q[z?"setStartBefore":"setEndBefore"](o),void 0}for(;o;){if(v=o.nodeValue,x+=v.length,x>=w){y=o,x-=w,x=v.length-x;break}o=o.nextSibling}}else{if(o=y.previousSibling,!o){return q[z?"setStartBefore":"setEndBefore"](y)}if(!w){return 3==y.nodeType?q[z?"setStart":"setEnd"](o,y.nodeValue.length):q[z?"setStartAfter":"setEndAfter"](o),void 0}for(;o;){if(x+=o.nodeValue.length,x>=w){y=o,x-=w;break}o=o.previousSibling}}q[z?"setStart":"setEnd"](y,x)}var e=f.getRng(),q=b.createRng(),t,j,p,r,m;if(t=e.item?e.item(0):e.parentElement(),t.ownerDocument!=b.doc){return q}if(j=f.isCollapsed(),e.item){return q.setStart(t.parentNode,b.nodeIndex(t)),q.setEnd(q.startContainer,q.startOffset+1),q}try{i(!0),j||i()}catch(k){if(-2147024809!=k.number){throw k}m=d.getBookmark(2),p=e.duplicate(),p.collapse(!0),t=p.parentElement(),j||(p=e.duplicate(),p.collapse(!1),r=p.parentElement(),r.innerHTML=r.innerHTML),t.innerHTML=t.innerHTML,d.moveToBookmark(m),e=f.getRng(),i(!0),j||i()}return q}var d=this,b=f.dom,g=!1;this.getBookmark=function(l){function j(s){var p,v,q,u,m=[];for(p=s.parentNode,v=b.getRoot().parentNode;p!=v&&9!==p.nodeType;){for(q=p.children,u=q.length;u--;){if(s===q[u]){m.push(u);break}}s=p,p=p.parentNode}return m}function k(m){var o;return o=c(e,m),o?{position:o.position,offset:o.offset,indexes:j(o.node),inside:o.inside}:void 0}var e=f.getRng(),i={};return 2===l&&(e.item?i.start={ctrl:!0,indexes:j(e.item(0))}:(i.start=k(!0),f.isCollapsed()||(i.end=k()))),i},this.moveToBookmark=function(k){function i(s){var p,v,q,u;for(p=b.getRoot(),v=s.length-1;v>=0;v--){u=p.children,q=s[v],q<=u.length-1&&(p=u[q])}return p}function m(t){var p=k[t?"start":"end"],o,q,e,r;p&&(o=p.position>0,q=l.createTextRange(),q.moveToElementText(i(p.indexes)),r=p.offset,r!==e?(q.collapse(p.inside||o),q.moveStart("character",o?-r:r)):q.collapse(t),j.setEndPoint(t?"StartToStart":"EndToStart",q),t&&j.collapse(!0))}var j,l=b.doc.body;k.start&&(k.start.ctrl?(j=l.createControlRange(),j.addElement(i(k.start.indexes)),j.select()):(j=l.createTextRange(),m(!0),m(),j.select()))},this.addRange=function(B){function j(s){var r,D,p,u,l;p=b.create("a"),r=s?C:y,D=s?o:A,u=e.duplicate(),(r==w||r==w.documentElement)&&(r=i,D=0),3==r.nodeType?(r.parentNode.insertBefore(p,r),u.moveToElementText(p),u.moveStart("character",D),b.remove(p),e.setEndPoint(s?"StartToStart":"EndToEnd",u)):(l=r.childNodes,l.length?(D>=l.length?b.insertAfter(p,l[l.length-1]):r.insertBefore(p,l[D]),u.moveToElementText(p)):r.canHaveHTML&&(r.innerHTML="<span>&#xFEFF;</span>",p=r.firstChild,u.moveToElementText(p),u.collapse(g)),e.setEndPoint(s?"StartToStart":"EndToEnd",u),b.remove(p))}var e,z,C,o,y,A,x,w=f.dom.doc,i=w.body,k,q;if(C=B.startContainer,o=B.startOffset,y=B.endContainer,A=B.endOffset,e=i.createTextRange(),C==y&&1==C.nodeType){if(o==A&&!C.hasChildNodes()){if(C.canHaveHTML){return x=C.previousSibling,x&&!x.hasChildNodes()&&b.isBlock(x)?x.innerHTML="&#xFEFF;":x=null,C.innerHTML="<span>&#xFEFF;</span><span>&#xFEFF;</span>",e.moveToElementText(C.lastChild),e.select(),b.doc.selection.clear(),C.innerHTML="",x&&(x.innerHTML=""),void 0}o=b.nodeIndex(C),C=C.parentNode}if(o==A-1){try{if(q=C.childNodes[o],z=i.createControlRange(),z.addElement(q),z.select(),k=f.getRng(),k.item&&q===k.item(0)){return}}catch(v){}}}j(!0),j(),e.select()},this.getRangeAt=h}return a}),aC(bc,[aP],function(a){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(b){return b.shiftKey||b.ctrlKey||b.altKey},metaKeyPressed:function(b){return(a.mac?b.ctrlKey||b.metaKey:b.ctrlKey)&&!b.altKey}}}),aC(ba,[bc,aR,aP],function(b,a,c){return function(bY,b4){function b0(d){return b4.settings.object_resizing===!1?!1:/TABLE|IMG|DIV/.test(d.nodeName)?"false"===d.getAttribute("data-mce-resize")?!1:!0:!1}function cb(d){var g,f;g=d.screenX-V,f=d.screenY-j,W=g*z[2]+Z,J=f*z[3]+Y,W=5>W?5:W,J=5>J?5:J,(b.modifierPressed(d)||"IMG"==bt.nodeName&&0!==z[2]*z[3])&&(W=Math.round(J/Q),J=Math.round(W*Q)),ca.setStyles(bU,{width:W,height:J}),z[2]<0&&bU.clientWidth<=W&&ca.setStyle(bU,"left",e+(Z-W)),z[3]<0&&bU.clientHeight<=J&&ca.setStyle(bU,"top",n+(Y-J)),G||(b4.fire("ObjectResizeStart",{target:bt,width:Z,height:Y}),G=!0)}function bX(){function d(g,f){f&&(bt.style[g]||!b4.schema.isValid(bt.nodeName.toLowerCase(),g)?ca.setStyle(bt,g,f):ca.setAttrib(bt,g,f))}G=!1,d("width",W),d("height",J),ca.unbind(q,"mousemove",cb),ca.unbind(q,"mouseup",bX),t!=q&&(ca.unbind(t,"mousemove",cb),ca.unbind(t,"mouseup",bX)),ca.remove(bU),K&&"TABLE"!=bt.nodeName||b2(bt),b4.fire("ObjectResized",{target:bt,width:W,height:J}),b4.nodeChanged()}function b2(o,w,i){var g,k,v,s,m,h=b4.getBody().offsetParent||b4.getBody();g=ca.getPos(o,h),e=g.x,n=g.y,m=o.getBoundingClientRect(),k=m.width||m.right-m.left,v=m.height||m.bottom-m.top,bt!=o&&(b5(),bt=o,W=J=0),s=b4.fire("ObjectSelected",{target:o}),b0(o)&&!s.isDefaultPrevented()?X(cc,function(l,f){function u(d){G=!0,V=d.screenX,j=d.screenY,Z=bt.clientWidth,Y=bt.clientHeight,Q=Y/Z,z=l,bU=bt.cloneNode(!0),ca.addClass(bU,"mce-clonedresizable"),bU.contentEditable=!1,bU.unSelectabe=!0,ca.setStyles(bU,{left:e,top:n,margin:0}),bU.removeAttribute("data-mce-selected"),b4.getBody().appendChild(bU),ca.bind(q,"mousemove",cb),ca.bind(q,"mouseup",bX),t!=q&&(ca.bind(t,"mousemove",cb),ca.bind(t,"mouseup",bX))}var x,p;return w?(f==w&&u(i),void 0):(x=ca.get("mceResizeHandle"+f),x?ca.show(x):(p=b4.getBody(),x=ca.add(p,"div",{id:"mceResizeHandle"+f,"data-mce-bogus":!0,"class":"mce-resizehandle",contentEditable:!1,unSelectabe:!0,style:"cursor:"+f+"-resize; margin:0; padding:0"}),ca.bind(x,"mousedown",function(d){d.preventDefault(),u(d)})),ca.setStyles(x,{left:k*l[0]+e-x.offsetWidth/2,top:v*l[1]+n-x.offsetHeight/2}),void 0)}):b9(),bt.setAttribute("data-mce-selected","1")}function b9(){var f,d;bt&&bt.removeAttribute("data-mce-selected");for(f in cc){d=ca.get("mceResizeHandle"+f),d&&(ca.unbind(d),ca.remove(d))}}function bW(f){function d(i,h){do{if(i===h){return !0}}while(i=i.parentNode)}var g;return X(ca.select("img[data-mce-selected],hr[data-mce-selected]"),function(h){h.removeAttribute("data-mce-selected")}),g="mousedown"==f.type?f.target:bY.getNode(),g=ca.getParent(g,K?"table":"table,img,hr"),g&&(b6(),d(bY.getStart(),g)&&d(bY.getEnd(),g)&&(!K||g!=bY.getStart()&&"IMG"!==bY.getStart().nodeName))?(b2(g),void 0):(b9(),void 0)}function b8(f,d,g){f&&f.attachEvent&&f.attachEvent("on"+d,g)}function b7(f,d,g){f&&f.detachEvent&&f.detachEvent("on"+d,g)}function bZ(h){var m=h.srcElement,g,d,f,k,p,i,l;g=m.getBoundingClientRect(),i=b3.clientX-g.left,l=b3.clientY-g.top;for(d in cc){if(f=cc[d],k=m.offsetWidth*f[0],p=m.offsetHeight*f[1],Math.abs(k-i)<8&&Math.abs(p-l)<8){z=f;break}}G=!0,b4.getDoc().selection.empty(),b2(m,d,b3)}function b1(f){var d=f.srcElement;if(d!=bt){if(b5(),0===d.id.indexOf("mceResizeHandle")){return f.returnValue=!1,void 0}("IMG"==d.nodeName||"TABLE"==d.nodeName)&&(b9(),bt=d,b8(d,"resizestart",bZ))}}function b5(){b7(bt,"resizestart",bZ)}function b6(){try{b4.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(d){}}function bV(f){var d;if(K){d=q.body.createControlRange();try{return d.addElement(f),d.select(),!0}catch(g){}}}function at(){bt=bU=null,K&&(b5(),b7(b4.getBody(),"controlselect",b1))}var ca=b4.dom,X=a.each,bt,bU,cc,z,b3,V,j,e,n,Z,Y,Q,G,W,J,q=b4.getDoc(),t=document,K=c.ie&&c.ie<11;cc={n:[0.5,0,0,-1],e:[1,0.5,1,0],s:[0.5,1,0,1],w:[0,0.5,-1,0],nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var U=".mce-content-body";return b4.contentStyles.push(U+" div.mce-resizehandle {position: absolute;border: 1px solid black;background: #FFF;width: 5px;height: 5px;z-index: 10000}"+U+" .mce-resizehandle:hover {background: #000}"+U+" img[data-mce-selected], hr[data-mce-selected] {outline: 1px solid black;resize: none}"+U+" .mce-clonedresizable {position: absolute;"+(c.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"),b4.on("init",function(){K?(b4.on("ObjectResized",function(d){"TABLE"!=d.target.nodeName&&(b9(),bV(d.target))}),b8(b4.getBody(),"controlselect",b1),b4.on("mousedown",function(d){b3=d})):(b6(),c.ie>=11&&b4.on("mouseup mousedown",function(d){("IMG"==d.target.nodeName||"IMG"==b4.selection.getNode().nodeName)&&(d.preventDefault(),b4.selection.select(d.target))})),b4.on("nodechange mousedown ResizeEditor",bW),b4.on("keydown keyup",function(d){bt&&"TABLE"==bt.nodeName&&bW(d)})}),{controlSelect:bV,destroy:at}}}),aC(be,[aT,bu,ba,aP,aR],function(k,g,b,j,f){function q(n,l,d,r){var c=this;c.dom=n,c.win=l,c.serializer=d,c.editor=r,c.controlSelection=new b(c,r),c.win.getSelection||(c.tridentSel=new g(c))}var v=f.each,h=f.grep,p=f.trim,t=j.ie,m=j.opera;return q.prototype={setCursorLocation:function(d,a){var i=this,c=i.dom.createRng();c.setStart(d,a),c.setEnd(d,a),i.setRng(c),i.collapse(!1)},getContent:function(y){var A=this,x=A.getRng(),u=A.dom.create("body"),z=A.getSel(),d,w,c;return y=y||{},d=w="",y.get=!0,y.format=y.format||"html",y.selection=!0,A.editor.fire("BeforeGetContent",y),"text"==y.format?A.isCollapsed()?"":x.text||(z.toString?z.toString():""):(x.cloneContents?(c=x.cloneContents(),c&&u.appendChild(c)):x.item!==aA||x.htmlText!==aA?(u.innerHTML="<br>"+(x.item?x.item(0).outerHTML:x.htmlText),u.removeChild(u.firstChild)):u.innerHTML=x.toString(),/^\s/.test(u.innerHTML)&&(d=" "),/\s+$/.test(u.innerHTML)&&(w=" "),y.getInner=!0,y.content=A.isCollapsed()?"":d+A.serializer.serialize(u,y)+w,A.editor.fire("GetContent",y),y.content)},setContent:function(y,A){var u=this,c=u.getRng(),x,d=u.win.document,z,B;if(A=A||{format:"html"},A.set=!0,A.selection=!0,y=A.content=y,A.no_events||u.editor.fire("BeforeSetContent",A),y=A.content,c.insertNode){y+='<span id="__caret">_</span>',c.startContainer==d&&c.endContainer==d?d.body.innerHTML=y:(c.deleteContents(),0===d.body.childNodes.length?d.body.innerHTML=y:c.createContextualFragment?c.insertNode(c.createContextualFragment(y)):(z=d.createDocumentFragment(),B=d.createElement("div"),z.appendChild(B),B.outerHTML=y,c.insertNode(z))),x=u.dom.get("__caret"),c=d.createRange(),c.setStartBefore(x),c.setEndBefore(x),u.setRng(c),u.dom.remove("__caret");try{u.setRng(c)}catch(w){}}else{c.item&&(d.execCommand("Delete",!1,null),c=u.getRng()),/^\s+/.test(y)?(c.pasteHTML('<span id="__mce_tmp">_</span>'+y),u.dom.remove("__mce_tmp")):c.pasteHTML(y)}A.no_events||u.editor.fire("SetContent",A)},getStart:function(){var l=this,c=l.getRng(),u,d,a,s;if(c.duplicate||c.item){if(c.item){return c.item(0)}for(a=c.duplicate(),a.collapse(1),u=a.parentElement(),u.ownerDocument!==l.dom.doc&&(u=l.dom.getRoot()),d=s=c.parentElement();s=s.parentNode;){if(s==u){u=d;break}}return u}return u=c.startContainer,1==u.nodeType&&u.hasChildNodes()&&(u=u.childNodes[Math.min(u.childNodes.length-1,c.startOffset)]),u&&3==u.nodeType?u.parentNode:u},getEnd:function(){var d=this,a=d.getRng(),i,c;return a.duplicate||a.item?a.item?a.item(0):(a=a.duplicate(),a.collapse(0),i=a.parentElement(),i.ownerDocument!==d.dom.doc&&(i=d.dom.getRoot()),i&&"BODY"==i.nodeName?i.lastChild||i:i):(i=a.endContainer,c=a.endOffset,1==i.nodeType&&i.hasChildNodes()&&(i=i.childNodes[c>0?c-1:c]),i&&3==i.nodeType?i.parentNode:i)},getBookmark:function(F,K){function y(c,a){var d=0;return v(I.select(c),function(l,i){l==a&&(d=i)}),d}function s(c){function a(e){var L,l,d,u=e?"start":"end";L=c[u+"Container"],l=c[u+"Offset"],1==L.nodeType&&"TR"==L.nodeName&&(d=L.childNodes,L=d[Math.min(e?l:l-1,d.length-1)],L&&(l=e?0:L.childNodes.length,c["set"+(e?"Start":"End")](L,l)))}return a(!0),a(),c}function B(){function d(O,Q){var M=O[Q?"startContainer":"endContainer"],r=O[Q?"startOffset":"endOffset"],N=[],o,P,L=0;if(3==M.nodeType){if(K){for(o=M.previousSibling;o&&3==o.nodeType;o=o.previousSibling){r+=o.nodeValue.length}}N.push(r)}else{P=M.childNodes,r>=P.length&&P.length&&(L=1,r=Math.max(0,P.length-1)),N.push(x.dom.nodeIndex(P[r],K)+L)}for(;M&&M!=c;M=M.parentNode){N.push(x.dom.nodeIndex(M,K))}return N}var l=x.getRng(!0),c=I.getRoot(),a={};return a.start=d(l,!0),x.isCollapsed()||(a.end=d(l)),a}var x=this,I=x.dom,A,H,J,G,E,w,z="&#xFEFF;",C;if(2==F){return w=x.getNode(),E=w.nodeName,"IMG"==E?{name:E,index:y(E,w)}:x.tridentSel?x.tridentSel.getBookmark(F):B()}if(F){return{rng:x.getRng()}}if(A=x.getRng(),J=I.uniqueId(),G=x.isCollapsed(),C="overflow:hidden;line-height:0px",A.duplicate||A.item){if(A.item){return w=A.item(0),E=w.nodeName,{name:E,index:y(E,w)}}H=A.duplicate();try{A.collapse(),A.pasteHTML('<span data-mce-type="bookmark" id="'+J+'_start" style="'+C+'">'+z+"</span>"),G||(H.collapse(!1),A.moveToElementText(H.parentElement()),0===A.compareEndPoints("StartToEnd",H)&&H.move("character",-1),H.pasteHTML('<span data-mce-type="bookmark" id="'+J+'_end" style="'+C+'">'+z+"</span>"))}catch(D){return null}}else{if(w=x.getNode(),E=w.nodeName,"IMG"==E){return{name:E,index:y(E,w)}}H=s(A.cloneRange()),G||(H.collapse(!1),H.insertNode(I.create("span",{"data-mce-type":"bookmark",id:J+"_end",style:C},z))),A=s(A),A.collapse(!0),A.insertNode(I.create("span",{"data-mce-type":"bookmark",id:J+"_start",style:C},z))}return x.moveToBookmark({id:J,keep:1}),{id:J}},moveToBookmark:function(A){function D(c){var G=A[c?"start":"end"],E,a,F,e;if(G){for(F=G[0],a=B,E=G.length-1;E>=1;E--){if(e=a.childNodes,G[E]>e.length-1){return}a=e[G[E]]}3===a.nodeType&&(F=Math.min(G[0],a.nodeValue.length)),1===a.nodeType&&(F=Math.min(G[0],a.childNodes.length)),c?C.setStart(a,F):C.setEnd(a,F)}return !0}function u(F){var I=s.get(A.id+"_"+F),G,E,e,H,o=A.keep;if(I&&(G=I.parentNode,"start"==F?(o?(G=I.firstChild,E=1):E=s.nodeIndex(I),z=l=G,w=y=E):(o?(G=I.firstChild,E=1):E=s.nodeIndex(I),l=G,y=E),!o)){for(H=I.previousSibling,e=I.nextSibling,v(h(I.childNodes),function(a){3==a.nodeType&&(a.nodeValue=a.nodeValue.replace(/\uFEFF/g,""))});I=s.get(A.id+"_"+F);){s.remove(I,1)}H&&e&&H.nodeType==e.nodeType&&3==H.nodeType&&!m&&(E=H.nodeValue.length,H.appendData(e.nodeValue),s.remove(e),"start"==F?(z=l=H,w=y=E):(l=H,y=E))}}function d(a){return !s.isBlock(a)||a.innerHTML||t||(a.innerHTML='<br data-mce-bogus="1" />'),a}var x=this,s=x.dom,C,B,z,l,w,y;if(A){if(A.start){if(C=s.createRng(),B=s.getRoot(),x.tridentSel){return x.tridentSel.moveToBookmark(A)}D(!0)&&D()&&x.setRng(C)}else{A.id?(u("start"),u("end"),z&&(C=s.createRng(),C.setStart(d(z),w),C.setEnd(d(l),y),x.setRng(C))):A.name?x.select(s.select(A.name)[A.index]):A.rng&&x.setRng(A.rng)}}},select:function(e,x){function u(a,o){var i=new k(a,a);do{if(3==a.nodeType&&0!==p(a.nodeValue).length){return o?c.setStart(a,0):c.setEnd(a,a.nodeValue.length),void 0}if("BR"==a.nodeName){return o?c.setStartBefore(a):c.setEndBefore(a),void 0}}while(a=o?i.next():i.prev())}var d=this,w=d.dom,c=w.createRng(),l;if(d.lastFocusBookmark=null,e){if(!x&&d.controlSelection.controlSelect(e)){return}l=w.nodeIndex(e),c.setStart(e.parentNode,l),c.setEnd(e.parentNode,l+1),x&&(u(e,1),u(e)),d.setRng(c)}return e},isCollapsed:function(){var c=this,a=c.getRng(),d=c.getSel();return !a||a.item?!1:a.compareEndPoints?0===a.compareEndPoints("StartToEnd",a):!d||a.collapsed},collapse:function(d){var a=this,i=a.getRng(),c;i.item&&(c=i.item(0),i=a.win.document.body.createTextRange(),i.moveToElementText(c)),i.collapse(!!d),a.setRng(i)},getSel:function(){var a=this.win;return a.getSelection?a.getSelection():a.document.selection},getRng:function(y){var A=this,u,c,x,d=A.win.document,z;if(!y&&A.lastFocusBookmark){var B=A.lastFocusBookmark;return B.startContainer?(c=d.createRange(),c.setStart(B.startContainer,B.startOffset),c.setEnd(B.endContainer,B.endOffset)):c=B,c}if(y&&A.tridentSel){return A.tridentSel.getRangeAt(0)}try{(u=A.getSel())&&(c=u.rangeCount>0?u.getRangeAt(0):u.createRange?u.createRange():d.createRange())}catch(w){}if(t&&c&&c.setStart){try{z=d.selection.createRange()}catch(w){}z&&z.item&&(x=z.item(0),c=d.createRange(),c.setStartBefore(x),c.setEndAfter(x))}return c||(c=d.createRange?d.createRange():d.body.createTextRange()),c.setStart&&9===c.startContainer.nodeType&&c.collapsed&&(x=A.dom.getRoot(),c.setStart(x,0),c.setEnd(x,0)),A.selectedRange&&A.explicitRange&&(0===c.compareBoundaryPoints(c.START_TO_START,A.selectedRange)&&0===c.compareBoundaryPoints(c.END_TO_END,A.selectedRange)?c=A.explicitRange:(A.selectedRange=null,A.explicitRange=null)),c},setRng:function(l,c){var o=this,d;if(l.select){try{l.select()}catch(a){}}else{if(o.tridentSel){if(l.cloneRange){try{return o.tridentSel.addRange(l),void 0}catch(a){}}}else{if(d=o.getSel()){o.explicitRange=l;try{d.removeAllRanges(),d.addRange(l)}catch(a){}c===!1&&d.extend&&(d.collapse(l.endContainer,l.endOffset),d.extend(l.startContainer,l.startOffset)),o.selectedRange=d.rangeCount>0?d.getRangeAt(0):null}}}},setNode:function(c){var a=this;return a.setContent(a.dom.getOuterHTML(c)),c},getNode:function(){function x(i,a){for(var o=i;i&&3===i.nodeType&&0===i.length;){i=a?i.nextSibling:i.previousSibling}return i||o}var l=this,z=l.getRng(),w,d=z.startContainer,y=z.endContainer,c=z.startOffset,u=z.endOffset;return z?z.setStart?(w=z.commonAncestorContainer,!z.collapsed&&(d==y&&2>u-c&&d.hasChildNodes()&&(w=d.childNodes[c]),3===d.nodeType&&3===y.nodeType&&(d=d.length===c?x(d.nextSibling,!0):d.parentNode,y=0===u?x(y.previousSibling,!1):y.parentNode,d&&d===y))?d:w&&3==w.nodeType?w.parentNode:w):z.item?z.item(0):z.parentElement():l.dom.getRoot()},getSelectedBlocks:function(u,z){var x=this,e=x.dom,y,d,w=[];if(d=e.getRoot(),u=e.getParent(u||x.getStart(),e.isBlock),z=e.getParent(z||x.getEnd(),e.isBlock),u&&u!=d&&w.push(u),u&&z&&u!=z){y=u;for(var c=new k(u,d);(y=c.next())&&y!=z;){e.isBlock(y)&&w.push(y)}}return z&&u!=z&&z!=d&&w.push(z),w},isForward:function(){var d=this.dom,a=this.getSel(),i,c;return a&&a.anchorNode&&a.focusNode?(i=d.createRng(),i.setStart(a.anchorNode,a.anchorOffset),i.collapse(!0),c=d.createRng(),c.setStart(a.focusNode,a.focusOffset),c.collapse(!0),i.compareBoundaryPoints(i.START_TO_START,c)<=0):!0},normalize:function(){function c(C){function A(s,E){for(var u=new k(s,x.getParent(s.parentNode,x.isBlock)||i);s=u[E?"prev":"next"]();){if("BR"===s.nodeName){return !0}}}function D(u,s){return u.previousSibling&&u.previousSibling.nodeName==s}function o(u,F){var E,s;for(F=F||z,E=new k(F,x.getParent(F.parentNode,x.isBlock)||i);n=E[u?"prev":"next"]();){if(3===n.nodeType&&n.nodeValue.length>0){return z=n,B=u?n.nodeValue.length:0,a=!0,void 0}if(x.isBlock(n)||r[n.nodeName.toLowerCase()]){return}s=n}e&&s&&(z=s,a=!0,B=0)}var z,B,y,x=l.dom,i=x.getRoot(),n,r,w;if(z=d[(C?"start":"end")+"Container"],B=d[(C?"start":"end")+"Offset"],r=x.schema.getNonEmptyElements(),9===z.nodeType&&(z=x.getRoot(),B=0),z===i){if(C&&(n=z.childNodes[B>0?B-1:0],n&&(w=n.nodeName.toLowerCase(),r[n.nodeName]||"TABLE"==n.nodeName))){return}if(z.hasChildNodes()&&(B=Math.min(!C&&B>0?B-1:B,z.childNodes.length-1),z=z.childNodes[B],B=0,z.hasChildNodes()&&!/TABLE/.test(z.nodeName))){n=z,y=new k(z,i);do{if(3===n.nodeType&&n.nodeValue.length>0){B=C?0:n.nodeValue.length,z=n,a=!0;break}if(r[n.nodeName.toLowerCase()]){B=x.nodeIndex(n),z=n.parentNode,"IMG"!=n.nodeName||C||B++,a=!0;break}}while(n=C?y.next():y.prev())}}e&&(3===z.nodeType&&0===B&&o(!0),1===z.nodeType&&(n=z.childNodes[B],!n||"BR"!==n.nodeName||D(n,"A")||A(n)||A(n,!0)||o(!0,z.childNodes[B]))),C&&!e&&3===z.nodeType&&B===z.nodeValue.length&&o(!1),a&&d["set"+(C?"Start":"End")](z,B)}var l=this,d,a,e;t||(d=l.getRng(),e=d.collapsed,c(!0),e||c(),a&&(e&&d.collapse(!0),l.setRng(d,l.isForward())))},selectorChanged:function(d,a){var i=this,c;return i.selectorChangedData||(i.selectorChangedData={},c={},i.editor.on("NodeChange",function(s){var r=s.element,n=i.dom,u=n.getParents(r,null,n.getRoot()),l={};v(i.selectorChangedData,function(w,o){v(u,function(e){return n.is(e,o)?(c[o]||(v(w,function(x){x(!0,{node:e,selector:o,parents:u})}),c[o]=w),l[o]=w,!1):void 0})}),v(c,function(o,w){l[w]||(delete c[w],v(o,function(x){x(!1,{node:r,selector:w,parents:u})}))})})),i.selectorChangedData[d]||(i.selectorChangedData[d]=[]),i.selectorChangedData[d].push(a),i},scrollIntoView:function(l){var c,o,d=this,a=d.dom;o=a.getViewPort(d.editor.getWin()),c=a.getPos(l).y,(c<o.y||c+25>o.y+o.h)&&d.editor.getWin().scrollTo(0,c<o.y?c:c-o.h+25)},destroy:function(){this.win=null,this.controlSelection.destroy()}},q}),aC(bz,[aR],function(b){function a(d){this.walk=function(H,e){function w(g){var f;return f=g[0],3===f.nodeType&&f===q&&C>=f.nodeValue.length&&g.splice(0,1),f=g[g.length-1],0===B&&g.length>0&&f===G&&3===f.nodeType&&g.splice(g.length-1,1),g}function k(h,f,i){for(var g=[];h&&h!=i;h=h[f]){g.push(h)}return g}function E(g,f){do{if(g.parentNode==f){return g}g=g.parentNode}while(g)}function I(h,g,i){var f=i?"nextSibling":"previousSibling";for(x=h,z=x.parentNode;x&&x!=g;x=z){z=x.parentNode,F=k(x==h?x:x[f],f),F.length&&(i||F.reverse(),e(w(F)))}}var q=H.startContainer,C=H.startOffset,G=H.endContainer,B=H.endOffset,A,j,n,x,z,F,D;if(D=d.select("td.mce-item-selected,th.mce-item-selected"),D.length>0){return c(D,function(f){e([f])}),void 0}if(1==q.nodeType&&q.hasChildNodes()&&(q=q.childNodes[C]),1==G.nodeType&&G.hasChildNodes()&&(G=G.childNodes[Math.min(B-1,G.childNodes.length-1)]),q==G){return e(w([q]))}for(A=d.findCommonAncestor(q,G),x=q;x;x=x.parentNode){if(x===G){return I(q,A,!0)}if(x===A){break}}for(x=G;x;x=x.parentNode){if(x===q){return I(G,A)}if(x===A){break}}j=E(q,A)||q,n=E(G,A)||G,I(q,j,!0),F=k(j==q?j:j.nextSibling,"nextSibling",n==G?n.nextSibling:n),F.length&&e(w(F)),I(G,n)},this.split=function(j){function g(m,i){return m.splitText(i)}var l=j.startContainer,h=j.startOffset,f=j.endContainer,k=j.endOffset;return l==f&&3==l.nodeType?h>0&&h<l.nodeValue.length&&(f=g(l,h),l=f.previousSibling,k>h?(k-=h,l=f=g(f,k).previousSibling,k=f.nodeValue.length,h=0):k=0):(3==l.nodeType&&h>0&&h<l.nodeValue.length&&(l=g(l,h),h=0),3==f.nodeType&&k>0&&k<f.nodeValue.length&&(f=g(f,k).previousSibling,k=f.nodeValue.length)),{startContainer:l,startOffset:h,endContainer:f,endOffset:k}}}var c=b.each;return a.compareRanges=function(f,d){if(f&&d){if(!f.item&&!f.duplicate){return f.startContainer==d.startContainer&&f.startOffset==d.startOffset}if(f.item&&d.item&&f.item(0)===d.item(0)){return !0}if(f.isEqual&&d.isEqual&&d.isEqual(f)){return !0}}return !1},a}),aC(by,[aT,bz,aR],function(b,a,c){return function(co){function cy(d){return d.nodeType&&(d=d.nodeName),!!co.schema.getTextBlockElements()[d.toLowerCase()]}function cs(f,d){return b6.getParents(f,d,b6.getRoot())}function cG(d){return 1===d.nodeType&&"_mce_caret"===d.id}function cn(){cm({alignleft:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},defaultBlock:"div"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"}},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"}}],alignright:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"right"}}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},defaultBlock:"div"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},wrap_links:!1},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},wrap_links:!1},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return !0},onformat:function(f,d,g){cq(g,function(h,i){b6.setAttrib(f,i,h)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]}),cq("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(d){cm(d,{block:d,remove:"all"})}),cm(co.settings.formats)}function cu(){co.addShortcut("ctrl+b","bold_desc","Bold"),co.addShortcut("ctrl+i","italic_desc","Italic"),co.addShortcut("ctrl+u","underline_desc","Underline");for(var d=1;6>=d;d++){co.addShortcut("ctrl+"+d,"",["FormatBlock",!1,"h"+d])}co.addShortcut("ctrl+7","",["FormatBlock",!1,"p"]),co.addShortcut("ctrl+8","",["FormatBlock",!1,"div"]),co.addShortcut("ctrl+9","",["FormatBlock",!1,"address"])}function cE(d){return d?b0[d]:b0}function cm(f,d){f&&("string"!=typeof f?cq(f,function(h,g){cm(g,h)}):(d=d.length?d:[d],cq(d,function(g){g.deep===t&&(g.deep=!g.selector),g.split===t&&(g.split=!g.selector||g.inline),g.remove===t&&g.selector&&!g.inline&&(g.remove="none"),g.selector&&g.inline&&(g.mixed=!0,g.block_expand=!0),"string"==typeof g.classes&&(g.classes=g.classes.split(/\s+/))}),b0[f]=d))}function cD(f){var d;return co.dom.getParent(f,function(g){return d=co.dom.getStyle(g,"text-decoration"),d&&"none"!==d}),d}function cC(f){var d;1===f.nodeType&&f.parentNode&&1===f.parentNode.nodeType&&(d=cD(f.parentNode),co.dom.getStyle(f,"color")&&d?co.dom.setStyle(f,"text-decoration",d):co.dom.getStyle(f,"textdecoration")===d&&co.dom.setStyle(f,"text-decoration",null))}function cr(A,i,g){function B(h,d){d=d||p,h&&(d.onformat&&d.onformat(h,d,i,g),cq(d.styles,function(l,m){b6.setStyle(h,m,cv(l,i))}),cq(d.attributes,function(l,m){b6.setAttrib(h,m,cv(l,i))}),cq(d.classes,function(l){l=cv(l,i),b6.hasClass(h,l)||b6.addClass(h,l)}))}function k(){function o(l,y){var s=new b(y);for(g=s.current();g;g=s.prev()){if(g.childNodes.length>1||g==l||"BR"==g.tagName){return g}}}var v=co.selection.getRng(),m=v.startContainer,h=v.endContainer;if(m!=h&&0===v.endOffset){var u=o(m,h),d=3==u.nodeType?u.length:u.childNodes.length;v.setEnd(u,d)}return v}function z(C,G,m,d,y){var h=[],E=-1,H,v=-1,D=-1,F;return cq(C.childNodes,function(o,l){return"UL"===o.nodeName||"OL"===o.nodeName?(E=l,H=o,!1):void 0}),cq(C.childNodes,function(l,o){"SPAN"===l.nodeName&&"bookmark"==b6.getAttrib(l,"data-mce-type")&&(l.id==G.id+"_start"?v=o:l.id==G.id+"_end"&&(D=o))}),0>=E||E>v&&D>E?(cq(cB(C.childNodes),y),0):(F=b6.clone(m,b4),cq(cB(C.childNodes),function(o,l){(E>v&&E>l||v>E&&l>E)&&(h.push(o),o.parentNode.removeChild(o))}),E>v?C.insertBefore(F,H):v>E&&C.insertBefore(F,H.nextSibling),d.push(F),cq(h,function(l){F.appendChild(l)}),F)}function q(u,m,y){var h=[],C,v,s=!0;C=p.inline||p.block,v=b6.create(C),B(v),at.walk(u,function(o){function l(F){var I,H,D,E,G;return G=s,I=F.nodeName.toLowerCase(),H=F.parentNode.nodeName.toLowerCase(),1===F.nodeType&&b5(F)&&(G=s,s="true"===b5(F),E=!0),ck(I,"br")?(d=0,p.block&&b6.remove(F),void 0):p.wrapper&&cA(F,A,i)?(d=0,void 0):s&&!E&&p.block&&!p.wrapper&&cy(I)&&ch(H,C)?(F=b6.rename(F,C),B(F),h.push(F),d=0,void 0):p.selector&&(cq(j,function(J){"collapsed" in J&&J.collapsed!==r||b6.is(F,J.selector)&&!cG(F)&&(B(F,J),D=!0)}),!p.inline||D)?(d=0,void 0):(!s||E||!ch(C,I)||!ch(H,C)||!y&&3===F.nodeType&&1===F.nodeValue.length&&65279===F.nodeValue.charCodeAt(0)||cG(F)||p.inline&&bt(F)?"li"==I&&m?d=z(F,m,v,h,l):(d=0,cq(cB(F.childNodes),l),E&&(s=G),d=0):(d||(d=b6.clone(v,b4),F.parentNode.insertBefore(d,F),h.push(d)),d.appendChild(F)),void 0)}var d;cq(o,l)}),p.wrap_links===!1&&cq(h,function(l){function d(E){var F,D,o;if("A"===E.nodeName){for(D=b6.clone(v,b4),h.push(D),o=cB(E.childNodes),F=0;F<o.length;F++){D.appendChild(o[F])}E.appendChild(D)}cq(cB(E.childNodes),d)}d(l)}),cq(h,function(D){function l(F){var o=0;return cq(F.childNodes,function(G){ca(G)||b7(G)||o++}),o}function d(F){var o,G;return cq(F.childNodes,function(H){return 1!=H.nodeType||b7(H)||cG(H)?void 0:(o=H,b4)}),o&&cj(o,p)&&(G=b6.clone(o,b4),B(G),b6.replace(G,F,b8),b6.remove(o,1)),G||F}var E;if(E=l(D),(h.length>1||!bt(D))&&0===E){return b6.remove(D,1),void 0}if(p.inline||p.wrapper){if(p.exact||1!==E||(D=d(D)),cq(j,function(o){cq(b6.select(o.inline,D),function(G){var F;if(o.wrap_links===!1){F=G.parentNode;do{if("A"===F.nodeName){return}}while(F=F.parentNode)}bX(o,i,G,o.exact?G:null)})}),cA(D.parentNode,A,i)){return b6.remove(D,1),D=0,b8}p.merge_with_parents&&b6.getParent(D.parentNode,function(o){return cA(o,A,i)?(b6.remove(D,1),D=0,b8):void 0}),D&&p.merge_siblings!==!1&&(D=b2(cd(D),D),D=b2(D,cd(D,b8)))}})}var j=cE(A),p=j[0],x,w,r=!g&&b9.isCollapsed();if(p){if(g){g.nodeType?(w=b6.createRng(),w.setStartBefore(g),w.setEndAfter(g),q(bV(w,j),null,!0)):q(g,null,!0)}else{if(r&&p.inline&&!b6.select("td.mce-item-selected,th.mce-item-selected").length){b3("apply",A,i)}else{var f=co.selection.getNode();bU||!j[0].defaultBlock||b6.getParent(f,b6.isBlock)||cr(j[0].defaultBlock),co.selection.setRng(k()),x=b9.getBookmark(),q(bV(b9.getRng(b8),j),x),p.styles&&(p.styles.color||p.styles.textDecoration)&&(cw(f,cC,"childNodes"),cC(f)),b9.moveToBookmark(x),bZ(b9.getRng(b8)),co.nodeChanged()}}}}function ct(v,B,g){function o(l){var p,i,m,f,h;if(1===l.nodeType&&b5(l)&&(f=w,w="true"===b5(l),h=!0),p=cB(l.childNodes),w&&!h){for(i=0,m=d.length;m>i&&!bX(d[i],B,l,l);i++){}}if(j.deep&&p.length){for(i=0,m=p.length;m>i;i++){o(p[i])}h&&(w=f)}}function z(h){var f;return cq(cs(h.parentNode).reverse(),function(m){var l;f||"_start"==m.id||"_end"==m.id||(l=cA(m,v,B),l&&l.split!==!1&&(f=m))}),f}function C(D,m,f,y){var h,F,H,p,E,G;if(D){for(G=D.parentNode,h=m.parentNode;h&&h!=G;h=h.parentNode){for(F=b6.clone(h,b4),E=0;E<d.length;E++){if(bX(d[E],B,F,F)){F=0;break}}F&&(H&&F.appendChild(H),p||(p=F),H=F)}!y||j.mixed&&bt(D)||(m=b6.split(D,m)),H&&(f.parentNode.insertBefore(H,f),p.appendChild(f))}return m}function k(f){return C(z(f),f,f,!0)}function A(h){var f=b6.get(h?"_start":"_end"),i=f[h?"firstChild":"lastChild"];return b7(i)&&(i=i[h?"firstChild":"lastChild"]),b6.remove(f,!0),i}function r(h){var f,i;h=bV(h,d,b8),j.split&&(f=cb(h,b8),i=cb(h),f!=i?(/^(TR|TD)$/.test(f.nodeName)&&f.firstChild&&(f="TD"==f.nodeName?f.firstChild||f:f.firstChild.firstChild||f),f=bW(f,"span",{id:"_start","data-mce-type":"bookmark"}),i=bW(i,"span",{id:"_end","data-mce-type":"bookmark"}),k(f),k(i),f=A(b8),i=A()):f=i=k(f),h.startContainer=f.parentNode,h.startOffset=cp(f),h.endContainer=i.parentNode,h.endOffset=cp(i)+1),at.walk(h,function(l){cq(l,function(m){o(m),1===m.nodeType&&"underline"===co.dom.getStyle(m,"text-decoration")&&m.parentNode&&"underline"===cD(m.parentNode)&&bX({deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,m)})})}var d=cE(v),j=d[0],q,x,w=!0;return g?(g.nodeType?(x=b6.createRng(),x.setStartBefore(g),x.setEndAfter(g),r(x)):r(g),void 0):(b9.isCollapsed()&&j.inline&&!b6.select("td.mce-item-selected,th.mce-item-selected").length?b3("remove",v,B):(q=b9.getBookmark(),r(b9.getRng(b8)),b9.moveToBookmark(q),j.inline&&cl(v,B,b9.getStart())&&bZ(b9.getRng(!0)),co.nodeChanged()),void 0)}function cz(g,d,h){var f=cE(g);!cl(g,d,h)||"toggle" in f[0]&&!f[0].toggle?cr(g,d,h):ct(g,d,h)}function cA(k,p,g,d){function j(y,w,v){var z,u,x=w[v],r;if(w.onmatch){return w.onmatch(y,w,v)}if(x){if(x.length===t){for(z in x){if(x.hasOwnProperty(z)){if(u="attributes"===v?b6.getAttrib(y,z):cH(y,z),d&&!u&&!w.exact){return}if((!d||w.exact)&&!ck(u,b1(cv(x[z],g),z))){return}}}}else{for(r=0;r<x.length;r++){if("attributes"===v?b6.getAttrib(y,x[r]):cH(y,x[r])){return w}}}}return w}var f=cE(p),m,q,h;if(f&&k){for(q=0;q<f.length;q++){if(m=f[q],cj(k,m)&&j(k,m,"attributes")&&j(k,m,"styles")){if(h=m.classes){for(q=0;q<h.length;q++){if(!b6.hasClass(k,h[q])){return}}}return m}}}}function cl(h,f,j){function g(k){var i=b6.getRoot();return k=b6.getParent(k,function(l){return l.parentNode===i||!!cA(l,h,f,!0)}),cA(k,h,f)}var d;return j?g(j):(j=b9.getNode(),g(j)?b8:(d=b9.getStart(),d!=j&&g(d)?b8:b4))}function ci(h,f){var j,g=[],d={};return j=b9.getStart(),b6.getParent(j,function(l){var k,i;for(k=0;k<h.length;k++){i=h[k],!d[i]&&cA(l,i,f)&&(d[i]=!0,g.push(i))}},b6.getRoot()),g}function cF(k){var g=cE(k),l,j,f,d,h;if(g){for(l=b9.getStart(),j=cs(l),d=g.length-1;d>=0;d--){if(h=g[d].selector,!h||g[d].defaultBlock){return b8}for(f=j.length-1;f>=0;f--){if(b6.is(j[f],h)){return b8}}}}return b4}function cc(g,f,h){var d;return n||(n={},d={},co.on("NodeChange",function(j){var i=cs(j.element),k={};cq(n,function(m,l){cq(i,function(p){return cA(p,l,{},m.similar)?(d[l]||(cq(m,function(o){o(!0,{node:p,format:l,parents:i})}),d[l]=m),k[l]=m,!1):void 0})}),cq(d,function(l,m){k[m]||(delete d[m],cq(l,function(o){o(!1,{node:j.element,format:m,parents:i})}))})})),cq(g.split(","),function(i){n[i]||(n[i]=[],n[i].similar=h),n[i].push(f)}),this}function cj(f,d){return ck(f,d.inline)?b8:ck(f,d.block)?b8:d.selector?1==f.nodeType&&b6.is(f,d.selector):void 0}function ck(f,d){return f=f||"",d=d||"",f=""+(f.nodeName||f),d=""+(d.nodeName||d),f.toLowerCase()==d.toLowerCase()}function cH(f,d){return b1(b6.getStyle(f,d),d)}function b1(f,d){return("color"==d||"backgroundColor"==d)&&(f=b6.toHex(f)),"fontWeight"==d&&700==f&&(f="bold"),"fontFamily"==d&&(f=f.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+f}function cv(f,d){return"string"!=typeof f?f=f(d):d&&(f=f.replace(/%(\w+)/g,function(g,h){return d[h]||g})),f}function ca(d){return d&&3===d.nodeType&&/^([\t \r\n]+|)$/.test(d.nodeValue)}function bW(g,d,h){var f=b6.create(d,h);return g.parentNode.insertBefore(f,g),f.appendChild(g),f}function bV(F,j,C){function G(m){function g(s){return"BR"==s.nodeName&&s.getAttribute("data-mce-bogus")&&!s.nextSibling}var l,f,p,d,h;if(l=f=m?r:B,d=m?"previousSibling":"nextSibling",h=b6.getRoot(),3==l.nodeType&&!ca(l)&&(m?D>0:A<l.nodeValue.length)){return l}for(;;){if(!j[0].block_expand&&bt(f)){return f}for(p=f[d];p;p=p[d]){if(!b7(p)&&!ca(p)&&!g(p)){return f}}if(f.parentNode==h){l=f;break}f=f.parentNode}return l}function o(f,d){for(d===t&&(d=3===f.nodeType?f.length:f.childNodes.length);f&&f.hasChildNodes();){f=f.childNodes[d],f&&(d=3===f.nodeType?f.length:f.childNodes.length)}return{node:f,offset:d}}function z(f){for(var d=f;d;){if(1===d.nodeType&&b5(d)){return"false"===b5(d)?d:f}d=d.parentNode}return f}function E(h,y,g){function p(u,l){var I,s,H=u.nodeValue;return"undefined"==typeof l&&(l=g?H.length:0),g?(I=H.lastIndexOf(" ",l),s=H.lastIndexOf("\xa0",l),I=I>s?I:s,-1===I||C||I++):(I=H.indexOf(" ",l),s=H.indexOf("\xa0",l),I=-1!==I&&(-1===s||s>I)?I:s),I}var m,d,v,f;if(3===h.nodeType){if(v=p(h,y),-1!==v){return{container:h,offset:v}}f=h}for(m=new b(h,b6.getParent(h,bt)||co.getBody());d=m[g?"prev":"next"]();){if(3===d.nodeType){if(f=d,v=p(d),-1!==v){return{container:d,offset:v}}}else{if(bt(d)){break}}}return f?(y=g?0:f.length,{container:f,offset:y}):void 0}function x(p,m){var g,f,h,d;for(3==p.nodeType&&0===p.nodeValue.length&&p[m]&&(p=p[m]),g=cs(p),f=0;f<g.length;f++){for(h=0;h<j.length;h++){if(d=j[h],!("collapsed" in d&&d.collapsed!==F.collapsed)&&b6.is(g[f],d.selector)){return g[f]}}}return p}function w(h,f){var g,d=b6.getRoot();if(j[0].wrapper||(g=b6.getParent(h,j[0].block)),g||(g=b6.getParent(3==h.nodeType?h.parentNode:h,function(l){return l!=d&&cy(l)})),g&&j[0].wrapper&&(g=cs(g,"ul,ol").reverse()[0]||g),!g){for(g=h;g[f]&&!bt(g[f])&&(g=g[f],!ck(g,"br"));){}}return g||h}var i,k,q,r=F.startContainer,D=F.startOffset,B=F.endContainer,A=F.endOffset;if(1==r.nodeType&&r.hasChildNodes()&&(i=r.childNodes.length-1,r=r.childNodes[D>i?i:D],3==r.nodeType&&(D=0)),1==B.nodeType&&B.hasChildNodes()&&(i=B.childNodes.length-1,B=B.childNodes[A>i?i:A-1],3==B.nodeType&&(A=B.nodeValue.length)),r=z(r),B=z(B),(b7(r.parentNode)||b7(r))&&(r=b7(r)?r:r.parentNode,r=r.nextSibling||r,3==r.nodeType&&(D=0)),(b7(B.parentNode)||b7(B))&&(B=b7(B)?B:B.parentNode,B=B.previousSibling||B,3==B.nodeType&&(A=B.length)),j[0].inline&&(F.collapsed&&(q=E(r,D,!0),q&&(r=q.container,D=q.offset),q=E(B,A),q&&(B=q.container,A=q.offset)),k=o(B,A),k.node)){for(;k.node&&0===k.offset&&k.node.previousSibling;){k=o(k.node.previousSibling)}k.node&&k.offset>0&&3===k.node.nodeType&&" "===k.node.nodeValue.charAt(k.offset-1)&&k.offset>1&&(B=k.node,B.splitText(k.offset-1))}return(j[0].inline||j[0].block_expand)&&(j[0].inline&&3==r.nodeType&&0!==D||(r=G(!0)),j[0].inline&&3==B.nodeType&&A!==B.nodeValue.length||(B=G())),j[0].selector&&j[0].expand!==b4&&!j[0].inline&&(r=x(r,"previousSibling"),B=x(B,"nextSibling")),(j[0].block||j[0].selector)&&(r=w(r,"previousSibling"),B=w(B,"nextSibling"),j[0].block&&(bt(r)||(r=G(!0)),bt(B)||(B=G()))),1==r.nodeType&&(D=cp(r),r=r.parentNode),1==B.nodeType&&(A=cp(B)+1,B=B.parentNode),{startContainer:r,startOffset:D,endContainer:B,endOffset:A}}function bX(j,g,l,h){var f,k,d;if(!cj(l,j)){return b4}if("all"!=j.remove){for(cq(j.styles,function(o,m){o=b1(cv(o,g),m),"number"==typeof m&&(m=o,h=0),(!h||ck(cH(h,m),o))&&b6.setStyle(l,m,""),d=1}),d&&""===b6.getAttrib(l,"style")&&(l.removeAttribute("style"),l.removeAttribute("data-mce-style")),cq(j.attributes,function(p,m){var q;if(p=cv(p,g),"number"==typeof m&&(m=p,h=0),!h||ck(b6.getAttrib(h,m),p)){if("class"==m&&(p=b6.getAttrib(l,m),p&&(q="",cq(p.split(/\s+/),function(i){/mce\w+/.test(i)&&(q+=(q?" ":"")+i)}),q))){return b6.setAttrib(l,m,q),void 0}"class"==m&&l.removeAttribute("className"),cg.test(m)&&l.removeAttribute("data-mce-"+m),l.removeAttribute(m)}}),cq(j.classes,function(i){i=cv(i,g),(!h||b6.hasClass(h,i))&&b6.removeClass(l,i)}),k=b6.getAttribs(l),f=0;f<k.length;f++){if(0!==k[f].nodeName.indexOf("_")){return b4}}}return"none"!=j.remove?(ce(l,j),b8):void 0}function ce(h,f){function j(k,i,l){return k=cd(k,i,l),!k||"BR"==k.nodeName||bt(k)}var g=h.parentNode,d;f.block&&(bU?g==b6.getRoot()&&(f.list_block&&ck(h,f.list_block)||cq(cB(h.childNodes),function(i){ch(bU,i.nodeName.toLowerCase())?d?d.appendChild(i):d=bW(i,bU):d=0})):bt(h)&&!bt(g)&&(j(h,b4)||j(h.firstChild,b8,1)||h.insertBefore(b6.create("br"),h.firstChild),j(h,b8)||j(h.lastChild,b4,1)||h.appendChild(b6.create("br")))),f.selector&&f.inline&&!ck(f.inline,h)||b6.remove(h,1)}function cd(f,d,g){if(f){for(d=d?"nextSibling":"previousSibling",f=g?f:f[d];f;f=f[d]){if(1==f.nodeType||!ca(f)){return f}}}}function b7(d){return d&&1==d.nodeType&&"bookmark"==d.getAttribute("data-mce-type")}function b2(h,f){function k(m,i){function o(q){var p={};return cq(b6.getAttribs(q),function(u){var s=u.nodeName.toLowerCase();0!==s.indexOf("_")&&"style"!==s&&(p[s]=b6.getAttrib(q,s))}),p}function l(s,p){var u,q;for(q in s){if(s.hasOwnProperty(q)){if(u=p[q],u===t){return b4}if(s[q]!=u){return b4}delete p[q]}}for(q in p){if(p.hasOwnProperty(q)){return b4}}return b8}return m.nodeName!=i.nodeName?b4:l(o(m),o(i))?l(b6.parseStyle(b6.getAttrib(m,"style")),b6.parseStyle(b6.getAttrib(i,"style")))?b8:b4:b4}function g(l,i){for(d=l;d;d=d[i]){if(3==d.nodeType&&0!==d.nodeValue.length){return l}if(1==d.nodeType&&!b7(d)){return d}}return l}var d,j;if(h&&f&&(h=g(h,"previousSibling"),f=g(f,"nextSibling"),k(h,f))){for(d=h.nextSibling;d&&d!=f;){j=d,d=d.nextSibling,h.appendChild(j)}return b6.remove(f),cq(cB(f.childNodes),function(i){h.appendChild(i)}),h}return f}function cb(g,j){var f,h,d;return f=g[j?"startContainer":"endContainer"],h=g[j?"startOffset":"endOffset"],1==f.nodeType&&(d=f.childNodes.length-1,!j&&h&&h--,f=f.childNodes[h>d?d:h]),3===f.nodeType&&j&&h>=f.nodeValue.length&&(f=new b(f,co.getBody()).next()||f),3!==f.nodeType||j||0!==h||(f=new b(f,co.getBody()).prev()||f),f}function b3(A,i,g){function w(f){var d=b6.create("span",{id:r,"data-mce-bogus":!0,style:q?"color:red":""});return f&&d.appendChild(co.getDoc().createTextNode(cx)),d}function B(f,d){for(;f;){if(3===f.nodeType&&f.nodeValue!==cx||f.childNodes.length>1){return !1}d&&1===f.nodeType&&d.push(f),f=f.firstChild}return !0}function j(d){for(;d;){if(d.id===r){return d}d=d.parentNode}}function z(d){var f;if(d){for(f=new b(d,d),d=f.current();d;d=f.next()){if(3===d.nodeType){return d}}}}function p(h,d){var l,f;if(h){f=b9.getRng(!0),B(h)?(d!==!1&&(f.setStartBefore(h),f.setEndBefore(h)),b6.remove(h)):(l=z(h),l.nodeValue.charAt(0)===cx&&(l=l.deleteData(0,1)),b6.remove(h,1)),b9.setRng(f)}else{if(h=j(b9.getStart()),!h){for(;h=b6.get(r);){p(h,!1)}}}}function m(){var y,l,u,h,o,C,v;y=b9.getRng(!0),h=y.startOffset,C=y.startContainer,v=C.nodeValue,l=j(b9.getStart()),l&&(u=z(l)),v&&h>0&&h<v.length&&/\w/.test(v.charAt(h))&&/\w/.test(v.charAt(h-1))?(o=b9.getBookmark(),y.collapse(!0),y=bV(y,cE(i)),y=at.split(y),cr(i,g,y),b9.moveToBookmark(o)):(l&&u.nodeValue===cx?cr(i,g,l):(l=w(!0),u=l.firstChild,y.insertNode(l),h=1,cr(i,g,l)),b9.setCursorLocation(u,h))}function k(){var F=b9.getRng(!0),J,o,K,C,I,G,E=[],y,D;for(J=F.startContainer,o=F.startOffset,I=J,3==J.nodeType&&((o!=J.nodeValue.length||J.nodeValue===cx)&&(C=!0),I=I.parentNode);I;){if(cA(I,i,g)){G=I;break}I.nextSibling&&(C=!0),E.push(I),I=I.parentNode}if(G){if(C){K=b9.getBookmark(),F.collapse(!0),F=bV(F,cE(i),!0),F=at.split(F),ct(i,g,F),b9.moveToBookmark(K)}else{for(D=w(),I=D,y=E.length-1;y>=0;y--){I.appendChild(b6.clone(E[y],!1)),I=I.firstChild}I.appendChild(b6.doc.createTextNode(cx)),I=I.firstChild;var H=b6.getParent(G,cy);H&&b6.isEmpty(H)?G.parentNode.replaceChild(D,G):b6.insertAfter(D,G),b9.setCursorLocation(I,1),b6.isEmpty(G)&&b6.remove(G)}}}function x(){var d;d=j(b9.getStart()),d&&!b6.isEmpty(d)&&cw(d,function(f){1!=f.nodeType||f.id===r||b6.isEmpty(f)||b6.setAttrib(f,"data-mce-bogus",null)},"childNodes")}var r="_mce_caret",q=co.settings.caret_debug;co._hasCaretEvents||(e=function(){var f=[],d;if(B(j(b9.getStart()),f)){for(d=f.length;d--;){b6.setAttrib(f[d],"data-mce-bogus","1")}}},bY=function(f){var d=f.keyCode;p(),(8==d||37==d||39==d)&&p(j(b9.getStart())),x()},co.on("SetContent",function(d){d.selection&&x()}),co._hasCaretEvents=!0),"apply"==A?m():k()}function bZ(h){var p=h.startContainer,k=h.startOffset,g,m,f,j,d;if(3==p.nodeType&&k>=p.nodeValue.length&&(k=cp(p),p=p.parentNode,g=!0),1==p.nodeType){for(j=p.childNodes,p=j[Math.min(k,j.length-1)],m=new b(p,b6.getParent(p,b6.isBlock)),(k>j.length-1||g)&&m.next(),f=m.current();f;f=m.next()){if(3==f.nodeType&&!ca(f)){return d=b6.create("a",null,cx),f.parentNode.insertBefore(d,f),h.setStart(f,0),b9.setRng(h),b6.remove(d),void 0}}}}var b0={},b6=co.dom,b9=co.selection,at=new a(b6),ch=co.schema.isValidChild,bt=b6.isBlock,bU=co.settings.forced_root_block,cp=b6.nodeIndex,cx="\ufeff",cg=/^(src|href|style)$/,b4=!1,b8=!0,n,t,b5=b6.getContentEditable,bY,e,cq=c.each,cB=c.grep,cw=c.walk,cf=c.extend;cf(this,{get:cE,register:cm,apply:cr,remove:ct,toggle:cz,match:cl,matchAll:ci,matchNode:cA,canApply:cF,formatChanged:cc}),cn(),cu(),co.on("BeforeGetContent",function(){e&&e()}),co.on("mouseup keydown",function(d){bY&&bY(d)})}}),aC(bq,[aP,aR],function(c,a){var d=a.trim,b;return b=new RegExp(["<span[^>]+data-mce-bogus[^>]+>[\u200b\ufeff]+<\\/span>","<div[^>]+data-mce-bogus[^>]+><\\/div>",'\\s?data-mce-selected="[^"]+"'].join("|"),"gi"),function(n){function g(){return d(n.getContent({format:"raw",no_events:1}).replace(b,""))}function e(){k.typing=!1,k.add()}var k,p=0,f=[],j,m,h;return n.on("init",function(){k.add()}),n.on("BeforeExecCommand",function(l){var i=l.command;"Undo"!=i&&"Redo"!=i&&"mceRepaint"!=i&&k.beforeChange()}),n.on("ExecCommand",function(l){var i=l.command;"Undo"!=i&&"Redo"!=i&&"mceRepaint"!=i&&k.add()}),n.on("ObjectResizeStart",function(){k.beforeChange()}),n.on("SaveContent ObjectResized",e),n.dom.bind(n.dom.getRoot(),"dragend",e),n.dom.bind(n.getBody(),"focusout",function(){!n.removed&&k.typing&&e()}),n.on("KeyUp",function(l){var i=l.keyCode;(i>=33&&36>=i||i>=37&&40>=i||45==i||13==i||l.ctrlKey)&&(e(),n.nodeChanged()),(46==i||8==i||c.mac&&(91==i||93==i))&&n.nodeChanged(),m&&k.typing&&(n.isDirty()||(n.isNotDirty=!f[0]||g()==f[0].content,n.isNotDirty||n.fire("change",{level:f[0],lastLevel:null})),n.fire("TypingUndo"),m=!1,n.nodeChanged())}),n.on("KeyDown",function(l){var i=l.keyCode;return i>=33&&36>=i||i>=37&&40>=i||45==i?(k.typing&&e(),void 0):((16>i||i>20)&&224!=i&&91!=i&&!k.typing&&(k.beforeChange(),k.typing=!0,k.add(),m=!0),void 0)}),n.on("MouseDown",function(){k.typing&&e()}),n.addShortcut("ctrl+z","","Undo"),n.addShortcut("ctrl+y,ctrl+shift+z","","Redo"),n.on("AddUndo Undo Redo ClearUndos MouseUp",function(i){i.isDefaultPrevented()||n.nodeChanged()}),k={data:f,typing:!1,beforeChange:function(){h||(j=n.selection.getBookmark(2,!0))},add:function(q){var t,l=n.settings,s;if(q=q||{},q.content=g(),h||n.fire("BeforeAddUndo",{level:q}).isDefaultPrevented()){return null}if(s=f[p],s&&s.content==q.content){return null}if(f[p]&&(f[p].beforeBookmark=j),l.custom_undo_redo_levels&&f.length>l.custom_undo_redo_levels){for(t=0;t<f.length-1;t++){f[t]=f[t+1]}f.length--,p=f.length}q.bookmark=n.selection.getBookmark(2,!0),p<f.length-1&&(f.length=p+1),f.push(q),p=f.length-1;var i={level:q,lastLevel:s};return n.fire("AddUndo",i),p>0&&(n.fire("change",i),n.isNotDirty=!1),q},undo:function(){var i;return k.typing&&(k.add(),k.typing=!1),p>0&&(i=f[--p],n.setContent(i.content,{format:"raw"}),n.selection.moveToBookmark(i.beforeBookmark),n.fire("undo",{level:i})),i},redo:function(){var i;return p<f.length-1&&(i=f[++p],n.setContent(i.content,{format:"raw"}),n.selection.moveToBookmark(i.bookmark),n.fire("redo",{level:i})),i},clear:function(){f=[],p=0,k.typing=!1,n.fire("ClearUndos")},hasUndo:function(){return p>0||k.typing&&f[0]&&g()!=f[0].content},hasRedo:function(){return p<f.length-1&&!this.typing},transact:function(i){k.beforeChange(),h=!0,i(),h=!1,k.add()}}}}),aC(bl,[aT,aP],function(b,a){var c=a.ie&&a.ie<11;return function(g){function j(X){function Q(p){return p&&f.isBlock(p)&&!/^(TD|TH|CAPTION|FORM)$/.test(p.nodeName)&&!/^(fixed|absolute)/i.test(p.style.position)&&"true"!==f.getContentEditable(p)}function bY(r){var p;f.isBlock(r)&&(p=k.getRng(),r.appendChild(f.create("span",null,"\xa0")),k.select(r),r.lastChild.outerHTML="",k.setRng(p))}function bX(v){for(var p=v,w=[],u;p=p.firstChild;){if(f.isBlock(p)){return}1!=p.nodeType||m[p.nodeName.toLowerCase()]||w.push(p)}for(u=w.length;u--;){p=w[u],!p.hasChildNodes()||p.firstChild==p.lastChild&&""===p.firstChild.nodeValue?f.remove(p):"A"==p.nodeName&&" "===(p.innerText||p.textContent)&&f.remove(p)}}function at(v){var y,x,u,w=v,p;if(u=f.createRng(),v.hasChildNodes()){for(y=new b(v,v);x=y.current();){if(3==x.nodeType){u.setStart(x,0),u.setEnd(x,0);break}if(m[x.nodeName.toLowerCase()]){u.setStartBefore(x),u.setEndBefore(x);break}w=x,x=y.next()}x||(u.setStart(w,0),u.setEnd(w,0))}else{"BR"==v.nodeName?v.nextSibling&&f.isBlock(v.nextSibling)?((!n||9>n)&&(p=f.create("br"),v.parentNode.insertBefore(p,v)),u.setStartBefore(v),u.setEndBefore(v)):(u.setStartAfter(v),u.setEndAfter(v)):(u.setStart(v,0),u.setEnd(v,0))}k.setRng(u),f.remove(p),k.scrollIntoView(v)}function bt(w){var p=U,v,x,u;if(v=w||"TABLE"==V?f.create(w||o):i.cloneNode(!1),u=v,e.keep_styles!==!1){do{if(/^(SPAN|STRONG|B|EM|I|FONT|STRIKE|U)$/.test(p.nodeName)){if("_mce_caret"==p.id){continue}x=p.cloneNode(!1),f.setAttrib(x,"id",""),v.hasChildNodes()?(x.appendChild(v.firstChild),v.appendChild(x)):(u=x,v.appendChild(x))}}while(p=p.parentNode)}return c||(u.innerHTML='<br data-mce-bogus="1">'),v}function bV(u){var w,v,p;if(3==U.nodeType&&(u?l>0:l<U.nodeValue.length)){return !1}if(U.parentNode==i&&q&&!u){return !0}if(u&&1==U.nodeType&&U==i.firstChild){return !0}if("TABLE"===U.nodeName||U.previousSibling&&"TABLE"==U.previousSibling.nodeName){return q&&!u||!q&&u}for(w=new b(U,i),3==U.nodeType&&(u&&0===l?w.prev():u||l!=U.nodeValue.length||w.next());v=w.current();){if(1===v.nodeType){if(!v.getAttribute("data-mce-bogus")&&(p=v.nodeName.toLowerCase(),m[p]&&"br"!==p)){return !1}}else{if(3===v.nodeType&&!/^[ \t\r\n]*$/.test(v.nodeValue)){return !1}}u?w.prev():w.next()}return !0}function bW(x,v){var p,u,B,C,A,y,w=o||"P";if(u=f.getParent(x,f.isBlock),y=g.getBody().nodeName.toLowerCase(),!u||!Q(u)){if(u=u||bU,!u.hasChildNodes()){return p=f.create(w),u.appendChild(p),b0.setStart(p,0),b0.setEnd(p,0),p}for(C=x;C.parentNode!=u;){C=C.parentNode}for(;C&&!f.isBlock(C);){B=C,C=C.previousSibling}if(B&&d.isValidChild(y,w.toLowerCase())){for(p=f.create(w),B.parentNode.insertBefore(p,B),C=B;C&&!f.isBlock(C);){A=C.nextSibling,p.appendChild(C),C=A}b0.setStart(x,v),b0.setEnd(x,v)}}return x}function K(){function r(w){for(var v=t[w?"firstChild":"lastChild"];v&&1!=v.nodeType;){v=v[w?"nextSibling":"previousSibling"]}return v===i}function p(){var v=t.parentNode;return"LI"==v.nodeName?v:t}var u=t.parentNode.nodeName;/^(OL|UL|LI)$/.test(u)&&(o="LI"),Y=o?bt(o):f.create("BR"),r(!0)&&r()?"LI"==u?f.insertAfter(Y,p()):f.replace(Y,t):r(!0)?"LI"==u?(f.insertAfter(Y,p()),Y.appendChild(f.doc.createTextNode(" ")),Y.appendChild(t)):t.parentNode.insertBefore(Y,t):r()?(f.insertAfter(Y,p()),bY(Y)):(t=p(),s=b0.cloneRange(),s.setStartAfter(i),s.setEndAfter(t),I=s.extractContents(),f.insertAfter(I,t),f.insertAfter(Y,t)),f.remove(i),at(Y),h.add()}function F(){for(var p=new b(U,i),r;r=p.next();){if(m[r.nodeName.toLowerCase()]||r.length>0){return !0}}}function bZ(){var v,p,u;U&&3==U.nodeType&&l>=U.nodeValue.length&&(c||F()||(v=f.create("br"),b0.insertNode(v),b0.setStartAfter(v),b0.setEndAfter(v),p=!0)),v=f.create("br"),b0.insertNode(v),c&&"PRE"==V&&(!n||8>n)&&v.parentNode.insertBefore(f.doc.createTextNode("\r"),v),u=f.create("span",{},"&nbsp;"),v.parentNode.insertBefore(u,v),k.scrollIntoView(u),f.remove(u),p?(b0.setStartBefore(v),b0.setEndBefore(v)):(b0.setStartAfter(v),b0.setEndAfter(v)),k.setRng(b0),h.add()}function W(p){do{3===p.nodeType&&(p.nodeValue=p.nodeValue.replace(/^[\r\n]+/,"")),p=p.firstChild}while(p)}function G(v){var p=f.getRoot(),w,u;for(w=v;w!==p&&"false"!==f.getContentEditable(w);){"true"===f.getContentEditable(w)&&(u=w),w=w.parentNode}return w!==p?u:p}function J(r){var p;c||(r.normalize(),p=r.lastChild,(!p||/^(left|right)$/gi.test(f.getStyle(p,"float",!0)))&&f.add(r,"br"))}var b0=k.getRng(!0),s,bU,U,l,i,n,Z,Y,I,t,V,z,o,q;if(!b0.collapsed){return g.execCommand("Delete"),void 0}if(!X.isDefaultPrevented()&&(U=b0.startContainer,l=b0.startOffset,o=(e.force_p_newlines?"p":"")||e.forced_root_block,o=o?o.toUpperCase():"",n=f.doc.documentMode,Z=X.shiftKey,1==U.nodeType&&U.hasChildNodes()&&(q=l>U.childNodes.length-1,U=U.childNodes[Math.min(l,U.childNodes.length-1)]||U,l=q&&3==U.nodeType?U.nodeValue.length:0),bU=G(U))){if(h.beforeChange(),!f.isBlock(bU)&&bU!=f.getRoot()){return(!o||Z)&&bZ(),void 0}if((o&&!Z||!o&&Z)&&(U=bW(U,l)),i=f.getParent(U,f.isBlock),t=i?f.getParent(i.parentNode,f.isBlock):null,V=i?i.nodeName.toUpperCase():"",z=t?t.nodeName.toUpperCase():"","LI"!=z||X.ctrlKey||(i=t,V=z),"LI"==V){if(!o&&Z){return bZ(),void 0}if(f.isEmpty(i)){return K(),void 0}}if("PRE"==V&&e.br_in_pre!==!1){if(!Z){return bZ(),void 0}}else{if(!o&&!Z&&"LI"!=V||o&&Z){return bZ(),void 0}}o&&i===g.getBody()||(o=o||"P",bV()?(Y=/^(H[1-6]|PRE|FIGURE)$/.test(V)&&"HGROUP"!=z?bt(o):bt(),e.end_container_on_empty_block&&Q(t)&&f.isEmpty(i)?Y=f.split(t,i):f.insertAfter(Y,i),at(Y)):bV(!0)?(Y=i.parentNode.insertBefore(bt(),i),bY(Y)):(s=b0.cloneRange(),s.setEndAfter(i),I=s.extractContents(),W(I),Y=I.firstChild,f.insertAfter(I,i),bX(Y),J(i),at(Y)),f.setAttrib(Y,"id",""),h.add())}}var f=g.dom,k=g.selection,e=g.settings,h=g.undoManager,d=g.schema,m=d.getNonEmptyElements();g.on("keydown",function(i){13==i.keyCode&&j(i)!==!1&&i.preventDefault()})}}),aC(bv,[],function(){return function(g){function d(){var F=c.getStart(),G=g.getBody(),k,w,E,r,q,e,i,n=-16777215,o,D,A,z,a;if(a=j.forced_root_block,F&&1===F.nodeType&&a){for(;F&&F!=G;){if(b[F.nodeName]){return}F=F.parentNode}if(k=c.getRng(),k.setStart){w=k.startContainer,E=k.startOffset,r=k.endContainer,q=k.endOffset;try{D=g.getDoc().activeElement===G}catch(B){}}else{k.item&&(F=k.item(0),k=g.getDoc().body.createTextRange(),k.moveToElementText(F)),D=k.parentElement().ownerDocument===g.getDoc(),A=k.duplicate(),A.collapse(!0),E=-1*A.move("character",n),A.collapsed||(A=k.duplicate(),A.collapse(!1),q=-1*A.move("character",n)-E)}for(F=G.firstChild,z=G.nodeName.toLowerCase();F;){if((3===F.nodeType||1==F.nodeType&&!b[F.nodeName])&&h.isValidChild(z,a.toLowerCase())){if(3===F.nodeType&&0===F.nodeValue.length){i=F,F=F.nextSibling,f.remove(i);continue}e||(e=f.create(a),F.parentNode.insertBefore(e,F),o=!0),i=F,F=F.nextSibling,e.appendChild(i)}else{e=null,F=F.nextSibling}}if(o&&D){if(k.setStart){k.setStart(w,E),k.setEnd(r,q),c.setRng(k)}else{try{k=g.getDoc().body.createTextRange(),k.moveToElementText(G),k.collapse(!0),k.moveStart("character",E),q>0&&k.moveEnd("character",q),k.select()}catch(B){}}g.nodeChanged()}}}var j=g.settings,f=g.dom,c=g.selection,h=g.schema,b=h.getBlockElements();j.forced_root_block&&g.on("NodeChange",d)}}),aC(bm,[bj,aP,aR],function(p,h,b){var k=b.each,g=b.extend,v=b.map,x=b.inArray,j=b.explode,t=h.gecko,w=h.ie,q=!0,m=!1;return function(e){function a(E,y,H){var C;return E=E.toLowerCase(),(C=D.exec[E])?(C(E,y,H),q):m}function d(r){var n;return r=r.toLowerCase(),(n=D.state[r])?n(r):-1}function f(r){var n;return r=r.toLowerCase(),(n=D.value[r])?n(r):m}function l(r,n){n=n||"exec",k(r,function(y,C){k(C.toLowerCase().split(","),function(E){D[n][E]=y})})}function o(C,y,n){return y===aA&&(y=m),n===aA&&(n=null),e.getDoc().execCommand(C,y,n)}function F(n){return i.match(n)}function z(y,n){i.toggle(y,n?{value:n}:aA),e.nodeChanged()}function u(n){G=B.getBookmark(n)}function c(){B.moveToBookmark(G)}var A=e.dom,B=e.selection,D={state:{},exec:{},value:{}},s=e.settings,i=e.formatter,G;g(this,{execCommand:a,queryCommandState:d,queryCommandValue:f,addCommands:l}),l({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){e.undoManager.add()},"Cut,Copy,Paste":function(E){var y=e.getDoc(),C;try{o(E)}catch(n){C=q}(C||!y.queryCommandSupported(E))&&e.windowManager.alert("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.")},unlink:function(n){B.isCollapsed()&&B.select(B.getNode()),o(n),B.collapse(m)},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(r){var n=r.substring(7);"full"==n&&(n="justify"),k("left,center,right,justify".split(","),function(y){n!=y&&i.remove("align"+y)}),z("align"+n),a("mceRepaint")},"InsertUnorderedList,InsertOrderedList":function(y){var r,C;o(y),r=A.getParent(B.getNode(),"ol,ul"),r&&(C=r.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(C.nodeName)&&(u(),A.split(C,r),c()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(n){z(n)},"ForeColor,HiliteColor,FontName":function(y,r,C){z(y,C)},FontSize:function(H,C,I){var E,y;I>=1&&7>=I&&(y=j(s.font_size_style_values),E=j(s.font_size_classes),I=E?E[I-1]||I:y[I-1]||I),z(H,I)},RemoveFormat:function(n){i.remove(n)},mceBlockQuote:function(){z("blockquote")},FormatBlock:function(y,r,C){return z(C||"p")},mceCleanup:function(){var n=B.getBookmark();e.setContent(e.getContent({cleanup:q}),{cleanup:q}),B.moveToBookmark(n)},mceRemoveNode:function(E,y,C){var n=C||B.getNode();n!=e.getBody()&&(u(),e.dom.remove(n,q),c())},mceSelectNodeDepth:function(E,y,C){var n=0;A.getParent(B.getNode(),function(r){return 1==r.nodeType&&n++==C?(B.select(r),m):void 0},e.getBody())},mceSelectNode:function(y,r,C){B.select(C)},mceInsertContent:function(H,K,P){function M(Y){function C(r){return X[r]&&3==X[r].nodeType}var Z,X,y;return Z=B.getRng(!0),X=Z.startContainer,y=Z.startOffset,3==X.nodeType&&(y>0?Y=Y.replace(/^&nbsp;/," "):C("previousSibling")||(Y=Y.replace(/^ /,"&nbsp;")),y<X.length?Y=Y.replace(/&nbsp;(<br>|)$/," "):C("nextSibling")||(Y=Y.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),Y}var W,I,O,U,T,S,L,N,Q,R,E,n,V,J;if(/^ | $/.test(P)&&(P=M(P)),W=e.parser,I=new p({},e.schema),V='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>',S={content:P,format:"html",selection:!0},e.fire("BeforeSetContent",S),P=S.content,-1==P.indexOf("{$caret}")&&(P+="{$caret}"),P=P.replace(/\{\$caret\}/,V),B.isCollapsed()||e.getDoc().execCommand("Delete",!1,null),O=B.getNode(),S={context:O.nodeName.toLowerCase()},T=W.parse(P,S),E=T.lastChild,"mce_marker"==E.attr("id")){for(L=E,E=E.prev;E;E=E.walk(!0)){if(3==E.type||!A.isBlock(E.name)){E.parent.insert(L,E,"br"===E.name);break}}}if(S.invalid){for(B.setContent(V),O=B.getNode(),U=e.getBody(),9==O.nodeType?O=E=U:E=O;E!==U;){O=E,E=E.parentNode}P=O==U?U.innerHTML:A.getOuterHTML(O),P=I.serialize(W.parse(P.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return I.serialize(T)}))),O==U?A.setHTML(U,P):A.setOuterHTML(O,P)}else{P=I.serialize(T),E=O.firstChild,n=O.lastChild,!E||E===n&&"BR"===E.nodeName?A.setHTML(O,P):B.setContent(P)}L=A.get("mce_marker"),N=A.getRect(L),Q=A.getViewPort(e.getWin()),(N.y+N.h>Q.y+Q.h||N.y<Q.y||N.x>Q.x+Q.w||N.x<Q.x)&&(J=w?e.getDoc().documentElement:e.getBody(),J.scrollLeft=N.x,J.scrollTop=N.y-Q.h+25),R=A.createRng(),E=L.previousSibling,E&&3==E.nodeType?(R.setStart(E,E.nodeValue.length),w||(n=L.nextSibling,n&&3==n.nodeType&&(E.appendData(n.data),n.parentNode.removeChild(n)))):(R.setStartBefore(L),R.setEndBefore(L)),A.remove(L),B.setRng(R),e.fire("SetContent",S),e.addVisual()},mceInsertRawHTML:function(C,n,y){B.setContent("tiny_mce_marker"),e.setContent(e.getContent().replace(/tiny_mce_marker/g,function(){return y}))},mceToggleFormat:function(y,r,C){z(C)},mceSetContent:function(C,n,y){e.setContent(y)},"Indent,Outdent":function(E){var y,H,C;y=s.indentation,H=/[a-z%]+$/i.exec(y),y=parseInt(y,10),d("InsertUnorderedList")||d("InsertOrderedList")?o(E):(s.forced_root_block||A.getParent(B.getNode(),A.isBlock)||i.apply("div"),k(B.getSelectedBlocks(),function(n){var r;"LI"!=n.nodeName&&(r="rtl"==A.getStyle(n,"direction",!0)?"paddingRight":"paddingLeft","outdent"==E?(C=Math.max(0,parseInt(n.style[r]||0,10)-y),A.setStyle(n,r,C?C+H:"")):(C=parseInt(n.style[r]||0,10)+y+H,A.setStyle(n,r,C)))}))},mceRepaint:function(){if(t){try{u(q),B.getSel()&&B.getSel().selectAllChildren(e.getBody()),B.collapse(q),c()}catch(n){}}},InsertHorizontalRule:function(){e.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){e.hasVisual=!e.hasVisual,e.addVisual()},mceReplaceContent:function(C,n,y){e.execCommand("mceInsertContent",!1,y.replace(/\{\$selection\}/g,B.getContent({format:"text"})))},mceInsertLink:function(E,y,H){var C;"string"==typeof H&&(H={href:H}),C=A.getParent(B.getNode(),"a"),H.href=H.href.replace(" ","%20"),C&&H.href||i.remove("link"),H.href&&i.apply("link",H,C)},selectAll:function(){var r=A.getRoot(),n=A.createRng();B.getRng().setStart?(n.setStart(r,0),n.setEnd(r,r.childNodes.length),B.setRng(n)):o("SelectAll")},mceNewDocument:function(){e.setContent("")}}),l({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(E){var y="align"+E.substring(7),H=B.isCollapsed()?[A.getParent(B.getNode(),A.isBlock)]:B.getSelectedBlocks(),C=v(H,function(n){return !!i.matchNode(n,y)});return -1!==x(C,q)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(n){return F(n)},mceBlockQuote:function(){return F("blockquote")},Outdent:function(){var n;if(s.inline_styles){if((n=A.getParent(B.getStart(),A.isBlock))&&parseInt(n.style.paddingLeft,10)>0){return q}if((n=A.getParent(B.getEnd(),A.isBlock))&&parseInt(n.style.paddingLeft,10)>0){return q}}return d("InsertUnorderedList")||d("InsertOrderedList")||!s.inline_styles&&!!A.getParent(B.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(r){var n=A.getParent(B.getNode(),"ul,ol");return n&&("insertunorderedlist"===r&&"UL"===n.tagName||"insertorderedlist"===r&&"OL"===n.tagName)}},"state"),l({"FontSize,FontName":function(y){var r=0,C;return(C=A.getParent(B.getNode(),"span"))&&(r="fontsize"==y?C.style.fontSize:C.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()),r}},"value"),l({Undo:function(){e.undoManager.undo()},Redo:function(){e.undoManager.redo()}})}}),aC(bg,[aR],function(c){function a(j,g){var k=this,f,h;return j=b(j),g=k.settings=g||{},/^([\w\-]+):([^\/]{2})/i.test(j)||/^\s*#/.test(j)?(k.source=j,void 0):(0===j.indexOf("/")&&0!==j.indexOf("//")&&(j=(g.base_uri?g.base_uri.protocol||"http":"http")+"://mce_host"+j),/^[\w\-]*:?\/\//.test(j)||(h=g.base_uri?g.base_uri.path:new a(location.href).directory,j=(g.base_uri&&g.base_uri.protocol||"http")+"://mce_host"+k.toAbsPath(h,j)),j=j.replace(/@@/g,"(mce_at)"),j=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(j),d(["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],function(e,l){var i=j[l];i&&(i=i.replace(/\(mce_at\)/g,"@@")),k[e]=i}),f=g.base_uri,f&&(k.protocol||(k.protocol=f.protocol),k.userInfo||(k.userInfo=f.userInfo),k.port||"mce_host"!==k.host||(k.port=f.port),k.host&&"mce_host"!==k.host||(k.host=f.host),k.source=""),void 0)}var d=c.each,b=c.trim;return a.prototype={setPath:function(g){var f=this;g=/^(.*?)\/?(\w+)?$/.exec(g),f.path=g[0],f.directory=g[1],f.file=g[2],f.source="",f.getURI()},toRelative:function(h){var k=this,g;if("./"===h){return h}if(h=new a(h,{base_uri:k}),"mce_host"!=h.host&&k.host!=h.host&&h.host||k.port!=h.port||k.protocol!=h.protocol){return h.getURI()}var f=k.getURI(),j=h.getURI();return f==j||"/"==f.charAt(f.length-1)&&f.substr(0,f.length-1)==j?f:(g=k.toRelPath(k.path,h.path),h.query&&(g+="?"+h.query),h.anchor&&(g+="#"+h.anchor),g)},toAbsolute:function(f,g){return f=new a(f,{base_uri:this}),f.getURI(this.host==f.host&&this.protocol==f.protocol?g:0)},toRelPath:function(k,h){var m,j=0,g="",l,f;if(k=k.substring(0,k.lastIndexOf("/")),k=k.split("/"),m=h.split("/"),k.length>=m.length){for(l=0,f=k.length;f>l;l++){if(l>=m.length||k[l]!=m[l]){j=l+1;break}}}if(k.length<m.length){for(l=0,f=m.length;f>l;l++){if(l>=k.length||k[l]!=m[l]){j=l+1;break}}}if(1===j){return h}for(l=0,f=k.length-(j-1);f>l;l++){g+="../"}for(l=j-1,f=m.length;f>l;l++){g+=l!=j-1?"/"+m[l]:m[l]}return g},toAbsPath:function(l,h){var k,g=0,m=[],f,j;for(f=/\/$/.test(h)?"/":"",l=l.split("/"),h=h.split("/"),d(l,function(i){i&&m.push(i)}),l=m,k=h.length-1,m=[];k>=0;k--){0!==h[k].length&&"."!==h[k]&&(".."!==h[k]?g>0?g--:m.push(h[k]):g++)}return k=l.length-g,j=0>=k?m.reverse().join("/"):l.slice(0,k).join("/")+"/"+m.reverse().join("/"),0!==j.indexOf("/")&&(j="/"+j),f&&j.lastIndexOf("/")!==j.length-1&&(j+=f),j},getURI:function(g){var f,h=this;return(!h.source||g)&&(f="",g||(h.protocol&&(f+=h.protocol+"://"),h.userInfo&&(f+=h.userInfo+"@"),h.host&&(f+=h.host),h.port&&(f+=":"+h.port)),h.path&&(f+=h.path),h.query&&(f+="?"+h.query),h.anchor&&(f+="#"+h.anchor),h.source=f),h.source}},a}),aC(bh,[aR],function(d){function b(){}var g=d.each,c=d.extend,a,f;return b.extend=a=function(j){function p(){var u,l,v,s;if(!f&&(s=this,s.init&&s.init.apply(s,arguments),l=s.Mixins)){for(u=l.length;u--;){v=l[u],v.init&&v.init.apply(s,arguments)}}}function n(){return this}function q(r,l){return function(){var t=this,s=t._super,e;return t._super=m[r],e=l.apply(t,arguments),t._super=s,e}}var h=this,m=h.prototype,o,k,i;f=!0,o=new h,f=!1,j.Mixins&&(g(j.Mixins,function(e){e=e;for(var l in e){"init"!==l&&(j[l]=e[l])}}),m.Mixins&&(j.Mixins=m.Mixins.concat(j.Mixins))),j.Methods&&g(j.Methods.split(","),function(e){j[e]=n}),j.Properties&&g(j.Properties.split(","),function(e){var l="_"+e;j[e]=function(v){var s=this,u;return v!==u?(s[l]=v,s):s[l]}}),j.Statics&&g(j.Statics,function(l,r){p[r]=l}),j.Defaults&&m.Defaults&&(j.Defaults=c({},m.Defaults,j.Defaults));for(k in j){i=j[k],o[k]="function"==typeof i&&m[k]?q(k,i):i}return p.prototype=o,p.constructor=p,p.extend=a,p},b}),aC(bp,[bh,aR],function(h,d){function k(l){for(var a=[],m=l.length,i;m--;){i=l[m],i.__checked||(a.push(i),i.__checked=1)}for(m=a.length;m--;){delete a[m].__checked}return a}var g=/^([\w\\*]+)?(?:#([\w\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,c=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,j=/^\s*|\s*$/g,b,f=h.extend({init:function(o){function w(a){return a?(a=a.toLowerCase(),function(e){return"*"===a||e.type===a}):void 0}function i(a){return a?function(e){return e._name===a}:void 0}function r(a){return a?(a=a.split("."),function(e){for(var l=a.length;l--;){if(!e.hasClass(a[l])){return !1}}return !0}):void 0}function x(l,a,s){return l?function(n){var e=n[l]?n[l]():"";return a?"="===a?e===s:"*="===a?e.indexOf(s)>=0:"~="===a?(" "+e+" ").indexOf(" "+s+" ")>=0:"!="===a?e!=s:"^="===a?0===e.indexOf(s):"$="===a?e.substr(e.length-s.length)===s:!1:!!s}:void 0}function m(l){var a;return l?(l=/(?:not\((.+)\))|(.+)/i.exec(l),l[1]?(a=v(l[1],[]),function(n){return !p(n,a)}):(l=l[2],function(e,u,s){return"first"===l?0===u:"last"===l?u===s-1:"even"===l?0===u%2:"odd"===l?1===u%2:e[l]?e[l]():!1})):void 0}function q(n,l,t){function a(u){u&&l.push(u)}var s;return s=g.exec(n.replace(j,"")),a(w(s[1])),a(i(s[2])),a(r(s[3])),a(x(s[4],s[5],s[6])),a(m(s[7])),l.psuedo=!!s[7],l.direct=t,l}function v(y,s){var A=[],u,z,l;do{if(c.exec(""),z=c.exec(y),z&&(y=z[3],A.push(z[1]),z[2])){u=z[3];break}}while(z);for(u&&v(u,s),y=[],l=0;l<A.length;l++){">"!=A[l]&&y.push(q(A[l],[],">"===A[l-1]))}return s.push(y),s}var p=this.match;this._selectors=v(o,[])},match:function(C,w){var q,z,v,F,H,y,E,G,D,B,t,x,A;for(w=w||this._selectors,q=0,z=w.length;z>q;q++){for(H=w[q],F=H.length,A=C,x=0,v=F-1;v>=0;v--){for(G=H[v];A;){for(G.psuedo&&(t=A.parent().items(),D=d.inArray(A,t),B=t.length),y=0,E=G.length;E>y;y++){if(!G[y](A,D,B)){y=E+1;break}}if(y===E){x++;break}if(v===F-1){break}A=A.parent()}}if(x===F){return !0}}return !1},find:function(q){function n(x,t,w){var r,z,B,v,y,A=t[w];for(r=0,z=x.length;z>r;r++){for(y=x[r],B=0,v=A.length;v>B;B++){if(!A[B](y,r,z)){B=v+1;break}}if(B===v){w==t.length-1?p.push(y):y.items&&n(y.items(),t,w+1)}else{if(A.direct){return}}y.items&&n(y.items(),t,w)}}var p=[],m,s,a=this._selectors;if(q.items){for(m=0,s=a.length;s>m;m++){n(q.items(),a[m],0)}s>1&&(p=k(p))}return b||(b=f.Collection),new b(p)}});return f}),aC(bs,[aR,bp,bh],function(g,d,j){var f,c,h=Array.prototype.push,b=Array.prototype.slice;return c={length:0,init:function(a){a&&this.add(a)},add:function(a){var e=this;return g.isArray(a)?h.apply(e,a):a instanceof f?e.add(a.toArray()):h.call(e,a),e},set:function(k){var a=this,l=a.length,i;for(a.length=0,a.add(k),i=a.length;l>i;i++){delete a[i]}return a},filter:function(r){var u=this,p,t,m=[],q,k;for("string"==typeof r?(r=new d(r),k=function(a){return r.match(a)}):k=r,p=0,t=u.length;t>p;p++){q=u[p],k(q)&&m.push(q)}return new f(m)},slice:function(){return new f(b.apply(this,arguments))},eq:function(a){return -1===a?this.slice(a):this.slice(a,+a+1)},each:function(a){return g.each(this,a),this},toArray:function(){return g.toArray(this)},indexOf:function(i){for(var a=this,k=a.length;k--&&a[k]!==i;){}return k},reverse:function(){return new f(g.toArray(this).reverse())},hasClass:function(a){return this[0]?this[0].hasClass(a):!1},prop:function(m,k){var o=this,l,a;return k!==l?(o.each(function(e){e[m]&&e[m](k)}),o):(a=o[0],a&&a[m]?a[m]():void 0)},exec:function(a){var i=this,e=g.toArray(arguments).slice(1);return i.each(function(k){k[a]&&k[a].apply(k,e)}),i},remove:function(){for(var a=this.length;a--;){this[a].remove()}return this}},g.each("fire on off show hide addClass removeClass append prepend before after reflow".split(" "),function(a){c[a]=function(){var e=g.toArray(arguments);return this.each(function(i){a in i&&i[a].apply(i,e)}),this}}),g.each("text name disabled active selected checked visible parent value data".split(" "),function(a){c[a]=function(e){return this.prop(a,e)}}),f=j.extend(c),d.Collection=f,f}),aC(a6,[aR,aQ],function(b,a){return{id:function(){return a.DOM.uniqueId()},createFragment:function(c){return a.DOM.createFragment(c)},getWindowSize:function(){return a.DOM.getViewPort()},getSize:function(c){return a.DOM.getSize(c)},getPos:function(c,d){return a.DOM.getPos(c,d)},getViewPort:function(c){return a.DOM.getViewPort(c)},get:function(c){return document.getElementById(c)},addClass:function(c,d){return a.DOM.addClass(c,d)},removeClass:function(c,d){return a.DOM.removeClass(c,d)},hasClass:function(c,d){return a.DOM.hasClass(c,d)},toggleClass:function(d,f,c){return a.DOM.toggleClass(d,f,c)},css:function(d,f,c){return a.DOM.setStyle(d,f,c)},on:function(f,g,d,c){return a.DOM.bind(f,g,d,c)},off:function(d,f,c){return a.DOM.unbind(d,f,c)},fire:function(d,f,c){return a.DOM.fire(d,f,c)},innerHtml:function(c,d){a.DOM.setHTML(c,d)}}}),aC(ar,[bh,aR,bs,a6],function(h,k,d,b){var g=k.makeMap("focusin focusout scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave wheel keydown keypress keyup contextmenu"," "),c={},j="onmousewheel" in document,m=!1,f=h.extend({Statics:{controlIdLookup:{}},classPrefix:"mce-",init:function(l){var q=this,a,p;if(q.settings=l=k.extend({},q.Defaults,l),q._id=b.id(),q._text=q._name="",q._width=q._height=0,q._aria={role:l.role},a=l.classes){for(a=a.split(" "),a.map={},p=a.length;p--;){a.map[a[p]]=!0}}q._classes=a||[],q.visible(!0),k.each("title text width height name classes visible disabled active value".split(" "),function(n){var o=l[n],e;o!==e?q[n](o):q["_"+n]===e&&(q["_"+n]=!1)}),q.on("click",function(){return q.disabled()?!1:void 0}),l.classes&&k.each(l.classes.split(" "),function(i){q.addClass(i)}),q.settings=l,q._borderBox=q.parseBox(l.border),q._paddingBox=q.parseBox(l.padding),q._marginBox=q.parseBox(l.margin),l.hidden&&q.hide()},Properties:"parent,title,text,width,height,disabled,active,name,value",Methods:"renderHtml",getContainerElm:function(){return document.body},getParentCtrl:function(i){for(var a;i&&!(a=f.controlIdLookup[i.id]);){i=i.parentNode}return a},parseBox:function(i){var a,l=10;if(i){return"number"==typeof i?(i=i||0,{top:i,left:i,bottom:i,right:i}):(i=i.split(" "),a=i.length,1===a?i[1]=i[2]=i[3]=i[0]:2===a?(i[2]=i[0],i[3]=i[1]):3===a&&(i[3]=i[1]),{top:parseInt(i[0],l)||0,right:parseInt(i[1],l)||0,bottom:parseInt(i[2],l)||0,left:parseInt(i[3],l)||0})}},borderBox:function(){return this._borderBox},paddingBox:function(){return this._paddingBox},marginBox:function(){return this._marginBox},measureBox:function(l,a){function o(e){var p=document.defaultView;return p?(e=e.replace(/[A-Z]/g,function(n){return"-"+n}),p.getComputedStyle(l,null).getPropertyValue(e)):l.currentStyle[e]}function i(p){var n=parseInt(o(p),10);return isNaN(n)?0:n}return{top:i(a+"TopWidth"),right:i(a+"RightWidth"),bottom:i(a+"BottomWidth"),left:i(a+"LeftWidth")}},initLayoutRect:function(){var D=this,I=D.settings,x,q,A=D.getEl(),w,G,J,z,F,H,E;x=D._borderBox=D._borderBox||D.measureBox(A,"border"),D._paddingBox=D._paddingBox||D.measureBox(A,"padding"),D._marginBox=D._marginBox||D.measureBox(A,"margin"),H=I.minWidth,E=I.minHeight,J=H||A.offsetWidth,z=E||A.offsetHeight,w=I.width,G=I.height,F=I.autoResize,F="undefined"!=typeof F?F:!w&&!G,w=w||J,G=G||z;var C=x.left+x.right,v=x.top+x.bottom,y=I.maxWidth||65535,B=I.maxHeight||65535;return D._layoutRect=q={x:I.x||0,y:I.y||0,w:w,h:G,deltaW:C,deltaH:v,contentW:w-C,contentH:G-v,innerW:w-C,innerH:G-v,startMinWidth:H||0,startMinHeight:E||0,minW:Math.min(J,y),minH:Math.min(z,B),maxW:y,maxH:B,autoResize:F,scrollW:0},D._lastLayoutRect={},q},layoutRect:function(v){var y=this,q=y._layoutRect,l,u,p,x,z,w;return q||(q=y.initLayoutRect()),v?(p=q.deltaW,x=q.deltaH,v.x!==z&&(q.x=v.x),v.y!==z&&(q.y=v.y),v.minW!==z&&(q.minW=v.minW),v.minH!==z&&(q.minH=v.minH),u=v.w,u!==z&&(u=u<q.minW?q.minW:u,u=u>q.maxW?q.maxW:u,q.w=u,q.innerW=u-p),u=v.h,u!==z&&(u=u<q.minH?q.minH:u,u=u>q.maxH?q.maxH:u,q.h=u,q.innerH=u-x),u=v.innerW,u!==z&&(u=u<q.minW-p?q.minW-p:u,u=u>q.maxW-p?q.maxW-p:u,q.innerW=u,q.w=u+p),u=v.innerH,u!==z&&(u=u<q.minH-x?q.minH-x:u,u=u>q.maxH-x?q.maxH-x:u,q.innerH=u,q.h=u+x),v.contentW!==z&&(q.contentW=v.contentW),v.contentH!==z&&(q.contentH=v.contentH),l=y._lastLayoutRect,(l.x!==q.x||l.y!==q.y||l.w!==q.w||l.h!==q.h)&&(w=f.repaintControls,w&&w.map&&!w.map[y._id]&&(w.push(y),w.map[y._id]=!0),l.x=q.x,l.y=q.y,l.w=q.w,l.h=q.h),y):q},repaint:function(){var w=this,q,y,v,p,x=0,l=0,u;q=w.getEl().style,v=w._layoutRect,u=w._lastRepaintRect||{},p=w._borderBox,x=p.left+p.right,l=p.top+p.bottom,v.x!==u.x&&(q.left=v.x+"px",u.x=v.x),v.y!==u.y&&(q.top=v.y+"px",u.y=v.y),v.w!==u.w&&(q.width=v.w-x+"px",u.w=v.w),v.h!==u.h&&(q.height=v.h-l+"px",u.h=v.h),w._hasBody&&v.innerW!==u.innerW&&(y=w.getEl("body").style,y.width=v.innerW+"px",u.innerW=v.innerW),w._hasBody&&v.innerH!==u.innerH&&(y=y||w.getEl("body").style,y.height=v.innerH+"px",u.innerH=v.innerH),w._lastRepaintRect=u,w.fire("repaint",{},!1)},on:function(w,q){function y(l){var a,o;return function(e){return a||v.parents().each(function(s){var n=s.settings.callbacks;return n&&(a=n[l])?(o=s,!1):void 0}),a.call(o,e)}}var v=this,x,p,u,i;if(q){for("string"==typeof q&&(q=y(q)),u=w.toLowerCase().split(" "),i=u.length;i--;){w=u[i],x=v._bindings,x||(x=v._bindings={}),p=x[w],p||(p=x[w]=[]),p.push(q),g[w]&&(v._nativeEvents?v._nativeEvents[w]=!0:v._nativeEvents={name:!0},v._rendered&&v.bindPendingEvents())}}return v},off:function(x,z){var u=this,p,w=u._bindings,q,y,A,v;if(w){if(x){for(A=x.toLowerCase().split(" "),p=A.length;p--;){if(x=A[p],q=w[x],!x){for(y in w){w[y].length=0}return u}if(q){if(z){for(v=q.length;v--;){q[v]===z&&q.splice(v,1)}}else{q.length=0}}}}else{u._bindings=[]}}return u},fire:function(x,A,u){function p(){return !1}function w(){return !0}var q=this,z,B,v,y;if(x=x.toLowerCase(),A=A||{},A.type||(A.type=x),A.control||(A.control=q),A.preventDefault||(A.preventDefault=function(){A.isDefaultPrevented=w},A.stopPropagation=function(){A.isPropagationStopped=w},A.stopImmediatePropagation=function(){A.isImmediatePropagationStopped=w},A.isDefaultPrevented=p,A.isPropagationStopped=p,A.isImmediatePropagationStopped=p),q._bindings&&(v=q._bindings[x])){for(z=0,B=v.length;B>z&&(A.isImmediatePropagationStopped()||v[z].call(q,A)!==!1);z++){}}if(u!==!1){for(y=q.parent();y&&!A.isPropagationStopped();){y.fire(x,A,!1),y=y.parent()}}return A},parents:function(l){var a=this,i=new d;for(a=a.parent();a;a=a.parent()){i.add(a)}return l&&(i=i.filter(l)),i},next:function(){var a=this.parent().items();return a[a.indexOf(this)+1]},prev:function(){var a=this.parent().items();return a[a.indexOf(this)-1]},findCommonAncestor:function(i,a){for(var l;i;){for(l=a;l&&i!=l;){l=l.parent()}if(i==l){break}i=i.parent()}return i},hasClass:function(i,a){var l=this._classes[a||"control"];return i=this.classPrefix+i,l&&!!l.map[i]},addClass:function(p,l){var q=this,o,a;return p=this.classPrefix+p,o=q._classes[l||"control"],o||(o=[],o.map={},q._classes[l||"control"]=o),o.map[p]||(o.map[p]=p,o.push(p),q._rendered&&(a=q.getEl(l),a&&(a.className=o.join(" ")))),q},removeClass:function(q,l){var u=this,p,a,s;if(q=this.classPrefix+q,p=u._classes[l||"control"],p&&p.map[q]){for(delete p.map[q],a=p.length;a--;){p[a]===q&&p.splice(a,1)}}return u._rendered&&(s=u.getEl(l),s&&(s.className=p.join(" "))),u},toggleClass:function(l,a,o){var i=this;return a?i.addClass(l,o):i.removeClass(l,o),i},classes:function(i){var a=this._classes[i||"control"];return a?a.join(" "):""},innerHtml:function(a){return b.innerHtml(this.getEl(),a),this},getEl:function(o,l){var p,a=o?this._id+"-"+o:this._id;return p=c[a]=(l===!0?null:c[a])||b.get(a)},visible:function(i){var a=this,l;return"undefined"!=typeof i?(a._visible!==i&&(a._rendered&&(a.getEl().style.display=i?"":"none"),a._visible=i,l=a.parent(),l&&(l._lastRect=null),a.fire(i?"show":"hide")),a):a._visible},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(a){}return this},blur:function(){return this.getEl().blur(),this},aria:function(l,a){var o=this,i=o.getEl();return"undefined"==typeof a?o._aria[l]:(o._aria[l]=a,o._rendered&&("label"==l&&i.setAttribute("aria-labeledby",o._id),i.setAttribute("role"==l?l:"aria-"+l,a)),o)},encode:function(i,a){return a!==!1&&f.translate&&(i=f.translate(i)),(i||"").replace(/[&<>"]/g,function(l){return"&#"+l.charCodeAt(0)+";"})},before:function(i){var a=this,l=a.parent();return l&&l.insert(i,l.items().indexOf(a),!0),a},after:function(i){var a=this,l=a.parent();return l&&l.insert(i,l.items().indexOf(a)),a},remove:function(){var r=this,q=r.getEl(),u=r.parent(),p;if(r.items){for(var s=r.items().toArray(),l=s.length;l--;){s[l].remove()}}return u&&u.items&&(p=[],u.items().each(function(a){a!==r&&p.push(a)}),u.items().set(p),u._lastRect=null),r._eventsRoot&&r._eventsRoot==r&&b.off(q),delete f.controlIdLookup[r._id],q.parentNode&&q.parentNode.removeChild(q),r},renderBefore:function(i){var a=this;return i.parentNode.insertBefore(b.createFragment(a.renderHtml()),i),a.postRender(),a},renderTo:function(i){var a=this;return i=i||a.getContainerElm(),i.appendChild(b.createFragment(a.renderHtml())),a.postRender(),a},postRender:function(){var u=this,q=u.settings,x,p,v,l,r;for(l in q){0===l.indexOf("on")&&u.on(l.substr(2),q[l])}if(u._eventsRoot){for(v=u.parent();!r&&v;v=v.parent()){r=v._eventsRoot}if(r){for(l in r._nativeEvents){u._nativeEvents[l]=!0}}}u.bindPendingEvents(),q.style&&(x=u.getEl(),x&&(x.setAttribute("style",q.style),x.style.cssText=q.style)),u._visible||b.css(u.getEl(),"display","none"),u.settings.border&&(p=u.borderBox(),b.css(u.getEl(),{"border-top-width":p.top,"border-right-width":p.right,"border-bottom-width":p.bottom,"border-left-width":p.left})),f.controlIdLookup[u._id]=u;for(var w in u._aria){u.aria(w,u._aria[w])}u.fire("postrender",{},!1)},scrollIntoView:function(y){function C(s,l){var u,o,a=s;for(u=o=0;a&&a!=l&&a.nodeType;){u+=a.offsetLeft||0,o+=a.offsetTop||0,a=a.offsetParent}return{x:u,y:o}}var v=this.getEl(),p=v.parentNode,x,q,A,D,w,z,B=C(v,p);return x=B.x,q=B.y,A=v.offsetWidth,D=v.offsetHeight,w=p.clientWidth,z=p.clientHeight,"end"==y?(x-=w-A,q-=z-D):"center"==y&&(x-=w/2-A/2,q-=z/2-D/2),p.scrollLeft=x,p.scrollTop=q,this},bindPendingEvents:function(){function x(l){var i=q.getParentCtrl(l.target);i&&i.fire(l.type,l)}function B(){var i=y._lastHoverCtrl;i&&(i.fire("mouseleave",{target:i.getEl()}),i.parents().each(function(l){l.fire("mouseleave",{target:l.getEl()})}),y._lastHoverCtrl=null)}function r(D){var p=q.getParentCtrl(D.target),E=y._lastHoverCtrl,C=0,o,l,u;if(p!==E){if(y._lastHoverCtrl=p,l=p.parents().toArray().reverse(),l.push(p),E){for(u=E.parents().toArray().reverse(),u.push(E),C=0;C<u.length&&l[C]===u[C];C++){}for(o=u.length-1;o>=C;o--){E=u[o],E.fire("mouseleave",{target:E.getEl()})}}for(o=C;o<l.length;o++){p=l[o],p.fire("mouseenter",{target:p.getEl()})}}}function v(i){i.preventDefault(),"mousewheel"==i.type?(i.deltaY=-1/40*i.wheelDelta,i.wheelDeltaX&&(i.deltaX=-1/40*i.wheelDeltaX)):(i.deltaX=0,i.deltaY=i.detail),i=q.fire("wheel",i)}var q=this,s,z,A,y,w,a;if(q._rendered=!0,w=q._nativeEvents){for(A=q.parents().toArray(),A.unshift(q),s=0,z=A.length;!y&&z>s;s++){y=A[s]._eventsRoot}for(y||(y=A[A.length-1]||q),q._eventsRoot=y,z=s,s=0;z>s;s++){A[s]._eventsRoot=y}for(a in w){if(!w){return !1}"wheel"!==a||m?("mouseenter"===a||"mouseleave"===a?y._hasMouseEnter||(b.on(y.getEl(),"mouseleave",B),b.on(y.getEl(),"mouseover",r),y._hasMouseEnter=1):y[a]||(b.on(y.getEl(),a,x),y[a]=!0),w[a]=!1):j?b.on(q.getEl(),"mousewheel",v):b.on(q.getEl(),"DOMMouseScroll",v)}}},reflow:function(){return this.repaint(),this}});return f}),aC(a8,[],function(){var b={},a;return{add:function(c,d){b[c.toLowerCase()]=d},has:function(c){return !!b[c.toLowerCase()]},create:function(g,e){var d,f,c;if(!a){c=tinymce.ui;for(f in c){b[f.toLowerCase()]=c[f]}a=!0}if("string"==typeof g?(e=e||{},e.type=g):(e=g,g=e.type),g=g.toLowerCase(),d=b[g],!d){throw new Error("Could not find control by type: "+g)}return d=new d(e),d.type=g,d}}}),aC(a9,[ar,bs,bp,a8,aR,a6],function(g,d,j,f,c,h){var b={};return g.extend({layout:"",innerClass:"container-inner",init:function(a){var i=this;i._super(a),a=i.settings,i._fixed=a.fixed,i._items=new d,i.addClass("container"),i.addClass("container-body","body"),a.containerCls&&i.addClass(a.containerCls),i._layout=f.create((a.layout||i.layout)+"layout"),i.settings.items&&i.add(i.settings.items),i._hasBody=!0},items:function(){return this._items},find:function(a){return a=b[a]=b[a]||new j(a),a.find(this)},add:function(i){var a=this;return a.items().add(a.create(i)).parent(a),a},focus:function(){var a=this;return a.keyNav?a.keyNav.focusFirst():a._super(),a},replace:function(m,k){for(var o,l=this.items(),a=l.length;a--;){if(l[a]===m){l[a]=k;break}}a>=0&&(o=k.getEl(),o&&o.parentNode.removeChild(o),o=m.getEl(),o&&o.parentNode.removeChild(o)),k.parent(this)},create:function(i){var l=this,k,e=[];return c.isArray(i)||(i=[i]),c.each(i,function(a){a&&(a instanceof g||("string"==typeof a&&(a={type:a}),k=c.extend({},l.settings.defaults,a),a.type=k.type=k.type||a.type||l.settings.defaultType||(k.defaults?k.defaults.type:null),a=f.create(k)),e.push(a))}),e},renderNew:function(){var a=this;return a.items().each(function(k,m){var l,e;k.parent(a),k._rendered||(l=a.getEl("body"),e=h.createFragment(k.renderHtml()),l.hasChildNodes()&&m<=l.childNodes.length-1?l.insertBefore(e,l.childNodes[m]):l.appendChild(e),k.postRender())}),a._layout.applyClasses(a),a._lastRect=null,a},append:function(a){return this.add(a).renderNew()},prepend:function(i){var a=this;return a.items().set(a.create(i).concat(a.items().toArray())),a.renderNew()},insert:function(q,m,u){var p=this,l,s,k;return q=p.create(q),l=p.items(),!u&&m<l.length-1&&(m+=1),m>=0&&m<l.length&&(s=l.slice(0,m).toArray(),k=l.slice(m).toArray(),l.set(s.concat(q,k))),p.renderNew()},fromJSON:function(i){var a=this;for(var k in i){a.find("#"+k).value(i[k])}return a},toJSON:function(){var i=this,a={};return i.find("*").each(function(l){var m=l.name(),k=l.value();m&&"undefined"!=typeof k&&(a[m]=k)}),a},preRender:function(){},renderHtml:function(){var i=this,a=i._layout;return i.preRender(),a.preRender(i),'<div id="'+i._id+'" class="'+i.classes()+'" role="'+this.settings.role+'"><div id="'+i._id+'-body" class="'+i.classes("body")+'">'+(i.settings.html||"")+a.renderHtml(i)+"</div></div>"},postRender:function(){var i=this,a;return i.items().exec("postRender"),i._super(),i._layout.postRender(i),i._rendered=!0,i.settings.style&&h.css(i.getEl(),i.settings.style),i.settings.border&&(a=i.borderBox(),h.css(i.getEl(),{"border-top-width":a.top,"border-right-width":a.right,"border-bottom-width":a.bottom,"border-left-width":a.left})),i},initLayoutRect:function(){var i=this,a=i._super();return i._layout.recalc(i),a},recalc:function(){var i=this,a=i._layoutRect,k=i._lastRect;return k&&k.w==a.w&&k.h==a.h?void 0:(i._layout.recalc(i),a=i.layoutRect(),i._lastRect={x:a.x,y:a.y,w:a.w,h:a.h},!0)},reflow:function(){var a,e;if(this.visible()){for(g.repaintControls=[],g.repaintControls.map={},e=this.recalc(),a=g.repaintControls.length;a--;){g.repaintControls[a].repaint()}"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint(),g.repaintControls=[]}return this}})}),aC(aF,[a6],function(b){function a(){var k=document,q,g,d,j,f,p,u,h,m=Math.max;return q=k.documentElement,g=k.body,d=m(q.scrollWidth,g.scrollWidth),j=m(q.clientWidth,g.clientWidth),f=m(q.offsetWidth,g.offsetWidth),p=m(q.scrollHeight,g.scrollHeight),u=m(q.clientHeight,g.clientHeight),h=m(q.offsetHeight,g.offsetHeight),{width:f>d?j:d,height:h>p?u:p}}return function(h,e){function k(){return t.getElementById(e.handle||h)}var g,t=document,w,j,q,v,p,m;e=e||{},j=function(i){var d=a(),f,c;i.preventDefault(),w=i.button,f=k(),p=i.screenX,m=i.screenY,c=window.getComputedStyle?window.getComputedStyle(f,null).getPropertyValue("cursor"):f.runtimeStyle.cursor,g=t.createElement("div"),b.css(g,{position:"absolute",top:0,left:0,width:d.width,height:d.height,zIndex:2147483647,opacity:0.0001,background:"red",cursor:c}),t.body.appendChild(g),b.on(t,"mousemove",v),b.on(t,"mouseup",q),e.start(i)},v=function(c){return c.button!==w?q(c):(c.deltaX=c.screenX-p,c.deltaY=c.screenY-m,c.preventDefault(),e.drag(c),void 0)},q=function(c){b.off(t,"mousemove",v),b.off(t,"mouseup",q),g.parentNode.removeChild(g),e.stop&&e.stop(c)},this.destroy=function(){b.off(k())},b.on(k(),"mousedown",j)}}),aC(aN,[a6,aF],function(b,a){return{init:function(){var c=this;c.on("repaint",c.renderScroll)},renderScroll:function(){function f(){function h(F,C,G,o,z,E){var x,w,k,n,q,r,D,B,A;if(w=c.getEl("scroll"+F)){if(B=C.toLowerCase(),A=G.toLowerCase(),c.getEl("absend")&&b.css(c.getEl("absend"),B,c.layoutRect()[o]-1),!z){return b.css(w,"display","none"),void 0}b.css(w,"display","block"),x=c.getEl("body"),k=c.getEl("scroll"+F+"t"),n=x["client"+G]-2*e,n-=j&&i?w["client"+E]:0,q=x["scroll"+G],r=n/q,D={},D[B]=x["offset"+C]+e,D[A]=n,b.css(w,D),D={},D[B]=x["scroll"+C]*r,D[A]=n*r,b.css(k,D)}}var j,i,g;g=c.getEl("body"),j=g.scrollWidth>g.clientWidth,i=g.scrollHeight>g.clientHeight,h("h","Left","Width","contentW",j,"Height"),h("v","Top","Height","contentH",i,"Width")}function d(){function g(q,m,i,k,h){var p,j=c._id+"-scroll"+q,o=c.classPrefix;c.getEl().appendChild(b.createFragment('<div id="'+j+'" class="'+o+"scrollbar "+o+"scrollbar-"+q+'"><div id="'+j+'t" class="'+o+'scrollbar-thumb"></div></div>')),c.draghelper=new a(j+"t",{start:function(){p=c.getEl("body")["scroll"+m],b.addClass(b.get(j),o+"active")},drag:function(v){var n,l,w,r,s=c.layoutRect();l=s.contentW>s.innerW,w=s.contentH>s.innerH,r=c.getEl("body")["client"+i]-2*e,r-=l&&w?c.getEl("scroll"+q)["client"+h]:0,n=r/c.getEl("body")["scroll"+i],c.getEl("body")["scroll"+m]=p+v["delta"+k]/n},stop:function(){b.removeClass(b.get(j),o+"active")}})}c.addClass("scroll"),g("v","Top","Height","Y","Width"),g("h","Left","Width","X","Height")}var c=this,e=2;c.settings.autoScroll&&(c._hasScroll||(c._hasScroll=!0,d(),c.on("wheel",function(h){var g=c.getEl("body");g.scrollLeft+=10*(h.deltaX||0),g.scrollTop+=10*h.deltaY,f()}),b.on(c.getEl("body"),"scroll",f)),f())}}}),aC(bI,[a9,aN],function(b,a){return b.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[a],renderHtml:function(){var d=this,c=d._layout,f=d.settings.html;return d.preRender(),c.preRender(d),"undefined"==typeof f?f='<div id="'+d._id+'-body" class="'+d.classes("body")+'">'+c.renderHtml(d)+"</div>":("function"==typeof f&&(f=f.call(d)),d._hasBody=!1),'<div id="'+d._id+'" class="'+d.classes()+'" hideFocus="1" tabIndex="-1">'+(d._preBodyHtml||"")+f+"</div>"}})}),aC(bn,[a6],function(b){function a(x,h,e){var k,g,v,y,j,q,w,p,m;return m=b.getViewPort(),g=b.getPos(h),v=g.x,y=g.y,x._fixed&&(v-=m.x,y-=m.y),k=x.getEl(),j=k.offsetWidth,q=k.offsetHeight,w=h.offsetWidth,p=h.offsetHeight,e=(e||"").split(""),"b"===e[0]&&(y+=p),"r"===e[1]&&(v+=w),"c"===e[0]&&(y+=Math.round(p/2)),"c"===e[1]&&(v+=Math.round(w/2)),"b"===e[3]&&(y-=q),"r"===e[4]&&(v-=j),"c"===e[3]&&(y-=Math.round(q/2)),"c"===e[4]&&(v-=Math.round(j/2)),{x:v,y:y,w:j,h:q}}return{testMoveRel:function(g,e){for(var d=b.getViewPort(),f=0;f<e.length;f++){var c=a(this,g,e[f]);if(this._fixed){if(c.x>0&&c.x+c.w<d.w&&c.y>0&&c.y+c.h<d.h){return e[f]}}else{if(c.x>d.x&&c.x+c.w<d.w+d.x&&c.y>d.y&&c.y+c.h<d.h+d.y){return e[f]}}}return e[0]},moveRel:function(d,f){"string"!=typeof f&&(f=this.testMoveRel(d,f));var c=a(this,d,f);return this.moveTo(c.x,c.y)},moveBy:function(f,c){var g=this,d=g.layoutRect();return g.moveTo(d.x+f,d.y+c),g},moveTo:function(e,h){function f(j,i,k){return 0>j?0:j+k>i?(j=i-k,0>j?0:j):j}var d=this;if(d.settings.constrainToViewport){var g=b.getViewPort(window),c=d.layoutRect();e=f(e,g.w+g.x,c.w),h=f(h,g.h+g.y,c.h)}return d._rendered?d.layoutRect({x:e,y:h}).repaint():(d.settings.x=e,d.settings.y=h),d.fire("move",{x:e,y:h}),d}}}),aC(br,[a6],function(a){return{resizeToContent:function(){this._layoutRect.autoResize=!0,this._lastRect=null,this.reflow()},resizeTo:function(b,d){if(1>=b||1>=d){var c=a.getWindowSize();b=1>=b?b*c.w:b,d=1>=d?d*c.h:d}return this._layoutRect.autoResize=!1,this.layoutRect({minW:b,minH:d,w:b,h:d}).reflow()},resizeBy:function(d,b){var f=this,c=f.layoutRect();return f.resizeTo(c.w+d,c.h+b)}}}),aC(a2,[bI,bn,br,a6],function(j,q,f,b){function h(c){var a;for(a=v.length;a--;){v[a]===c&&v.splice(a,1)}}var d,m,v=[],g=[],k,p=j.extend({Mixins:[q,f],init:function(l){function c(){var w,u=p.zIndex||65535,x;if(g.length){for(w=0;w<g.length;w++){g[w].modal&&(u++,x=g[w]),g[w].getEl().style.zIndex=u,g[w].zIndex=u,u++}}var s=document.getElementById(o.classPrefix+"modal-block");x?b.css(s,"z-index",x.zIndex-1):s&&(s.parentNode.removeChild(s),k=!1),p.currentZIndex=u}function r(n,i){for(;n;){if(n==i){return !0}n=n.parent()}}function a(s){function i(w,y){for(var x,e=0;e<v.length;e++){if(v[e]!=s){for(x=v[e].parent();x&&(x=x.parent());){x==s&&v[e].fixed(w).moveBy(0,y).repaint()}}}}var u=b.getViewPort().y;s.settings.autofix&&(s._fixed?s._autoFixY>u&&(s.fixed(!1).layoutRect({y:s._autoFixY}).repaint(),i(!1,s._autoFixY-u)):(s._autoFixY=s.layoutRect().y,s._autoFixY<u&&(s.fixed(!0).layoutRect({y:0}).repaint(),i(!0,u-s._autoFixY))))}var o=this;o._super(l),o._eventsRoot=o,o.addClass("floatpanel"),l.autohide&&(d||(d=function(w){var s,u=o.getParentCtrl(w.target);for(s=v.length;s--;){var n=v[s];if(n.settings.autohide){if(u&&(r(u,n)||n.parent()===u)){continue}w=n.fire("autohide",{target:w.target}),w.isDefaultPrevented()||n.hide()}}},b.on(document,"click",d)),v.push(o)),l.autofix&&(m||(m=function(){var i;for(i=v.length;i--;){a(v[i])}},b.on(window,"scroll",m)),o.on("move",function(){a(this)})),o.on("postrender show",function(t){if(t.control==o){var u,s=o.classPrefix;o.modal&&!k&&(u=b.createFragment('<div id="'+s+'modal-block" class="'+s+"reset "+s+'fade"></div>'),u=u.firstChild,o.getContainerElm().appendChild(u),setTimeout(function(){b.addClass(u,s+"in"),b.addClass(o.getEl(),s+"in")},0),k=!0),g.push(o),c()}}),o.on("close hide",function(i){if(i.control==o){for(var s=g.length;s--;){g[s]===o&&g.splice(s,1)}c()}}),o.on("show",function(){o.parents().each(function(i){return i._fixed?(o.fixed(!0),!1):void 0})}),l.popover&&(o._preBodyHtml='<div class="'+o.classPrefix+'arrow"></div>',o.addClass("popover").addClass("bottom").addClass("start"))},fixed:function(c){var a=this;if(a._fixed!=c){if(a._rendered){var i=b.getViewPort();c?a.layoutRect().y-=i.y:a.layoutRect().y+=i.y}a.toggleClass("fixed",c),a._fixed=c}return a},show:function(){var c=this,a,i=c._super();for(a=v.length;a--&&v[a]!==c;){}return -1===a&&v.push(c),i},hide:function(){return h(this),this._super()},hideAll:function(){p.hideAll()},close:function(){var a=this;return a.fire("close"),a.remove()},remove:function(){h(this),this._super()}});return p.hideAll=function(){for(var c=v.length;c--;){var a=v[c];a.settings.autohide&&(a.fire("cancel",{},!1),a.hide(),v.splice(c,1))}},p}),aC(a4,[a6],function(a){return function(C){function j(){if(!k){if(k=[],y.find){y.find("*").each(function(f){f.canFocus&&k.push(f.getEl())})}else{for(var d=y.getEl().getElementsByTagName("*"),c=0;c<d.length;c++){d[c].id&&d[c]&&k.push(d[c])}}}}function b(){return document.getElementById(w)}function v(c){return c=c||b(),c&&c.getAttribute("role")}function g(d){for(var c,f=d||b();f=f.parentNode;){if(c=v(f)){return c}}}function A(d){var c=document.getElementById(w);return c?c.getAttribute("aria-"+d):void 0}function D(){var c=b();if(!c||"TEXTAREA"!=c.nodeName&&"text"!=c.type){return C.onAction?C.onAction(w):a.fire(b(),"click",{keyboard:!0}),!0}}function q(){var c;C.onCancel?((c=b())&&c.blur(),C.onCancel()):C.root.fire("cancel")}function z(m){function h(l){for(var i=y?y.getEl():document.body;l&&l!=i;){if("none"==l.style.display){return !1}l=l.parentNode}return !0}var f=-1,n,d,c=[];for(j(),d=c.length,d=0;d<k.length;d++){h(k[d])&&c.push(k[d])}for(d=c.length;d--;){if(c[d].id===w){f=d;break}}f+=m,0>f?f=c.length-1:f>=c.length&&(f=0),n=c[f],n.focus(),w=n.id,C.actOnFocus&&D()}function B(){var d,c;for(c=v(C.root.getEl()),j(),d=k.length;d--;){if("toolbar"==c&&k[d].id===w){return k[d].focus(),void 0}}k[0].focus()}var y=C.root,x=C.enableUpDown!==!1,e=C.enableLeftRight!==!1,k=C.items,w;return y.on("keydown",function(p){var f=37,c=39,G=38,s=40,i=27,l=14,o=13,F=32,E=9,t;switch(p.keyCode){case f:e&&(C.leftAction?C.leftAction():z(-1),t=!0);break;case c:e&&("menuitem"==v()&&"menu"==g()?A("haspopup")&&D():z(1),t=!0);break;case G:x&&(z(-1),t=!0);break;case s:x&&("menuitem"==v()&&"menubar"==g()?D():"button"==v()&&A("haspopup")?D():z(1),t=!0);break;case E:t=!0,p.shiftKey?z(-1):z(1);break;case i:t=!0,q();break;case l:case o:case F:t=D()}t&&(p.stopPropagation(),p.preventDefault())}),y.on("focusin",function(c){j(),w=c.target.id}),{moveFocus:z,focusFirst:B,cancel:q}}}),aC(bo,[a2,bI,a6,a4,aF],function(d,b,g,c,a){var f=d.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(h){var i=this;i._super(h),i.addClass("window"),i._fixed=!0,h.buttons&&(i.statusbar=new b({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:"end",defaults:{type:"button"},items:h.buttons}),i.statusbar.addClass("foot"),i.statusbar.parent(i)),i.on("click",function(j){-1!=j.target.className.indexOf(i.classPrefix+"close")&&i.close()}),i.aria("label",h.title),i._fullscreen=!1},recalc:function(){var l=this,j=l.statusbar,k,h,m;l._fullscreen&&(l.layoutRect(g.getWindowSize()),l.layoutRect().contentH=l.layoutRect().innerH),l._super(),k=l.layoutRect(),l.settings.title&&!l._fullscreen&&(h=k.headerW,h>k.w&&(l.layoutRect({w:h}),m=!0)),j&&(j.layoutRect({w:l.layoutRect().innerW}).recalc(),h=j.layoutRect().minW+k.deltaW,h>k.w&&(l.layoutRect({w:h}),m=!0)),m&&l.recalc()},initLayoutRect:function(){var l=this,j=l._super(),k=0,h;l.settings.title&&!l._fullscreen&&(h=l.getEl("head"),j.headerW=h.offsetWidth,j.headerH=h.offsetHeight,k+=j.headerH),l.statusbar&&(k+=l.statusbar.layoutRect().h),j.deltaH+=k,j.minH+=k,j.h+=k;var m=g.getWindowSize();return j.x=Math.max(0,m.w/2-j.w/2),j.y=Math.max(0,m.h/2-j.h/2),j},renderHtml:function(){var p=this,k=p._layout,u=p._id,m=p.classPrefix,j=p.settings,q="",h="",l=j.html;return p.preRender(),k.preRender(p),j.title&&(q='<div id="'+u+'-head" class="'+m+'window-head"><div class="'+m+'title">'+p.encode(j.title)+'</div><button type="button" class="'+m+'close" aria-hidden="true">&times;</button><div id="'+u+'-dragh" class="'+m+'dragh"></div></div>'),j.url&&(l='<iframe src="'+j.url+'" tabindex="-1"></iframe>'),"undefined"==typeof l&&(l=k.renderHtml(p)),p.statusbar&&(h=p.statusbar.renderHtml()),'<div id="'+u+'" class="'+p.classes()+'" hideFocus="1" tabIndex="-1">'+q+'<div id="'+u+'-body" class="'+p.classes("body")+'">'+l+"</div>"+h+"</div>"},fullscreen:function(n){var k=this,m=document.documentElement,j,p=k.classPrefix,h;if(n!=k._fullscreen){if(g.on(window,"resize",function(){var o;if(k._fullscreen){if(j){k._timer||(k._timer=setTimeout(function(){var q=g.getWindowSize();k.moveTo(0,0).resizeTo(q.w,q.h),k._timer=0},50))}else{o=(new Date).getTime();var i=g.getWindowSize();k.moveTo(0,0).resizeTo(i.w,i.h),(new Date).getTime()-o>50&&(j=!0)}}}),h=k.layoutRect(),k._fullscreen=n,n){k._initial={x:h.x,y:h.y,w:h.w,h:h.h},k._borderBox=k.parseBox("0"),k.getEl("head").style.display="none",h.deltaH-=h.headerH+2,g.addClass(m,p+"fullscreen"),g.addClass(document.body,p+"fullscreen"),k.addClass("fullscreen");var l=g.getWindowSize();k.moveTo(0,0).resizeTo(l.w,l.h)}else{k._borderBox=k.parseBox(k.settings.border),k.getEl("head").style.display="",h.deltaH+=h.headerH,g.removeClass(m,p+"fullscreen"),g.removeClass(document.body,p+"fullscreen"),k.removeClass("fullscreen"),k.moveTo(k._initial.x,k._initial.y).resizeTo(k._initial.w,k._initial.h)}}return k.reflow()},postRender:function(){var j=this,i=[],l,k,h;setTimeout(function(){j.addClass("in")},0),j.keyboardNavigation=new c({root:j,enableLeftRight:!1,enableUpDown:!1,items:i,onCancel:function(){j.close()}}),j.find("*").each(function(m){m.canFocus&&(k=k||m.settings.autofocus,l=l||m,"filepicker"==m.type?(i.push(m.getEl("inp")),m.getEl("open")&&i.push(m.getEl("open").firstChild)):i.push(m.getEl()))}),j.statusbar&&j.statusbar.find("*").each(function(m){m.canFocus&&(k=k||m.settings.autofocus,l=l||m,i.push(m.getEl()))}),j._super(),j.statusbar&&j.statusbar.postRender(),!k&&l&&l.focus(),this.dragHelper=new a(j._id+"-dragh",{start:function(){h={x:j.layoutRect().x,y:j.layoutRect().y}},drag:function(e){j.moveTo(h.x+e.deltaX,h.y+e.deltaY)}}),j.on("submit",function(e){e.isDefaultPrevented()||j.close()})},submit:function(){var h=this.getParentCtrl(document.activeElement);return h&&h.blur(),this.fire("submit",{data:this.toJSON()})},remove:function(){var h=this;h._super(),h.dragHelper.destroy(),h.statusbar&&this.statusbar.remove()}});return f}),aC(bf,[bo],function(b){var a=b.extend({init:function(c){c={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}},this._super(c)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(e){var d,c=e.callback||function(){};switch(e.buttons){case a.OK_CANCEL:d=[{type:"button",text:"Ok",subtype:"primary",onClick:function(f){f.control.parents()[1].close(),c(!0)}},{type:"button",text:"Cancel",onClick:function(f){f.control.parents()[1].close(),c(!1)}}];break;case a.YES_NO:d=[{type:"button",text:"Ok",subtype:"primary",onClick:function(f){f.control.parents()[1].close(),c(!0)}}];break;case a.YES_NO_CANCEL:d=[{type:"button",text:"Ok",subtype:"primary",onClick:function(f){f.control.parents()[1].close()}}];break;default:d=[{type:"button",text:"Ok",subtype:"primary",onClick:function(f){f.control.parents()[1].close()}}]}return new b({padding:20,x:e.x,y:e.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:d,title:e.title,items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:e.text},onClose:e.onClose}).renderTo(document.body).reflow()},alert:function(c,d){return"string"==typeof c&&(c={text:c}),c.callback=d,a.msgBox(c)},confirm:function(c,d){return"string"==typeof c&&(c={text:c}),c.callback=d,c.buttons=a.OK_CANCEL,a.msgBox(c)}}});return a}),aC(a1,[bo,bf],function(b,a){return function(e){var d=this,c=[];d.windows=c,d.open=function(f,g){var h;return f.url=f.url||f.file,f.url&&(f.width=parseInt(f.width||320,10),f.height=parseInt(f.height||240,10)),f.body&&(f.items={defaults:f.defaults,type:f.bodyType||"form",items:f.body}),f.url||f.buttons||(f.buttons=[{text:"Ok",subtype:"primary",onclick:function(){h.find("form")[0].submit(),h.close()}},{text:"Cancel",onclick:function(){h.close()}}]),h=new b(f),c.push(h),h.on("close",function(){for(var i=c.length;i--;){c[i]===h&&c.splice(i,1)}e.focus()}),f.data&&h.on("postRender",function(){this.find("*").each(function(i){var j=i.name();j in f.data&&i.value(f.data[j])})}),h.params=g||{},e.nodeChanged(),h.renderTo(document.body).reflow()},d.alert=function(g,h,f){a.alert(g,function(){h.call(f||this)})},d.confirm=function(g,h,f){a.confirm(g,function(i){h.call(f||this,i)})},d.close=function(){c.length&&c[c.length-1].close()},d.getParams=function(){return c.length?c[c.length-1].params:null},d.setParams=function(f){c.length&&(c[c.length-1].params=f)}}}),aC(bT,[bc,bz,aW,aJ,aP,aR],function(d,b,g,c,a,f){return function(ci){function b5(j,h){try{ci.getDoc().execCommand(j,!1,h)}catch(k){}}function b9(){var h=ci.getDoc().documentMode;return h?h:6}function cg(h){return h.isDefaultPrevented()}function b4(){function h(q){function y(){if(3==m.nodeType){if(q&&w==m.length){return !0}if(!q&&0===w){return !0}}}var k,j,p,z,m,w,x;k=e.getRng();var v=[k.startContainer,k.startOffset,k.endContainer,k.endOffset];if(k.collapsed||(q=!0),m=k[(q?"start":"end")+"Container"],w=k[(q?"start":"end")+"Offset"],3==m.nodeType&&(j=at.getParent(k.startContainer,at.isBlock),q&&(j=at.getNext(j,at.isBlock)),!j||!y()&&k.collapsed||(p=at.create("em",{id:"__mceDel"}),G(f.grep(j.childNodes),function(l){p.appendChild(l)}),j.appendChild(p))),k=at.createRng(),k.setStart(v[0],v[1]),k.setEnd(v[2],v[3]),e.setRng(k),ci.getDoc().execCommand(q?"ForwardDelete":"Delete",!1,null),p){for(z=e.getBookmark();x=at.get("__mceDel");){at.remove(x,!0)}e.moveToBookmark(z)}}ci.on("keydown",function(k){var j;j=k.keyCode==Y,cg(k)||!j&&k.keyCode!=J||d.modifierPressed(k)||(k.preventDefault(),h(j))}),ci.addCommand("Delete",function(){h()})}function cf(){function j(l){var k=at.create("body"),m=l.cloneContents();return k.appendChild(m),e.serializer.serialize(k,{format:"html"})}function h(l){var p=j(l),m=at.createRng();m.selectNode(ci.getBody());var k=j(m);return p===k}ci.on("keydown",function(l){var m=l.keyCode,k;if(!cg(l)&&(m==Y||m==J)){if(k=ci.selection.isCollapsed(),k&&!at.isEmpty(ci.getBody())){return}if(cb&&!k){return}if(!k&&!h(ci.selection.getRng())){return}l.preventDefault(),ci.setContent(""),ci.selection.setCursorLocation(ci.getBody(),0),ci.nodeChanged()}})}function ce(){ci.on("keydown",function(h){!cg(h)&&65==h.keyCode&&d.metaKeyPressed(h)&&(h.preventDefault(),ci.execCommand("SelectAll"))})}function b7(){ci.settings.content_editable||(at.bind(ci.getDoc(),"focusin",function(){e.setRng(e.getRng())}),at.bind(ci.getDoc(),"mousedown",function(h){h.target==ci.getDoc().documentElement&&(ci.getWin().focus(),e.setRng(e.getRng()))}))}function b8(){ci.on("keydown",function(j){if(!cg(j)&&j.keyCode===J&&e.isCollapsed()&&0===e.getRng(!0).startOffset){var h=e.getNode(),k=h.previousSibling;k&&k.nodeName&&"hr"===k.nodeName.toLowerCase()&&(at.remove(k),j.preventDefault())}})}function cc(){window.Range.prototype.getClientRects||ci.on("mousedown",function(j){if(!cg(j)&&"HTML"===j.target.nodeName){var h=ci.getBody();h.blur(),setTimeout(function(){h.focus()},0)}})}function cd(){ci.on("click",function(h){h=h.target,/^(IMG|HR)$/.test(h.nodeName)&&e.getSel().setBaseAndExtent(h,0,h,1),"A"==h.nodeName&&at.hasClass(h,"mce-item-anchor")&&e.select(h),ci.nodeChanged()})}function b3(){function j(){var k=at.getAttribs(e.getStart().cloneNode(!1));return function(){var l=e.getStart();l!==ci.getBody()&&(at.setAttrib(l,"style",null),G(k,function(m){l.setAttributeNode(m.cloneNode(!0))}))}}function h(){return !e.isCollapsed()&&at.getParent(e.getStart(),at.isBlock)!=at.getParent(e.getEnd(),at.isBlock)}ci.on("keypress",function(l){var k;return cg(l)||8!=l.keyCode&&46!=l.keyCode||!h()?void 0:(k=j(),ci.getDoc().execCommand("delete",!1,null),k(),l.preventDefault(),!1)}),at.bind(ci.getDoc(),"cut",function(l){var k;!cg(l)&&h()&&(k=j(),setTimeout(function(){k()},0))})}function b0(){var h,j;ci.on("selectionchange",function(){j&&(clearTimeout(j),j=0),j=window.setTimeout(function(){var k=e.getRng();h&&b.compareRanges(k,h)||(ci.nodeChanged(),h=k)},50)})}function ch(){document.body.setAttribute("role","application")}function bV(){ci.on("keydown",function(j){if(!cg(j)&&j.keyCode===J&&e.isCollapsed()&&0===e.getRng(!0).startOffset){var h=e.getNode().previousSibling;if(h&&h.nodeName&&"table"===h.nodeName.toLowerCase()){return j.preventDefault(),!1}}})}function b1(){b9()>7||(b5("RespectVisibilityInDesign",!0),ci.contentStyles.push(".mceHideBrInPre pre br {display: none}"),at.addClass(ci.getBody(),"mceHideBrInPre"),i.addNodeFilter("pre",function(m){for(var k=m.length,l,j,p,h;k--;){for(l=m[k].getAll("br"),j=l.length;j--;){p=l[j],h=p.prev,h&&3===h.type&&"\n"!=h.value.charAt(h.value-1)?h.value+="\n":p.parent.insert(new g("#text",3),p,!0).value="\n"}}}),n.addNodeFilter("pre",function(l){for(var j=l.length,p,k,h,m;j--;){for(p=l[j].getAll("br"),k=p.length;k--;){h=p[k],m=h.prev,m&&3==m.type&&(m.value=m.value.replace(/\r?\n$/,""))}}}))}function b2(){at.bind(ci.getBody(),"mouseup",function(){var j,h=e.getNode();"IMG"==h.nodeName&&((j=at.getStyle(h,"width"))&&(at.setAttrib(h,"width",j.replace(/[^0-9%]+/g,"")),at.setStyle(h,"width","")),(j=at.getStyle(h,"height"))&&(at.setAttrib(h,"height",j.replace(/[^0-9%]+/g,"")),at.setStyle(h,"height","")))})}function cj(){ci.on("keydown",function(w){var k,h,p,j,x,m,v,q;if(k=w.keyCode==Y,!cg(w)&&(k||w.keyCode==J)&&!d.modifierPressed(w)&&(h=e.getRng(),p=h.startContainer,j=h.startOffset,v=h.collapsed,3==p.nodeType&&p.nodeValue.length>0&&(0===j&&!v||v&&j===(k?0:1)))){if(m=p.previousSibling,m&&"IMG"==m.nodeName){return}q=ci.schema.getNonEmptyElements(),w.preventDefault(),x=at.create("br",{id:"__tmp"}),p.parentNode.insertBefore(x,p),ci.getDoc().execCommand(k?"ForwardDelete":"Delete",!1,null),p=e.getRng().startContainer,m=p.previousSibling,m&&1==m.nodeType&&!at.isBlock(m)&&at.isEmpty(m)&&!q[m.nodeName.toLowerCase()]&&at.remove(m),at.remove("__tmp")}})}function K(){ci.on("keydown",function(j){var p,l,h,m,k;if(!cg(j)&&j.keyCode==d.BACKSPACE&&(p=e.getRng(),l=p.startContainer,h=p.startOffset,m=at.getRoot(),k=l,p.collapsed&&0===h)){for(;k&&k.parentNode&&k.parentNode.firstChild==k&&k.parentNode!=m;){k=k.parentNode}"BLOCKQUOTE"===k.tagName&&(ci.formatter.toggle("blockquote",null,k),p=at.createRng(),p.setStart(l,0),p.setEnd(l,0),e.setRng(p))}})}function ca(){function h(){ci._refreshContentEditable(),b5("StyleWithCSS",!1),b5("enableInlineTableEditing",!1),bZ.object_resizing||b5("enableObjectResizing",!1)}bZ.readonly||ci.on("BeforeExecCommand MouseDown",h)}function bt(){function h(){G(at.select("a"),function(k){var j=k.parentNode,l=at.getRoot();if(j.lastChild===k){for(;j&&!at.isBlock(j);){if(j.parentNode.lastChild!==j||j===l){return}j=j.parentNode}at.add(j,"br",{"data-mce-bogus":1})}})}ci.on("SetContent ExecCommand",function(j){("setcontent"==j.type||"mceInsertLink"===j.command)&&h()})}function r(){bZ.forced_root_block&&ci.on("init",function(){b5("DefaultParagraphSeparator",bZ.forced_root_block)})}function o(){ci.on("Undo Redo SetContent",function(h){h.initial||ci.execCommand("mceRepaint")})}function t(){ci.on("keydown",function(j){var h;cg(j)||j.keyCode!=J||(h=ci.getDoc().selection.createRange(),h&&h.item&&(j.preventDefault(),ci.undoManager.beforeChange(),at.remove(h.item(0)),ci.undoManager.add()))})}function bX(){var h;b9()>=10&&(h="",G("p div h1 h2 h3 h4 h5 h6".split(" "),function(j,k){h+=(k>0?",":"")+j+":empty"}),ci.contentStyles.push(h+"{padding-right: 1px !important}"))}function bW(){b9()<9&&(i.addNodeFilter("noscript",function(k){for(var h=k.length,l,j;h--;){l=k[h],j=l.firstChild,j&&l.attr("data-mce-innertext",j.value)}}),n.addNodeFilter("noscript",function(l){for(var k=l.length,j,m,h;k--;){j=l[k],m=l[k].firstChild,m?m.value=c.decode(m.value):(h=j.attributes.map["data-mce-innertext"],h&&(j.attr("data-mce-innertext",null),m=new g("#text",3),m.value=h,m.raw=!0,j.append(m)))}}))}function Z(){function p(w,s){var x=j.createTextRange();try{x.moveToPoint(w,s)}catch(v){x=null}return x}function k(s){var v;s.button?(v=p(s.x,s.y),v&&(v.compareEndPoints("StartToStart",h)>0?v.setEndPoint("StartToStart",h):v.setEndPoint("EndToEnd",h),v.select())):u()}function u(){var s=m.selection.createRange();h&&!s.item&&0===s.compareEndPoints("StartToEnd",s)&&h.select(),at.unbind(m,"mouseup",u),at.unbind(m,"mousemove",k),h=q=0}var m=at.doc,j=m.body,q,h,l;m.documentElement.unselectable=!0,at.bind(m,"mousedown contextmenu",function(s){if("HTML"===s.target.nodeName){if(q&&u(),l=m.documentElement,l.scrollHeight>l.clientHeight){return}q=1,h=p(s.x,s.y),h&&(at.bind(m,"mouseup",u),at.bind(m,"mousemove",k),at.win.focus(),h.select())}})}function Q(){ci.on("keyup focusin",function(h){65==h.keyCode&&d.metaKeyPressed(h)||e.normalize()})}function bU(){ci.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")}function X(){ci.inline||ci.on("keydown",function(){document.activeElement==document.body&&ci.getWin().focus()})}var G=f.each,J=d.BACKSPACE,Y=d.DELETE,at=ci.dom,e=ci.selection,bZ=ci.settings,i=ci.parser,n=ci.serializer,b6=a.gecko,cb=a.ie,bY=a.webkit;bV(),K(),cf(),Q(),bY&&(cj(),b4(),b7(),cd(),r(),a.iOS?(b0(),X()):ce()),cb&&a.ie<11&&(b8(),ch(),b1(),b2(),t(),bX(),bW(),Z()),b6&&(b8(),cc(),b3(),ca(),bt(),o(),bU())}}),aC(bb,[aR],function(d){function b(){return !1}function f(){return !0}var c="__bindings",a=d.makeMap("focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave keydown keypress keyup contextmenu dragend dragover draggesture dragdrop drop drag"," ");return{fire:function(k,j,g){var p=this,r,h,n,q,m;if(k=k.toLowerCase(),j=j||{},j.type=k,j.target||(j.target=p),j.preventDefault||(j.preventDefault=function(){j.isDefaultPrevented=f},j.stopPropagation=function(){j.isPropagationStopped=f},j.stopImmediatePropagation=function(){j.isImmediatePropagationStopped=f},j.isDefaultPrevented=b,j.isPropagationStopped=b,j.isImmediatePropagationStopped=b),p[c]&&(r=p[c][k])){for(h=0,n=r.length;n>h&&(r[h]=q=r[h],!j.isImmediatePropagationStopped());h++){if(q.call(p,j)===!1){return j.preventDefault(),j}}}if(g!==!1&&p.parent){for(m=p.parent();m&&!j.isPropagationStopped();){m.fire(k,j,!1),m=m.parent()}}return j},on:function(k,i){var p=this,m,h,j,g;if(i===!1&&(i=function(){return !1}),i){for(j=k.toLowerCase().split(" "),g=j.length;g--;){k=j[g],m=p[c],m||(m=p[c]={}),h=m[k],h||(h=m[k]=[],p.bindNative&&a[k]&&p.bindNative(k)),h.push(i)}}return p},off:function(j,q){var h=this,g,m=h[c],r,i,k,p;if(m){if(j){for(k=j.toLowerCase().split(" "),g=k.length;g--;){if(j=k[g],r=m[j],!j){for(i in m){m[j].length=0}return h}if(r){if(q){for(p=r.length;p--;){r[p]===q&&r.splice(p,1)}}else{r.length=0}!r.length&&h.unbindNative&&a[j]&&(h.unbindNative(j),delete m[j])}}}else{if(h.unbindNative){for(j in m){h.unbindNative(j)}}h[c]=[]}}return h}}}),aC(a3,[aR,aP],function(d,b){var f=d.each,c=d.explode,a={f9:120,f10:121,f11:122};return function(h){var e=this,g={};h.on("keyup keypress keydown",function(i){(i.altKey||i.ctrlKey||i.metaKey)&&f(g,function(k){var j=b.mac?i.ctrlKey||i.metaKey:i.ctrlKey;if(k.ctrl==j&&k.alt==i.altKey&&k.shift==i.shiftKey){return i.keyCode==k.keyCode||i.charCode&&i.charCode==k.charCode?(i.preventDefault(),"keydown"==i.type&&k.func.call(k.scope),!0):void 0}})}),e.add=function(m,j,i,n){var k;return k=i,"string"==typeof i?i=function(){h.execCommand(k,!1,null)}:d.isArray(k)&&(i=function(){h.execCommand(k[0],k[1],k[2])}),f(c(m.toLowerCase()),function(o){var l={func:i,scope:n||h,desc:h.translate(j),alt:!1,ctrl:!1,shift:!1};f(c(o,"+"),function(p){switch(p){case"alt":case"ctrl":case"shift":l[p]=!0;break;default:l.charCode=p.charCodeAt(0),l.keyCode=a[p]||p.toUpperCase().charCodeAt(0)}}),g[(l.ctrl?"ctrl":"")+","+(l.alt?"alt":"")+","+(l.shift?"shift":"")+","+l.keyCode]=l}),!0}}}),aC(bN,[aQ,au,aW,aM,bj,be,by,bq,bl,bv,bm,bg,ay,az,a1,bw,aw,bT,aP,aR,bb,a3],function(b7,bZ,bW,b3,bY,cb,bV,b1,b9,bU,b8,b6,bX,b0,b4,b5,bt,Y,ca,V,Z,at){function cc(b,a){return"selectionchange"==a||"drop"==a?b.getDoc():!b.inline&&/^mouse|click|contextmenu/.test(a)?b.getDoc():b.getBody()}function G(g,d,f){var c=this,h,b;h=c.documentBaseUrl=f.documentBaseURL,b=f.baseURI,c.settings=d=j({id:g,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:h,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",validate:!0,entity_encoding:"named",url_converter:c.convertURL,url_converter_scope:c,ie7_compat:!0},d),bZ.settings=d,bZ.baseURL=f.baseURL,c.id=d.id=g,c.isNotDirty=!0,c.plugins={},c.documentBaseURI=new b6(d.document_base_url||h,{base_uri:b}),c.baseURI=b,c.contentCSS=[],c.contentStyles=[],c.shortcuts=new at(c),c.execCommands={},c.queryStateCommands={},c.queryValueCommands={},c.loadedCSS={},c.suffix=f.suffix,c.editorManager=f,c.inline=d.inline,c.execCallback("setup",c)}var b2=b7.DOM,Q=bZ.ThemeManager,q=bZ.PluginManager,j=V.extend,t=V.each,X=V.explode,W=V.inArray,K=V.trim,I=V.resolve,U=b0.Event,J=ca.gecko,z=ca.ie,F=ca.opera;return G.prototype={render:function(){function d(){var h=bX.ScriptLoader;g.language&&"en"!=g.language&&(g.language_url=b.editorManager.baseURL+"/langs/"+g.language+".js"),g.language_url&&h.add(g.language_url),g.theme&&"function"!=typeof g.theme&&"-"!=g.theme.charAt(0)&&!Q.urls[g.theme]&&Q.load(g.theme,"themes/"+g.theme+"/theme"+a+".js"),V.isArray(g.plugins)&&(g.plugins=g.plugins.join(" ")),t(g.external_plugins,function(k,i){q.load(i,k),g.plugins+=" "+i}),t(g.plugins.split(/[ ,]/),function(k){if(k=K(k),k&&!q.urls[k]){if("-"==k.charAt(0)){k=k.substr(1,k.length);var i=q.dependencies(k);t(i,function(m){var l={prefix:"plugins/",resource:m,suffix:"/plugin"+a+".js"};m=q.createUrl(l,m),q.load(m.resource,m)})}else{q.load(k,{prefix:"plugins/",resource:k,suffix:"/plugin"+a+".js"})}}}),h.loadQueue(function(){b.removed||b.init()})}var b=this,g=b.settings,c=b.id,a=b.suffix;if(!U.domLoaded){return b2.bind(window,"ready",function(){b.render()}),void 0}if(b.editorManager.settings=g,b.getElement()&&ca.contentEditable){g.inline?b.inline=!0:(b.orgVisibility=b.getElement().style.visibility,b.getElement().style.visibility="hidden");var f=b.getElement().form||b2.getParent(c,"form");f&&(b.formElement=f,g.hidden_input&&!/TEXTAREA|INPUT/i.test(b.getElement().nodeName)&&b2.insertAfter(b2.create("input",{type:"hidden",name:c}),c),b.formEventDelegate=function(h){b.fire(h.type,h)},b2.bind(f,"submit reset",b.formEventDelegate),b.on("reset",function(){b.setContent(b.startContent,{format:"raw"})}),!g.submit_patch||f.submit.nodeType||f.submit.length||f._mceOldSubmit||(f._mceOldSubmit=f.submit,f.submit=function(){return b.editorManager.triggerSave(),b.isNotDirty=!0,f._mceOldSubmit(f)})),b.windowManager=new b4(b),"xml"==g.encoding&&b.on("GetContent",function(h){h.save&&(h.content=b2.encode(h.content))}),g.add_form_submit_trigger&&b.on("submit",function(){b.initialized&&b.save()}),g.add_unload_trigger&&(b._beforeUnload=function(){!b.initialized||b.destroyed||b.isHidden()||b.save({format:"raw",no_events:!0,set_dirty:!1})},b.editorManager.on("BeforeUnload",b._beforeUnload)),d()}},init:function(){function C(e){var c=q.get(e),a,d;a=q.urls[e]||M.documentBaseUrl.replace(/\/$/,""),e=K(e),c&&-1===W(w,e)&&(t(q.dependencies(e),function(f){C(f)}),d=new c(M,a),M.plugins[e]=d,d.init&&(d.init(M,a),w.push(e)))}var M=this,v=M.settings,b=M.getElement(),y,k,H,N,x,E,L,D,B,g,w=[];if(M.editorManager.add(M),v.aria_label=v.aria_label||b2.getAttrib(b,"aria-label",M.getLang("aria.rich_text_area")),v.theme&&("function"!=typeof v.theme?(v.theme=v.theme.replace(/-/,""),x=Q.get(v.theme),M.theme=new x(M,Q.urls[v.theme]),M.theme.init&&M.theme.init(M,Q.urls[v.theme]||M.documentBaseUrl.replace(/\/$/,""))):M.theme=v.theme),t(v.plugins.replace(/\-/g,"").split(/[ ,]/),C),M.fire("BeforeRenderUI"),v.render_ui&&M.theme&&(M.orgDisplay=b.style.display,"function"!=typeof v.theme?(y=v.width||b.style.width||b.offsetWidth,k=v.height||b.style.height||b.offsetHeight,H=v.min_height||100,B=/^[0-9\.]+(|px)$/i,B.test(""+y)&&(y=Math.max(parseInt(y,10)+(x.deltaWidth||0),100)),B.test(""+k)&&(k=Math.max(parseInt(k,10)+(x.deltaHeight||0),H)),x=M.theme.renderUI({targetNode:b,width:y,height:k,deltaWidth:v.delta_width,deltaHeight:v.delta_height}),v.content_editable||(b2.setStyles(x.sizeContainer||x.editorContainer,{wi2dth:y,h2eight:k}),k=(x.iframeHeight||k)+("number"==typeof k?x.deltaHeight||0:""),H>k&&(k=H))):(x=v.theme(M,b),x.editorContainer.nodeType&&(x.editorContainer=x.editorContainer.id=x.editorContainer.id||M.id+"_parent"),x.iframeContainer.nodeType&&(x.iframeContainer=x.iframeContainer.id=x.iframeContainer.id||M.id+"_iframecontainer"),k=x.iframeHeight||b.offsetHeight),M.editorContainer=x.editorContainer),v.content_css&&t(X(v.content_css),function(a){M.contentCSS.push(M.documentBaseURI.toAbsolute(a))}),v.content_style&&M.contentStyles.push(v.content_style),v.content_editable){return b=N=x=null,M.initContentBody()}for(document.domain&&location.hostname!=document.domain&&(M.editorManager.relaxedDomain=document.domain),M.iframeHTML=v.doctype+"<html><head>",v.document_base_url!=M.documentBaseUrl&&(M.iframeHTML+='<base href="'+M.documentBaseURI.getURI()+'" />'),!ca.caretAfter&&v.ie7_compat&&(M.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />'),M.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',g=0;g<M.contentCSS.length;g++){var A=M.contentCSS[g];M.iframeHTML+='<link type="text/css" rel="stylesheet" href="'+A+'" />',M.loadedCSS[A]=!0}L=v.body_id||"tinymce",-1!=L.indexOf("=")&&(L=M.getParam("body_id","","hash"),L=L[M.id]||L),D=v.body_class||"",-1!=D.indexOf("=")&&(D=M.getParam("body_class","","hash"),D=D[M.id]||""),M.iframeHTML+='</head><body id="'+L+'" class="mce-content-body '+D+'" onload="window.parent.tinymce.get(\''+M.id+"').fire('load');\"><br></body></html>",M.editorManager.relaxedDomain&&(z||F&&parseFloat(window.opera.version())<11)&&(E='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+M.id+'");document.write(ed.iframeHTML);document.close();ed.initContentBody();})()'),N=b2.add(x.iframeContainer,"iframe",{id:M.id+"_ifr",src:E||'javascript:""',frameBorder:"0",allowTransparency:"true",title:M.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),style:{width:"100%",height:k,display:"block"}}),M.contentAreaContainer=x.iframeContainer,x.editorContainer&&(b2.get(x.editorContainer).style.display=M.orgDisplay),b2.get(M.id).style.display="none",b2.setAttrib(M.id,"aria-hidden",!0),M.editorManager.relaxedDomain&&E||M.initContentBody(),b=N=x=null},initContentBody:function(){var b=this,g=b.settings,e=b2.get(b.id),c=b.getDoc(),d,a;g.inline||(b.getElement().style.visibility=b.orgVisibility),z&&b.editorManager.relaxedDomain||g.content_editable||(c.open(),c.write(b.iframeHTML),c.close(),b.editorManager.relaxedDomain&&(c.domain=b.editorManager.relaxedDomain)),g.content_editable&&(b.on("remove",function(){var f=this.getBody();b2.removeClass(f,"mce-content-body"),b2.removeClass(f,"mce-edit-focus"),b2.setAttrib(f,"tabIndex",null),b2.setAttrib(f,"contentEditable",null)}),b2.addClass(e,"mce-content-body"),e.tabIndex=-1,b.contentDocument=c=g.content_document||document,b.contentWindow=g.content_window||window,b.bodyElement=e,g.content_document=g.content_window=null,g.root_name=e.nodeName.toLowerCase()),d=b.getBody(),d.disabled=!0,g.readonly||(d.contentEditable=b.getParam("content_editable_state",!0)),d.disabled=!1,b.schema=new b5(g),b.dom=new b7(c,{keep_values:!0,url_converter:b.convertURL,url_converter_scope:b,hex_colors:g.force_hex_style_colors,class_filter:g.class_filter,update_styles:!0,root_element:g.content_editable?b.id:null,schema:b.schema,onSetAttrib:function(f){b.fire("SetAttrib",f)}}),b.parser=new bt(g,b.schema),b.parser.addAttributeFilter("src,href,style",function(m,u){for(var l=m.length,h,p=b.dom,f,k;l--;){h=m[l],f=h.attr(u),k="data-mce-"+u,h.attributes.map[k]||("style"===u?h.attr(k,p.serializeStyle(p.parseStyle(f),h.name)):h.attr(k,b.convertURL(f,u,h.name)))}}),b.parser.addNodeFilter("script",function(h){for(var f=h.length,i;f--;){i=h[f],i.attr("type","mce-"+(i.attr("type")||"text/javascript"))}}),b.parser.addNodeFilter("#cdata",function(h){for(var f=h.length,i;f--;){i=h[f],i.type=8,i.name="#comment",i.value="[CDATA["+i.value+"]]"}}),b.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(h){for(var l=h.length,f,k=b.schema.getNonEmptyElements();l--;){f=h[l],f.isEmpty(k)&&(f.empty().append(new bW("br",1)).shortEnded=!0)}}),b.serializer=new b3(g,b),b.selection=new cb(b.dom,b.getWin(),b.serializer,b),b.formatter=new bV(b),b.undoManager=new b1(b),b.forceBlocks=new bU(b),b.enterKey=new b9(b),b.editorCommands=new b8(b),b.fire("PreInit"),g.browser_spellcheck||g.gecko_spellcheck||(c.body.spellcheck=!1,b2.setAttrib(d,"spellcheck","false")),b.fire("PostRender"),b.quirks=Y(b),g.directionality&&(d.dir=g.directionality),g.nowrap&&(d.style.whiteSpace="nowrap"),g.protect&&b.on("BeforeSetContent",function(f){t(g.protect,function(h){f.content=f.content.replace(h,function(i){return"<!--mce:protected "+escape(i)+"-->"})})}),b.on("SetContent",function(){b.addVisual(b.getBody())}),g.padd_empty_editor&&b.on("PostProcess",function(f){f.content=f.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")}),b.load({initial:!0,format:"html"}),b.startContent=b.getContent({format:"raw"}),b.initialized=!0,t(b._pendingNativeEvents,function(f){b.dom.bind(cc(b,f),f,function(h){b.fire(h.type,h)})}),b.fire("init"),b.focus(!0),b.nodeChanged({initial:!0}),b.execCallback("init_instance_callback",b),b.contentStyles.length>0&&(a="",t(b.contentStyles,function(f){a+=f+"\r\n"}),b.dom.addStyle(a)),t(b.contentCSS,function(f){b.loadedCSS[f]||(b.dom.loadCSS(f),b.loadedCSS[f]=!0)}),g.auto_focus&&setTimeout(function(){var f=b.editorManager.get(g.auto_focus);f.selection.select(f.getBody(),1),f.selection.collapse(1),f.getBody().focus(),f.getWin().focus()},100),e=c=d=null},focus:function(h){var m,d=this,b=d.selection,g=d.settings.content_editable,c,k,p=d.getDoc(),f;h||(c=b.getRng(),c.item&&(k=c.item(0)),d._refreshContentEditable(),g||(ca.opera||d.getBody().focus(),d.getWin().focus()),(J||g)&&(f=d.getBody(),f.setActive?f.setActive():f.focus(),g&&b.normalize()),k&&k.ownerDocument==p&&(c=p.body.createControlRange(),c.addElement(k),c.select())),d.editorManager.activeEditor!=d&&((m=d.editorManager.activeEditor)&&m.fire("deactivate",{relatedTarget:d}),d.fire("activate",{relatedTarget:m})),d.editorManager.activeEditor=d},execCallback:function(c){var a=this,d=a.settings[c],b;if(d){return a.callbackLookup&&(b=a.callbackLookup[c])&&(d=b.func,b=b.scope),"string"==typeof d&&(b=d.replace(/\.\w+$/,""),b=b?I(b):0,d=I(d),a.callbackLookup=a.callbackLookup||{},a.callbackLookup[c]={func:d,scope:b}),d.apply(b||a,Array.prototype.slice.call(arguments,1))}},translate:function(b){var a=this.settings.language||"en",c=this.editorManager.i18n;return b?c[a+"."+b]||b.replace(/\{\#([^\}]+)\}/g,function(f,d){return c[a+"."+d]||"{#"+d+"}"}):""},getLang:function(a,b){return this.editorManager.i18n[(this.settings.language||"en")+"."+a]||(b!==aA?b:"{#"+a+"}")},getParam:function(d,b,f){var c=d in this.settings?this.settings[d]:b,a;return"hash"===f?(a={},"string"==typeof c?t(c.indexOf("=")>0?c.split(/[;,](?![^=;,]*(?:[;,]|$))/):c.split(","),function(g){g=g.split("="),a[K(g[0])]=g.length>1?K(g[1]):K(g)}):a=c,a):c},nodeChanged:function(){var d=this,b=d.selection,f,c,a;d.initialized&&!d.settings.disable_nodechange&&(a=d.getBody(),f=b.getStart()||a,f=z&&f.ownerDocument!=d.getDoc()?d.getBody():f,"IMG"==f.nodeName&&b.isCollapsed()&&(f=f.parentNode),c=[],d.dom.getParent(f,function(g){return g===a?!0:(c.push(g),void 0)}),d.fire("NodeChange",{element:f,parents:c}))},addButton:function(b,a){var c=this;a.cmd&&(a.onclick=function(){c.execCommand(a.cmd)}),a.text||a.icon||(a.icon=b),c.buttons=c.buttons||{},a.tooltip=a.tooltip||a.title,c.buttons[b]=a},addMenuItem:function(b,a){var c=this;a.cmd&&(a.onclick=function(){c.execCommand(a.cmd)}),c.menuItems=c.menuItems||{},c.menuItems[b]=a},addCommand:function(b,a,c){this.execCommands[b]={func:a,scope:c||this}},addQueryStateHandler:function(b,a,c){this.queryStateCommands[b]={func:a,scope:c||this}},addQueryValueHandler:function(b,a,c){this.queryValueCommands[b]={func:a,scope:c||this}},addShortcut:function(c,a,d,b){this.shortcuts.add(c,a,d,b)},execCommand:function(g,d,k,f){var c=this,h=0,b;return/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(g)||f&&f.skip_focus||c.focus(),f=j({},f),f=c.fire("BeforeExecCommand",{command:g,ui:d,value:k}),f.isDefaultPrevented()?!1:(b=c.execCommands[g])&&b.func.call(b.scope,d,k)!==!0?(c.fire("ExecCommand",{command:g,ui:d,value:k}),!0):(t(c.plugins,function(a){return a.execCommand&&a.execCommand(g,d,k)?(c.fire("ExecCommand",{command:g,ui:d,value:k}),h=!0,!1):void 0}),h?h:c.theme&&c.theme.execCommand&&c.theme.execCommand(g,d,k)?(c.fire("ExecCommand",{command:g,ui:d,value:k}),!0):c.editorCommands.execCommand(g,d,k)?(c.fire("ExecCommand",{command:g,ui:d,value:k}),!0):(c.getDoc().execCommand(g,d,k),c.fire("ExecCommand",{command:g,ui:d,value:k}),void 0))},queryCommandState:function(d){var b=this,f,c;if(!b._isHidden()){if((f=b.queryStateCommands[d])&&(c=f.func.call(f.scope),c!==!0)){return c}if(c=b.editorCommands.queryCommandState(d),-1!==c){return c}try{return b.getDoc().queryCommandState(d)}catch(a){}}},queryCommandValue:function(c){var f=this,b,a;if(!f._isHidden()){if((b=f.queryValueCommands[c])&&(a=b.func.call(b.scope),a!==!0)){return a}if(a=f.editorCommands.queryCommandValue(c),a!==aA){return a}try{return f.getDoc().queryCommandValue(c)}catch(d){}}},show:function(){var a=this;b2.show(a.getContainer()),b2.hide(a.id),a.load(),a.fire("show")},hide:function(){var b=this,a=b.getDoc();z&&a&&a.execCommand("SelectAll"),b.save(),b2.hide(b.getContainer()),b2.setStyle(b.id,"display",b.orgDisplay),b.fire("hide")},isHidden:function(){return !b2.isHidden(this.id)},setProgressState:function(b,a){this.fire("ProgressState",{state:b,time:a})},load:function(c){var d=this,b=d.getElement(),a;return b?(c=c||{},c.load=!0,a=d.setContent(b.value!==aA?b.value:b.innerHTML,c),c.element=b,c.no_events||d.fire("LoadContent",c),c.element=b=null,a):void 0},save:function(d){var b=this,f=b.getElement(),c,a;if(f&&b.initialized){return d=d||{},d.save=!0,d.element=f,c=d.content=b.getContent(d),d.no_events||b.fire("SaveContent",d),c=d.content,/TEXTAREA|INPUT/i.test(f.nodeName)?f.value=c:(f.innerHTML=c,(a=b2.getParent(b.id,"form"))&&t(a.elements,function(g){return g.name==b.id?(g.value=c,!1):void 0})),d.element=f=null,d.set_dirty!==!1&&(b.isNotDirty=!0),c}},setContent:function(d,b){var f=this,c=f.getBody(),a;return b=b||{},b.format=b.format||"html",b.set=!0,b.content=d,b.no_events||f.fire("BeforeSetContent",b),d=b.content,0===d.length||/^\s+$/.test(d)?(a=f.settings.forced_root_block,a&&f.schema.isValidChild(c.nodeName.toLowerCase(),a.toLowerCase())?d=z&&11>z?"<"+a+"></"+a+">":"<"+a+'><br data-mce-bogus="1"></'+a+">":z||(d='<br data-mce-bogus="1">'),c.innerHTML=d,f.fire("SetContent",b)):("raw"!==b.format&&(d=new bY({},f.schema).serialize(f.parser.parse(d,{isRootContent:!0}))),b.content=K(d),f.dom.setHTML(c,b.content),b.no_events||f.fire("SetContent",b)),b.initial||(f.selection.select(c,!0),f.selection.collapse(!0)),b.content},getContent:function(c){var a=this,d,b=a.getBody();return c=c||{},c.format=c.format||"html",c.get=!0,c.getInner=!0,c.no_events||a.fire("BeforeGetContent",c),d="raw"==c.format?b.innerHTML:"text"==c.format?b.innerText||b.textContent:a.serializer.serialize(b,c),c.content="text"!=c.format?K(d):d,c.no_events||a.fire("GetContent",c),c.content},insertContent:function(a){this.execCommand("mceInsertContent",!1,a)},isDirty:function(){return !this.isNotDirty},getContainer:function(){var a=this;return a.container||(a.container=b2.get(a.editorContainer||a.id+"_parent")),a.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return b2.get(this.settings.content_element||this.id)},getWin:function(){var b=this,a;return b.contentWindow||(a=b2.get(b.id+"_ifr"),a&&(b.contentWindow=a.contentWindow)),b.contentWindow},getDoc:function(){var b=this,a;return b.contentDocument||(a=b.getWin(),a&&(b.contentDocument=a.document)),b.contentDocument},getBody:function(){return this.bodyElement||this.getDoc().body},convertURL:function(d,b,f){var c=this,a=c.settings;return a.urlconverter_callback?c.execCallback("urlconverter_callback",d,f,!0,b):!a.convert_urls||f&&"LINK"==f.nodeName||0===d.indexOf("file:")||0===d.length?d:a.relative_urls?c.documentBaseURI.toRelative(d):d=c.documentBaseURI.toAbsolute(d,a.remove_script_host)},addVisual:function(c){var f=this,b=f.settings,a=f.dom,d;c=c||f.getBody(),f.hasVisual===aA&&(f.hasVisual=b.visual),t(a.select("table,a",c),function(h){var g;switch(h.nodeName){case"TABLE":return d=b.visual_table_class||"mce-item-table",g=a.getAttrib(h,"border"),g&&"0"!=g||(f.hasVisual?a.addClass(h,d):a.removeClass(h,d)),void 0;case"A":return a.getAttrib(h,"href",!1)||(g=a.getAttrib(h,"name")||h.id,d="mce-item-anchor",g&&(f.hasVisual?a.addClass(h,d):a.removeClass(h,d))),void 0}}),f.fire("VisualAid",{element:c,hasVisual:f.hasVisual})},remove:function(){var b=this,a=b.getContainer(),c=b.getDoc();b.removed||(b.removed=1,z&&c&&c.execCommand("SelectAll"),b.save(),b2.setStyle(b.id,"display",b.orgDisplay),b.settings.content_editable||(U.unbind(b.getWin()),U.unbind(b.getDoc())),U.unbind(b.getBody()),U.unbind(a),b.fire("remove"),b.editorManager.remove(b),b2.remove(a))},bindNative:function(b){var a=this;a.initialized?a.dom.bind(cc(a,b),b,function(c){a.fire(b,c)}):a._pendingNativeEvents?a._pendingNativeEvents.push(b):a._pendingNativeEvents=[b]},unbindNative:function(b){var a=this;a.initialized&&a.dom.unbind(b)},destroy:function(b){var a=this,c;a.destroyed||(J&&(U.unbind(a.getDoc()),U.unbind(a.getWin()),U.unbind(a.getBody())),b||(a.editorManager.off("beforeunload",a._beforeUnload),a.theme&&a.theme.destroy&&a.theme.destroy(),a.selection.destroy(),a.dom.destroy()),c=a.formElement,c&&(c.submit=c._mceOldSubmit,c._mceOldSubmit=null,b2.unbind(c,"submit reset",a.formEventDelegate)),a.contentAreaContainer=a.formElement=a.container=null,a.settings.content_element=a.bodyElement=a.contentDocument=a.contentWindow=null,a.selection&&(a.selection=a.selection.win=a.selection.dom=a.selection.dom.doc=null),a.destroyed=1)},_refreshContentEditable:function(){var b=this,a,c;b._isHidden()&&(a=b.getBody(),c=a.parentNode,c.removeChild(a),c.appendChild(a),a.focus())},_isHidden:function(){var a;return J?(a=this.selection.getSel(),!a||!a.rangeCount||0===a.rangeCount):0}},j(G.prototype,Z),G}),aC(ap,[],function(){var a={};return{add:function(b,d){for(var c in d){a[c]=d[c]}},translate:function(b){if("undefined"==typeof b){return b}if("string"!=typeof b&&b.raw){return b.raw}if(b.push){var c=b.slice(1);b=(a[b[0]]||b[0]).replace(/\{([^\}]+)\}/g,function(f,d){return c[d]})}return a[b]||b},data:a}}),aC(ax,[aQ,aP],function(b,a){function c(g){function e(){try{return document.activeElement}catch(i){return document.body}}function h(i){return i&&i.startContainer?{startContainer:i.startContainer,startOffset:i.startOffset,endContainer:i.endContainer,endOffset:i.endOffset}:i}function d(j,i){var k;return i.startContainer?(k=j.getDoc().createRange(),k.setStart(i.startContainer,i.startOffset),k.setEnd(i.endContainer,i.endOffset)):k=i,k}function f(k){function i(l){return !!b.DOM.getParent(l,c.isEditorUIElement)}var n=k.editor,j,m;n.on("init",function(){"onbeforedeactivate" in document&&a.ie<11?n.dom.bind(n.getBody(),"beforedeactivate",function(){var o=n.getDoc().selection;try{j=o&&o.createRange?o.createRange():n.selection.getRng()}catch(l){}}):(n.inline||a.ie>10)&&(n.on("nodechange keyup",function(){var o,l=document.activeElement;for(l&&l.id==n.id+"_ifr"&&(l=n.getBody());l;){if(l==n.getBody()){o=!0;break}l=l.parentNode}o&&(j=n.selection.getRng())}),a.webkit&&(m=function(){var l=n.selection.getRng();l.collapsed||(j=l)},b.DOM.bind(document,"selectionchange",m),n.on("remove",function(){b.DOM.unbind(document,"selectionchange",m)})))}),n.on("focusin",function(){var l=g.focusedEditor;n.selection.lastFocusBookmark&&(n.selection.setRng(d(n,n.selection.lastFocusBookmark)),n.selection.lastFocusBookmark=null),l!=n&&(l&&l.fire("blur",{focusedEditor:n}),g.activeEditor=n,n.fire("focus",{blurredEditor:l}),n.focus(!1),g.focusedEditor=n)}),n.on("focusout",function(){n.selection.lastFocusBookmark=h(j),window.setTimeout(function(){var l=g.focusedEditor;l!=n&&(n.selection.lastFocusBookmark=null),i(e())||l!=n||(n.fire("blur",{focusedEditor:null}),g.focusedEditor=null,n.selection.lastFocusBookmark=null)},0)})}g.on("AddEditor",f)}return c.isEditorUIElement=function(d){return -1!==d.className.indexOf("mce-")},c}),aC(bx,[bN,aQ,bg,aP,aR,bb,ap,ax],function(y,k,b,v,j,B,D,t){var A=k.DOM,C=j.explode,z=j.each,x=j.extend,g=0,q,w={majorVersion:"4",minorVersion:"0.5",releaseDate:"2013-08-27",editors:[],i18n:D,activeEditor:null,setup:function(){var m=this,h,u,f="",p;if(u=document.location.href.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(u)||(u+="/"),p=window.tinymce||window.tinyMCEPreInit){h=p.base||p.baseURL,f=p.suffix}else{for(var d=document.getElementsByTagName("script"),l=0;l<d.length;l++){var r=d[l].src;if(/tinymce(\.jquery|)(\.min|\.dev|)\.js/.test(r)){-1!=r.indexOf(".min")&&(f=".min"),h=r.substring(0,r.lastIndexOf("/"));break}}}m.baseURL=new b(u).toAbsolute(h),m.documentBaseURL=u,m.baseURI=new b(m.baseURL),m.suffix=f,m.focusManager=new t(m)},init:function(e){function m(i){var a=i.id;return a||(a=i.name,a=a&&!A.get(a)?i.name:A.uniqueId(),i.setAttribute("id",a)),a}function h(o,a,p){var i=o[a];if(i){return i.apply(p||this,Array.prototype.slice.call(arguments,2))}}function d(i,a){return a.constructor===RegExp?a.test(i.className):A.hasClass(i,a)}var l=this,c=[],f;l.settings=e,A.bind(window,"ready",function(){var i,a;if(h(e,"onpageload"),e.types){return z(e.types,function(n){z(A.select(n.selector),function(o){var p=new y(m(o),x({},e,n),l);c.push(p),p.render(1)})}),void 0}if(e.selector){return z(A.select(e.selector),function(o){var n=new y(m(o),e,l);c.push(n),n.render(1)}),void 0}switch(e.mode){case"exact":i=e.elements||"",i.length>0&&z(C(i),function(o){A.get(o)?(f=new y(o,e,l),c.push(f),f.render(!0)):z(document.forms,function(n){z(n.elements,function(p){p.name===o&&(o="mce_editor_"+g++,A.setAttrib(p,"id",o),f=new y(o,e,l),c.push(f),f.render(1))})})});break;case"textareas":case"specific_textareas":z(A.select("textarea"),function(n){e.editor_deselector&&d(n,e.editor_deselector)||(!e.editor_selector||d(n,e.editor_selector))&&(f=new y(m(n),e,l),c.push(f),f.render(!0))})}e.oninit&&(i=a=0,z(c,function(n){a++,n.initialized?i++:n.on("init",function(){i++,i==a&&h(e,"oninit")}),i==a&&h(e,"oninit")}))})},get:function(a){return a===aA?this.editors:this.editors[a]},add:function(c){var a=this,d=a.editors;return d[c.id]=c,d.push(c),a.activeEditor=c,a.fire("AddEditor",{editor:c}),q||(q=function(){a.fire("BeforeUnload")},A.bind(window,"beforeunload",q)),c},createEditor:function(a,c){return this.add(new y(a,c,this))},remove:function(f){var c=this,h,d=c.editors,a;if(f){if("string"==typeof f){return f=f.selector||f,z(A.select(f),function(i){c.remove(d[i.id])}),void 0}if(a=f,!d[a.id]){return null}for(delete d[a.id],h=0;h<d.length;h++){if(d[h]==a){d.splice(h,1);break}}if(c.activeEditor==a&&(c.activeEditor=d[0]),a&&!a.removed){return a.remove(),a.destroy(),c.fire("RemoveEditor",{editor:a}),d.length||A.unbind(window,"beforeunload",q),a}}else{for(h=d.length-1;h>=0;h--){c.remove(d[h])}}},execCommand:function(c,f,d){var a=this,e=a.get(d);switch(c){case"mceAddEditor":return a.get(d)||new y(d,a.settings,a).render(),!0;case"mceRemoveEditor":return e&&e.remove(),!0;case"mceToggleEditor":return e?(e.isHidden()?e.show():e.hide(),!0):(a.execCommand("mceAddEditor",0,d),!0)}return a.activeEditor?a.activeEditor.execCommand(c,f,d):!1},triggerSave:function(){z(this.editors,function(a){a.save()})},addI18n:function(c,a){D.add(c,a)},translate:function(a){return D.translate(a)}};return x(w,B),w.setup(),window.tinymce=window.tinyMCE=w,w}),aC(bE,[bx,aR],function(c,a){var d=a.each,b=a.explode;c.on("AddEditor",function(g){var f=g.editor;f.on("preInit",function(){function n(l,i){d(i,function(e,o){e&&m.setStyle(l,o,e)}),m.rename(l,"span")}function k(i){m=f.dom,h.convert_fonts_to_spans&&d(m.select("font,u,strike",i.node),function(l){p[l.nodeName.toLowerCase()](m,l)})}var p,j,m,h=f.settings;h.inline_styles&&(j=b(h.font_size_legacy_values),p={font:function(e,i){n(i,{backgroundColor:i.style.backgroundColor,color:i.color,fontFamily:i.face,fontSize:j[parseInt(i.size,10)-1]})},u:function(e,i){n(i,{textDecoration:"underline"})},strike:function(e,i){n(i,{textDecoration:"line-through"})}},f.on("PreProcess SetContent",k))})})}),aC(bL,[],function(){return{send:function(c){function a(){!c.async||4==d.readyState||b++>10000?(c.success&&10000>b&&200==d.status?c.success.call(c.success_scope,""+d.responseText,d,c):c.error&&c.error.call(c.error_scope,b>10000?"TIMED_OUT":"GENERAL",d,c),d=null):setTimeout(a,10)}var d,b=0;if(c.scope=c.scope||this,c.success_scope=c.success_scope||c.scope,c.error_scope=c.error_scope||c.scope,c.async=c.async===!1?!1:!0,c.data=c.data||"",d=new XMLHttpRequest){if(d.overrideMimeType&&d.overrideMimeType(c.content_type),d.open(c.type||(c.data?"POST":"GET"),c.url,c.async),c.content_type&&d.setRequestHeader("Content-Type",c.content_type),d.setRequestHeader("X-Requested-With","XMLHttpRequest"),d.send(c.data),!c.async){return a()}setTimeout(a,10)}}}}),aC(ao,[],function(){function a(d,g){var e,c,f,b;if(g=g||'"',null===d){return"null"}if(f=typeof d,"string"==f){return c="\bb	t\nn\ff\rr\"\"''\\\\",g+d.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(i,h){return'"'===g&&"'"===i?i:(e=c.indexOf(h),e+1?"\\"+c.charAt(e+1):(i=h.charCodeAt().toString(16),"\\u"+"0000".substring(i.length)+i))})+g}if("object"==f){if(d.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(d)){for(e=0,c="[";e<d.length;e++){c+=(e>0?",":"")+a(d[e],g)}return c+"]"}c="{";for(b in d){d.hasOwnProperty(b)&&(c+="function"!=typeof d[b]?(c.length>1?","+g:g)+b+g+":"+a(d[b],g):"")}return c+"}"}return""+d}return{serialize:a,parse:function(c){try{return window[String.fromCharCode(101)+"val"]("("+c+")")}catch(b){}}}}),aC(aD,[ao,bL,aR],function(d,b,f){function c(g){this.settings=a({},g),this.count=0}var a=f.extend;return c.sendRPC=function(g){return(new c).send(g)},c.prototype={send:function(h){var e=h.error,g=h.success;h=a(this.settings,h),h.success=function(k,j){k=d.parse(k),"undefined"==typeof k&&(k={error:"JSON Parse error."}),k.error?e.call(h.error_scope||h.scope,k.error,j):g.call(h.success_scope||h.scope,k.result)},h.error=function(j,i){e&&e.call(h.error_scope||h.scope,j,i)},h.data=d.serialize({id:h.id||"c"+this.count++,method:h.method,params:h.params}),h.content_type="application/json",b.send(h)}},c}),aC(ah,[aQ],function(a){return{callbacks:{},count:0,send:function(f){var d=this,c=a.DOM,e=f.count!==aA?f.count:d.count,b="tinymce_jsonp_"+e;d.callbacks[e]=function(g){c.remove(b),delete d.callbacks[e],f.callback(g)},c.add(c.doc.body,"script",{id:b,src:f.url,type:"text/javascript"}),d.count++}}}),aC(bJ,[],function(){function j(){p=[];for(var a in m){p.push(a)}h.length=p.length}function f(){function o(q){var s,i;return i=q!==aA?a+q:c.indexOf(",",a),-1===i||i>c.length?null:(s=c.substring(a,i),a=i+1,s)}var l,c,e,a=0;if(m={},k){d.load(g),c=d.getAttribute(g)||"";do{l=o(parseInt(o(),32)||0),null!==l&&(e=o(parseInt(o(),32)||0),m[l]=e)}while(null!==l);j()}}function b(){var a,e="";if(k){for(var c in m){a=m[c],e+=(e?",":"")+c.length.toString(32)+","+c+","+a.length.toString(32)+","+a}d.setAttribute(g,e),d.save(g),j()}}var h,d,m,p,g,k;return window.localStorage?localStorage:(g="tinymce",d=document.documentElement,k=!!d.addBehavior,k&&d.addBehavior("#default#userData"),h={key:function(a){return p[a]},getItem:function(a){return a in m?m[a]:null},setItem:function(c,a){m[c]=""+a,b()},removeItem:function(a){delete m[a],b()},clear:function(){m={},b()}},f(),h)}),aC(ak,[aQ,az,ay,au,aR,aP],function(g,d,j,f,c,h){var b=window.tinymce;return b.DOM=g.DOM,b.ScriptLoader=j.ScriptLoader,b.PluginManager=f.PluginManager,b.ThemeManager=f.ThemeManager,b.dom=b.dom||{},b.dom.Event=d.Event,c.each(c,function(i,a){b[a]=i}),c.each("isOpera isWebKit isIE isGecko isMac".split(" "),function(a){b[a]=h[a.substr(2).toLowerCase()]}),{}}),aC(bC,[bh,aR],function(b,a){return b.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(c){this.settings=a.extend({},this.Defaults,c)},preRender:function(c){c.addClass(this.settings.containerClass,"body")},applyClasses:function(g){var d=this,j=d.settings,f,c,h;f=g.items().filter(":visible"),c=j.firstControlClass,h=j.lastControlClass,f.each(function(i){i.removeClass(c).removeClass(h),j.controlClass&&i.addClass(j.controlClass)}),f.eq(0).addClass(c),f.eq(-1).addClass(h)},renderHtml:function(g){var d=this,h=d.settings,f,c="";return f=g.items(),f.eq(0).addClass(h.firstControlClass),f.eq(-1).addClass(h.lastControlClass),f.each(function(i){h.controlClass&&i.addClass(h.controlClass),c+=i.renderHtml()}),c},recalc:function(){},postRender:function(){}})}),aC(aZ,[bC],function(a){return a.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(b){b.items().filter(":visible").each(function(d){var c=d.settings;d.layoutRect({x:c.x,y:c.y,w:c.w,h:c.h}),d.recalc&&d.recalc()})},renderHtml:function(b){return'<div id="'+b._id+'-absend" class="'+b.classPrefix+'abs-end"></div>'+this._super(b)}})}),aC(bA,[ar,bn],function(b,a){return b.extend({Mixins:[a],Defaults:{classes:"widget tooltip tooltip-n"},text:function(d){var c=this;return"undefined"!=typeof d?(c._value=d,c._rendered&&(c.getEl().lastChild.innerHTML=c.encode(d)),c):c._value},renderHtml:function(){var d=this,c=d.classPrefix;return'<div id="'+d._id+'" class="'+d.classes()+'" role="presentation"><div class="'+c+'tooltip-arrow"></div><div class="'+c+'tooltip-inner">'+d.encode(d._text)+"</div></div>"},repaint:function(){var d=this,c,f;c=d.getEl().style,f=d._layoutRect,c.left=f.x+"px",c.top=f.y+"px",c.zIndex=131070}})}),aC(am,[ar,bA],function(c,a){var d,b=c.extend({init:function(g){var f=this;f._super(g),f.canFocus=!0,g.tooltip&&b.tooltips!==!1&&f.on("mouseenter mouseleave",function(j){var h=f.tooltip().moveTo(-65535);if(j.control==f&&"mouseenter"==j.type){var e=h.text(g.tooltip).show().testMoveRel(f.getEl(),["bc-tc","bc-tl","bc-tr"]);h.toggleClass("tooltip-n","bc-tc"==e),h.toggleClass("tooltip-nw","bc-tl"==e),h.toggleClass("tooltip-ne","bc-tr"==e),h.moveRel(f.getEl(),e)}else{h.hide()}}),f.aria("label",g.tooltip)},tooltip:function(){var f=this;return d||(d=new a({type:"tooltip"}),d.renderTo(f.getContainerElm())),d},active:function(g){var f=this,h;return g!==h&&(f.aria("pressed",g),f.toggleClass("active",g)),f._super(g)},disabled:function(g){var f=this,h;return g!==h&&(f.aria("disabled",g),f.toggleClass("disabled",g)),f._super(g)},postRender:function(){var g=this,f=g.settings;g._rendered=!0,g._super(),g.parent()||!f.width&&!f.height||(g.initLayoutRect(),g.repaint()),f.autofocus&&setTimeout(function(){g.focus()},0)},remove:function(){this._super(),d&&(d.remove(),d=null)}});return b}),aC(bG,[am],function(a){return a.extend({Defaults:{classes:"widget btn",role:"button"},init:function(c){var b=this,d;b.on("click mousedown",function(f){f.preventDefault()}),b._super(c),d=c.size,c.subtype&&b.addClass(c.subtype),d&&b.addClass("btn-"+d)},repaint:function(){var b=this.getEl().firstChild.style;b.width=b.height="100%",this._super()},renderHtml:function(){var f=this,c=f._id,g=f.classPrefix,d=f.settings.icon,b="";return f.settings.image&&(d="none",b=" style=\"background-image: url('"+f.settings.image+"')\""),d=f.settings.icon?g+"ico "+g+"i-"+d:"",'<div id="'+c+'" class="'+f.classes()+'" tabindex="-1"><button role="presentation" type="button" tabindex="-1">'+(d?'<i class="'+d+'"'+b+"></i>":"")+(f._text?(d?" ":"")+f.encode(f._text):"")+"</button></div>"}})}),aC(aV,[a9],function(a){return a.extend({Defaults:{defaultType:"button",role:"toolbar"},renderHtml:function(){var c=this,b=c._layout;return c.addClass("btn-group"),c.preRender(),b.preRender(c),'<div id="'+c._id+'" class="'+c.classes()+'"><div id="'+c._id+'-body">'+(c.settings.html||"")+b.renderHtml(c)+"</div></div>"}})}),aC(a0,[am],function(a){return a.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(c){var b=this;b._super(c),b.on("click mousedown",function(d){d.preventDefault()}),b.on("click",function(d){d.preventDefault(),b.disabled()||b.checked(!b.checked())}),b.checked(b.settings.checked)},checked:function(c){var b=this;return"undefined"!=typeof c?(c?b.addClass("checked"):b.removeClass("checked"),b._checked=c,b.aria("checked",c),b):b._checked},value:function(b){return this.checked(b)},renderHtml:function(){var c=this,b=c._id,d=c.classPrefix;return'<div id="'+b+'" class="'+c.classes()+'" unselectable="on" aria-labeledby="'+b+'-al" tabindex="-1"><i class="'+d+"ico "+d+'i-checkbox"></i><span id="'+b+'-al" class="'+d+'label">'+c.encode(c._text)+"</span></div>"}})}),aC(bP,[bG,a2],function(b,a){return b.extend({showPanel:function(){var c=this,d=c.settings;d.panel.popover=!0,d.panel.autohide=!0,c.active(!0),c.panel?c.panel.show():(c.panel=new a(d.panel).on("hide",function(){c.active(!1)}).parent(c).renderTo(c.getContainerElm()),c.panel.fire("show"),c.panel.reflow()),c.panel.moveRel(c.getEl(),d.popoverAlign||"bc-tc")},hidePanel:function(){var c=this;c.panel&&c.panel.hide()},postRender:function(){var c=this;return c.on("click",function(d){d.control===c&&(c.panel&&c.panel.visible()?c.hidePanel():c.showPanel())}),c._super()}})}),aC(ae,[bP,aQ],function(b,a){var c=a.DOM;return b.extend({init:function(d){this._super(d),this.addClass("colorbutton")},color:function(d){return d?(this._color=d,this.getEl("preview").style.backgroundColor=d,this):this._color},renderHtml:function(){var h=this,f=h._id,j=h.classPrefix,g=h.settings.icon?j+"ico "+j+"i-"+h.settings.icon:"",d=h.settings.image?" style=\"background-image: url('"+h.settings.image+"')\"":"";return'<div id="'+f+'" class="'+h.classes()+'"><button role="presentation" hidefocus type="button" tabindex="-1">'+(g?'<i class="'+g+'"'+d+"></i>":"")+'<span id="'+f+'-preview" class="'+j+'preview"></span>'+(h._text?(g?" ":"")+h._text:"")+'</button><button type="button" class="'+j+'open" hidefocus tabindex="-1"> <i class="'+j+'caret"></i></button></div>'},postRender:function(){var f=this,d=f.settings.onclick;return f.on("click",function(e){e.control!=f||c.getParent(e.target,"."+f.classPrefix+"open")||(e.stopImmediatePropagation(),d.call(f,e))}),delete f.settings.onclick,f._super()}})}),aC(bS,[am,a6],function(b,a){return b.extend({init:function(c){var d=this;d._super(c),d.addClass("combobox"),d.on("click",function(g){for(var f=g.target;f;){f.id&&-1!=f.id.indexOf("-open")&&d.fire("action"),f=f.parentNode}}),d.on("keydown",function(f){"INPUT"==f.target.nodeName&&13==f.keyCode&&d.parents().reverse().each(function(e){return f.preventDefault(),d.fire("change"),e.submit?(e.submit(),!1):void 0})}),c.placeholder&&(d.addClass("placeholder"),d.on("focusin",function(){d._hasOnChange||(a.on(d.getEl("inp"),"change",function(){d.fire("change")}),d._hasOnChange=!0),d.hasClass("placeholder")&&(d.getEl("inp").value="",d.removeClass("placeholder"))}),d.on("focusout",function(){0===d.value().length&&(d.getEl("inp").value=c.placeholder,d.addClass("placeholder"))}))},value:function(d){var c=this;return"undefined"!=typeof d?(c._value=d,c.removeClass("placeholder"),c._rendered&&(c.getEl("inp").value=d),c):c._rendered?(d=c.getEl("inp").value,d!=c.settings.placeholder?d:""):c._value},disabled:function(d){var c=this;c._super(d),c._rendered&&(c.getEl("inp").disabled=d)},focus:function(){this.getEl("inp").focus()},repaint:function(){var h=this,k=h.getEl(),g=h.getEl("open"),d=h.layoutRect(),j,c;j=g?d.w-g.offsetWidth-10:d.w-10;var f=document;return f.all&&(!f.documentMode||f.documentMode<=8)&&(c=h.layoutRect().h-2+"px"),a.css(k.firstChild,{width:j,lineHeight:c}),h._super(),h},postRender:function(){var c=this;return a.on(this.getEl("inp"),"change",function(){c.fire("change")}),c._super()},renderHtml:function(){var j=this,f=j._id,l=j.settings,h=j.classPrefix,d=l.value||l.placeholder||"",k,c,g="";return k=l.icon?h+"ico "+h+"i-"+l.icon:"",c=j._text,(k||c)&&(g='<div id="'+f+'-open" class="'+h+"btn "+h+'open" tabIndex="-1"><button id="'+f+'-action" type="button" hidefocus tabindex="-1">'+(k?'<i class="'+k+'"></i>':'<i class="'+h+'caret"></i>')+(c?(k?" ":"")+c:"")+"</button></div>",j.addClass("has-open")),'<div id="'+f+'" class="'+j.classes()+'"><input id="'+f+'-inp" class="'+h+"textbox "+h+'placeholder" value="'+d+'" hidefocus="true">'+g+"</div>"}})}),aC(bF,[ar,a4],function(b,a){return b.extend({Defaults:{delimiter:"\xbb"},init:function(d){var c=this;c._super(d),c.addClass("path"),c.canFocus=!0,c.on("click",function(g){var h,f=g.target;(h=f.getAttribute("data-index"))&&c.fire("select",{value:c.data()[h],index:h})})},focus:function(){var c=this;return c.keyNav=new a({root:c,enableLeftRight:!0}),c.keyNav.focusFirst(),c},data:function(d){var c=this;return"undefined"!=typeof d?(c._data=d,c.update(),c):c._data},update:function(){this.innerHtml(this._getPathHtml())},postRender:function(){var c=this;c._super(),c.data(c.settings.data)},renderHtml:function(){var c=this;return'<div id="'+c._id+'" class="'+c.classPrefix+'path">'+c._getPathHtml()+"</div>"},_getPathHtml:function(){var g=this,d=g._data||[],j,f,c="",h=g.classPrefix;for(j=0,f=d.length;f>j;j++){c+=(j>0?'<div class="'+h+'divider" aria-hidden="true"> '+g.settings.delimiter+" </div>":"")+'<div role="button" class="'+h+"path-item"+(j==f-1?" "+h+"last":"")+'" data-index="'+j+'" tabindex="-1" id="'+g._id+"-"+j+'">'+d[j].name+"</div>"}return c||(c='<div class="'+h+'path-item">&nbsp;</div>'),c}})}),aC(aa,[bF,bx],function(b,a){return b.extend({postRender:function(){function d(g){return 1===g.nodeType&&("BR"==g.nodeName||!!g.getAttribute("data-mce-bogus"))}var f=this,c=a.activeEditor;return f.on("select",function(g){var j=[],e,h=c.getBody();for(c.focus(),e=c.selection.getStart();e&&e!=h;){d(e)||j.push(e),e=e.parentNode}c.selection.select(j[j.length-1-g.index]),c.nodeChanged()}),c.on("nodeChange",function(h){for(var g=[],k=h.parents,e=k.length;e--;){if(1==k[e].nodeType&&!d(k[e])){var j=c.fire("ResolveName",{name:k[e].nodeName.toLowerCase(),target:k[e]});g.push({name:j.name})}}f.data(g)}),f._super()}})}),aC(aj,[a9],function(a){return a.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var c=this,b=c._layout,d=c.classPrefix;return c.addClass("formitem"),b.preRender(c),'<div id="'+c._id+'" class="'+c.classes()+'" hideFocus="1" tabIndex="-1">'+(c.settings.title?'<div id="'+c._id+'-title" class="'+d+'title">'+c.settings.title+"</div>":"")+'<div id="'+c._id+'-body" class="'+c.classes("body")+'">'+(c.settings.html||"")+b.renderHtml(c)+"</div></div>"}})}),aC(bQ,[a9,aj],function(b,a){return b.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:20,labelGap:30,spacing:10},preRender:function(){var c=this,d=c.items();d.each(function(g){var f,e=g.settings.label;e&&(f=new a({layout:"flex",autoResize:"overflow",defaults:{flex:1},items:[{type:"label",text:e,flex:0,forId:g._id}]}),f.type="formitem","undefined"==typeof g.settings.flex&&(g.settings.flex=1),c.replace(g,f),f.add(g))})},recalcLabels:function(){var g=this,d=0,h=[],f,c;if(g.settings.labelGapCalc!==!1){for(g.items().filter("formitem").each(function(l){var k=l.items()[0],j=k.getEl().clientWidth;d=j>d?j:d,h.push(k)}),c=g.settings.labelGap||0,f=h.length;f--;){h[f].settings.minWidth=d+c}}},visible:function(d){var c=this._super(d);return d===!0&&this._rendered&&this.recalcLabels(),c},submit:function(){var c=this.getParentCtrl(document.activeElement);return c&&c.blur(),this.fire("submit",{data:this.toJSON()})},postRender:function(){var c=this;c._super(),c.recalcLabels(),c.fromJSON(c.settings.data)}})}),aC(bH,[bQ],function(a){return a.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var c=this,b=c._layout,d=c.classPrefix;return c.preRender(),b.preRender(c),'<fieldset id="'+c._id+'" class="'+c.classes()+'" hideFocus="1" tabIndex="-1">'+(c.settings.title?'<legend id="'+c._id+'-title" class="'+d+'fieldset-title">'+c.settings.title+"</legend>":"")+'<div id="'+c._id+'-body" class="'+c.classes("body")+'">'+(c.settings.html||"")+b.renderHtml(c)+"</div></fieldset>"}})}),aC(af,[bS],function(a){return a.extend({init:function(d){var b=this,f=tinymce.activeEditor,c;d.spellcheck=!1,c=f.settings.file_browser_callback,c&&(d.icon="browse",d.onaction=function(){c(b.getEl("inp").id,b.getEl("inp").value,d.filetype,window)}),b._super(d)}})}),aC(bK,[aZ],function(a){return a.extend({recalc:function(c){var b=c.layoutRect(),d=c.paddingBox();c.items().filter(":visible").each(function(f){f.layoutRect({x:d.left,y:d.top,w:b.innerW-d.right-d.left,h:b.innerH-d.top-d.bottom}),f.recalc&&f.recalc()})}})}),aC(bB,[aZ],function(a){return a.extend({recalc:function(cn){var b9,cf,cb,cj,ce,cr,ca,ch,cp,b8,co,cm,cd,cg,ck,cl,b7=[],b4,cq,b0,b5,b6,cs,at,ci,bY,Q,K,X,b2,b1,bW,bt,bZ,bU,Y,Z,bV,bX,j,b3,G=Math.max,J=Math.min;for(cb=cn.items().filter(":visible"),cj=cn.layoutRect(),ce=cn._paddingBox,cr=cn.settings,cm=cr.direction,ca=cr.align,ch=cr.pack,cp=cr.spacing||0,("row-reversed"==cm||"column-reverse"==cm)&&(cb=cb.set(cb.toArray().reverse()),cm=cm.split("-")[0]),"column"==cm?(bY="y",at="h",ci="minH",Q="maxH",X="innerH",K="top",b2="bottom",b1="deltaH",bW="contentH",bV="left",bU="w",bt="x",bZ="innerW",Y="minW",Z="maxW",bX="right",j="deltaW",b3="contentW"):(bY="x",at="w",ci="minW",Q="maxW",X="innerW",K="left",b2="right",b1="deltaW",bW="contentW",bV="top",bU="h",bt="y",bZ="innerH",Y="minH",Z="maxH",bX="bottom",j="deltaH",b3="contentH"),co=cj[X]-ce[K]-ce[K],cs=b8=0,b9=0,cf=cb.length;cf>b9;b9++){cd=cb[b9],cg=cd.layoutRect(),ck=cd.settings,cl=ck.flex,co-=cf-1>b9?cp:0,cl>0&&(b8+=cl,cg[Q]&&b7.push(cd),cg.flex=cl),co-=cg[ci],b4=ce[bV]+cg[Y]+ce[bX],b4>cs&&(cs=b4)}if(b5={},b5[ci]=0>co?cj[ci]-co+cj[b1]:cj[X]-co+cj[b1],b5[Y]=cs+cj[j],b5[bW]=cj[X]-co,b5[b3]=cs,b5.minW=J(b5.minW,cj.maxW),b5.minH=J(b5.minH,cj.maxH),b5.minW=G(b5.minW,cj.startMinWidth),b5.minH=G(b5.minH,cj.startMinHeight),!cj.autoResize||b5.minW==cj.minW&&b5.minH==cj.minH){for(b0=co/b8,b9=0,cf=b7.length;cf>b9;b9++){cd=b7[b9],cg=cd.layoutRect(),cq=cg[Q],b4=cg[ci]+Math.ceil(cg.flex*b0),b4>cq?(co-=cg[Q]-cg[ci],b8-=cg.flex,cg.flex=0,cg.maxFlexSize=cq):cg.maxFlexSize=0}for(b0=co/b8,b6=ce[K],b5={},0===b8&&("end"==ch?b6=co+ce[K]:"center"==ch?(b6=Math.round(cj[X]/2-(cj[X]-co)/2)+ce[K],0>b6&&(b6=ce[K])):"justify"==ch&&(b6=ce[K],cp=Math.floor(co/(cb.length-1)))),b5[bt]=ce[bV],b9=0,cf=cb.length;cf>b9;b9++){cd=cb[b9],cg=cd.layoutRect(),b4=cg.maxFlexSize||cg[ci],"center"===ca?b5[bt]=Math.round(cj[bZ]/2-cg[bU]/2):"stretch"===ca?(b5[bU]=G(cg[Y]||0,cj[bZ]-ce[bV]-ce[bX]),b5[bt]=ce[bV]):"end"===ca&&(b5[bt]=cj[bZ]-cg[bU]-ce.top),cg.flex>0&&(b4+=Math.ceil(cg.flex*b0)),b5[at]=b4,b5[bY]=b6,cd.layoutRect(b5),cd.recalc&&cd.recalc(),b6+=b4+cp}}else{if(b5.w=b5.minW,b5.h=b5.minH,cn.layoutRect(b5),this.recalc(cn),null===cn._lastRect){var cc=cn.parent();cc&&(cc._lastRect=null,cc.recalc())}}}})}),aC(bD,[bC],function(a){return a.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(b){b.items().filter(":visible").each(function(c){c.recalc&&c.recalc()})}})}),aC(bO,[ar,am,a2,aR,bx,aP],function(h,d,k,g,c,j){function b(x){function C(D){function H(a){return a.replace(/%(\w+)/g,"")}var E,u,F=x.dom,p="",e,G;return G=x.settings.preview_styles,G===!1?"":(G||(G="font-family font-size font-weight text-decoration text-transform color background-color border border-radius"),(D=x.formatter.get(D))?(D=D[0],E=D.block||D.inline||"span",u=F.create(E),f(D.styles,function(i,a){i=H(i),i&&F.setStyle(u,a,i)}),f(D.attributes,function(i,a){i=H(i),i&&F.setAttrib(u,a,i)}),f(D.classes,function(a){a=H(a),F.hasClass(u,a)||F.addClass(u,a)}),x.fire("PreviewFormats"),F.setStyles(u,{position:"absolute",left:-65535}),x.getBody().appendChild(u),e=F.getStyle(x.getBody(),"fontSize",!0),e=/px$/.test(e)?parseInt(e,10):0,f(G.split(" "),function(a){var i=F.getStyle(u,a,!0);if(!("background-color"==a&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(i)&&(i=F.getStyle(x.getBody(),a,!0),"#ffffff"==F.toHex(i).toLowerCase())||"color"==a&&"#000000"==F.toHex(i).toLowerCase())){if("font-size"==a&&/em|%$/.test(i)){if(0===e){return}i=parseFloat(i,10)/(/%$/.test(i)?100:1),i=i*e+"px"}"border"==a&&i&&(p+="padding:0 2px;"),p+=a+":"+i+";"}}),x.fire("AfterPreviewFormats"),F.remove(u),p):void 0)}function m(a,e){return function(){var i=this;x.on("nodeChange",function(p){var r=x.formatter,l=null;f(p.parents,function(o){return f(a,function(u){return e?r.matchNode(o,e,{value:u.value})&&(l=u.value):r.matchNode(o,u.value)&&(l=u.value),l?!1:void 0}),l?!1:void 0}),i.value(l)})}}function v(i){i=i.split(";");for(var a=i.length;a--;){i[a]=i[a].split("=")}return i}function q(){function u(i){var a=[];if(i){return f(i,function(D){var E={text:D.title,icon:D.icon};if(D.items){E.menu=u(D.items)}else{var r=D.format||"custom"+p++;D.format||(D.name=r,l.push(D)),E.format=r}a.push(E)}),a}}var p=0,l=[],t=[{title:"Headers",items:[{title:"Header 1",format:"h1"},{title:"Header 2",format:"h2"},{title:"Header 3",format:"h3"},{title:"Header 4",format:"h4"},{title:"Header 5",format:"h5"},{title:"Header 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}];x.on("init",function(){f(l,function(a){x.formatter.register(a.name,a)})});var e=u(x.settings.style_formats||t);return e={type:"menu",items:e,onPostRender:function(a){x.fire("renderFormatsMenu",{control:a.control})},itemDefaults:{preview:!0,textStyle:function(){return this.settings.format?C(this.settings.format):void 0},onPostRender:function(){var a=this,i=this.settings.format;i&&a.parent().on("show",function(){a.disabled(!x.formatter.canApply(i)),a.active(x.formatter.match(i))})},onclick:function(){this.settings.format&&w(this.settings.format)}}}}function A(){return x.undoManager?x.undoManager.hasUndo():!1}function s(){return x.undoManager?x.undoManager.hasRedo():!1}function z(){var a=this;a.disabled(!A()),x.on("Undo Redo AddUndo TypingUndo",function(){a.disabled(!A())})}function B(){var a=this;a.disabled(!s()),x.on("Undo Redo AddUndo TypingUndo",function(){a.disabled(!s())})}function y(){var a=this;x.on("VisualAid",function(i){a.active(i.hasVisual)}),a.active(x.hasVisual)}function w(a){a.control&&(a=a.control.value()),a&&x.execCommand("mceToggleFormat",!1,a)}var n;n=q(),f({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(a,e){x.addButton(e,{tooltip:a,onPostRender:function(){var i=this;x.formatter?x.formatter.formatChanged(e,function(l){i.active(l)}):x.on("init",function(){x.formatter.formatChanged(e,function(l){i.active(l)})})},onclick:function(){w(e)}})}),f({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],hr:["Insert horizontal rule","InsertHorizontalRule"],removeformat:["Clear formatting","RemoveFormat"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"]},function(a,e){x.addButton(e,{tooltip:a[0],cmd:a[1]})}),f({blockquote:["Toggle blockquote","mceBlockQuote"],numlist:["Numbered list","InsertOrderedList"],bullist:["Bullet list","InsertUnorderedList"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"]},function(a,e){x.addButton(e,{tooltip:a[0],cmd:a[1],onPostRender:function(){var i=this;x.formatter?x.formatter.formatChanged(e,function(l){i.active(l)}):x.on("init",function(){x.formatter.formatChanged(e,function(l){i.active(l)})})}})}),x.addButton("undo",{tooltip:"Undo",onPostRender:z,cmd:"undo"}),x.addButton("redo",{tooltip:"Redo",onPostRender:B,cmd:"redo"}),x.addMenuItem("newdocument",{text:"New document",shortcut:"Ctrl+N",icon:"newdocument",cmd:"mceNewDocument"}),x.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Ctrl+Z",onPostRender:z,cmd:"undo"}),x.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Ctrl+Y",onPostRender:B,cmd:"redo"}),x.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:y,cmd:"mceToggleVisualAid"}),f({cut:["Cut","Cut","Ctrl+X"],copy:["Copy","Copy","Ctrl+C"],paste:["Paste","Paste","Ctrl+V"],selectall:["Select all","SelectAll","Ctrl+A"],bold:["Bold","Bold","Ctrl+B"],italic:["Italic","Italic","Ctrl+I"],underline:["Underline","Underline"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"]},function(a,e){x.addMenuItem(e,{text:a[0],icon:e,shortcut:a[2],cmd:a[1]})}),x.on("mousedown",function(){k.hideAll()}),x.addButton("styleselect",{type:"menubutton",text:"Formats",menu:n}),x.addButton("formatselect",function(){var e=[],a=v(x.settings.block_formats||"Paragraph=p;Address=address;Pre=pre;Header 1=h1;Header 2=h2;Header 3=h3;Header 4=h4;Header 5=h5;Header 6=h6");return f(a,function(i){e.push({text:i[0],value:i[1],textStyle:function(){return C(i[1])}})}),{type:"listbox",text:{raw:a[0][0]},values:e,fixedWidth:!0,onselect:w,onPostRender:m(e)}}),x.addButton("fontselect",function(){var a="Andale Mono=andale mono,times;Arial=arial,helvetica,sans-serif;Arial Black=arial black,avant garde;Book Antiqua=book antiqua,palatino;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier;Georgia=georgia,palatino;Helvetica=helvetica;Impact=impact,chicago;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco;Times New Roman=times new roman,times;Trebuchet MS=trebuchet ms,geneva;Verdana=verdana,geneva;Webdings=webdings;Wingdings=wingdings,zapf dingbats",i=[],e=v(x.settings.font_formats||a);return f(e,function(l){i.push({text:{raw:l[0]},value:l[1],textStyle:-1==l[1].indexOf("dings")?"font-family:"+l[1]:""})}),{type:"listbox",text:"Font Family",tooltip:"Font Family",values:i,fixedWidth:!0,onPostRender:m(i,"fontname"),onselect:function(l){l.control.settings.value&&x.execCommand("FontName",!1,l.control.settings.value)}}}),x.addButton("fontsizeselect",function(){var e=[],l="8pt 10pt 12pt 14pt 18pt 24pt 36pt",a=x.settings.fontsize_formats||l;return f(a.split(" "),function(i){e.push({text:i,value:i})}),{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:e,fixedWidth:!0,onPostRender:m(e,"fontsize"),onclick:function(i){i.control.settings.value&&x.execCommand("FontSize",!1,i.control.settings.value)}}}),x.addMenuItem("formats",{text:"Formats",menu:n})}var f=g.each;c.on("AddEditor",function(a){b(a.editor)}),h.translate=function(a){return c.translate(a)},d.tooltips=!j.iOS}),aC(aq,[aZ],function(a){return a.extend({recalc:function(b7){var bU=b7.settings,bZ,bW,b3,bY,cb,bV,b1,b9,bt,b8,b6,bX,b0,b4,b5,at,X,ca,U,Y,Z,cc,G=[],b2=[],O,q,j,z,W,V;for(bU=b7.settings,b3=b7.items().filter(":visible"),bY=b7.layoutRect(),bW=bU.columns||Math.ceil(Math.sqrt(b3.length)),bZ=Math.ceil(b3.length/bW),X=bU.spacingH||bU.spacing||0,ca=bU.spacingV||bU.spacing||0,U=bU.alignH||bU.align,Y=bU.alignV||bU.align,b5=b7._paddingBox,U&&"string"==typeof U&&(U=[U]),Y&&"string"==typeof Y&&(Y=[Y]),b8=0;bW>b8;b8++){G.push(0)}for(b6=0;bZ>b6;b6++){b2.push(0)}for(b6=0;bZ>b6;b6++){for(b8=0;bW>b8&&(bt=b3[b6*bW+b8],bt);b8++){b9=bt.layoutRect(),O=b9.minW,q=b9.minH,G[b8]=O>G[b8]?O:G[b8],b2[b6]=q>b2[b6]?q:b2[b6]}}for(W=bY.innerW-b5.left-b5.right,Z=0,b8=0;bW>b8;b8++){Z+=G[b8]+(b8>0?X:0),W-=(b8>0?X:0)+G[b8]}for(V=bY.innerH-b5.top-b5.bottom,cc=0,b6=0;bZ>b6;b6++){cc+=b2[b6]+(b6>0?ca:0),V-=(b6>0?ca:0)+b2[b6]}if(Z+=b5.left+b5.right,cc+=b5.top+b5.bottom,b1={},b1.minW=Z+(bY.w-bY.innerW),b1.minH=cc+(bY.h-bY.innerH),b1.contentW=b1.minW-bY.deltaW,b1.contentH=b1.minH-bY.deltaH,b1.minW=Math.min(b1.minW,bY.maxW),b1.minH=Math.min(b1.minH,bY.maxH),b1.minW=Math.max(b1.minW,bY.startMinWidth),b1.minH=Math.max(b1.minH,bY.startMinHeight),!bY.autoResize||b1.minW==bY.minW&&b1.minH==bY.minH){bY.autoResize&&(b1=b7.layoutRect(b1),b1.contentW=b1.minW-bY.deltaW,b1.contentH=b1.minH-bY.deltaH);var K;K="start"==bU.packV?0:V>0?Math.floor(V/bZ):0;var I=0,Q=bU.flexWidths;if(Q){for(b8=0;b8<Q.length;b8++){I+=Q[b8]}}else{I=bW}var J=W/I;for(b8=0;bW>b8;b8++){G[b8]+=Q?Math.ceil(Q[b8]*J):J}for(b0=b5.top,b6=0;bZ>b6;b6++){for(bX=b5.left,bV=b2[b6]+K,b8=0;bW>b8&&(bt=b3[b6*bW+b8],bt);b8++){b4=bt.settings,b9=bt.layoutRect(),cb=G[b8],j=z=0,b9.x=bX,b9.y=b0,at=b4.alignH||(U?U[b8]||U[0]:null),"center"==at?b9.x=bX+cb/2-b9.w/2:"right"==at?b9.x=bX+cb-b9.w:"stretch"==at&&(b9.w=cb),at=b4.alignV||(Y?Y[b8]||Y[0]:null),"center"==at?b9.y=b0+bV/2-b9.h/2:"bottom"==at?b9.y=b0+bV-b9.h:"stretch"==at&&(b9.h=bV),bt.layoutRect(b9),bX+=cb+X,bt.recalc&&bt.recalc()}b0+=bV+ca}}else{if(b1.w=b1.minW,b1.h=b1.minH,b7.layoutRect(b1),this.recalc(b7),null===b7._lastRect){var F=b7.parent();F&&(F._lastRect=null,F.recalc())}}}})}),aC(ad,[am],function(a){return a.extend({renderHtml:function(){var b=this;return b.addClass("iframe"),b.canFocus=!1,'<iframe id="'+b._id+'" class="'+b.classes()+'" tabindex="-1" src="'+(b.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(b){this.getEl().src=b},html:function(d,b){var f=this,c=this.getEl().contentWindow.document.body;return c?(c.innerHTML=d,b&&b()):setTimeout(function(){f.html(d)},0),this}})}),aC(aE,[am],function(a){return a.extend({init:function(c){var b=this;b._super(c),b.addClass("widget"),b.addClass("label"),b.canFocus=!1,c.multiline&&b.addClass("autoscroll"),c.strong&&b.addClass("strong")},initLayoutRect:function(){var c=this,b=c._super();return c.settings.multiline&&(c.getEl().offsetWidth>b.maxW&&(b.minW=b.maxW,c.addClass("multiline")),c.getEl().style.width=b.minW+"px",b.startMinH=b.h=b.minH=Math.min(b.maxH,c.getEl().offsetHeight)),b},disabled:function(c){var b=this,d;return c!==d&&(b.toggleClass("label-disabled",c),b._rendered&&(b.getEl()[0].className=b.classes())),b._super(c)},repaint:function(){var b=this;return b.settings.multiline||(b.getEl().style.lineHeight=b.layoutRect().h+"px"),b._super()},text:function(c){var b=this;return b._rendered&&c&&this.innerHtml(b.encode(c)),b._super(c)},renderHtml:function(){var c=this,b=c.settings.forId;return'<label id="'+c._id+'" class="'+c.classes()+'"'+(b?' for="'+b:"")+'">'+c.encode(c._text)+"</label>"}})}),aC(bd,[a9,a4],function(b,a){return b.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(d){var c=this;c._super(d),c.addClass("toolbar")},postRender:function(){var c=this;return c.items().addClass("toolbar-item"),c.keyNav=new a({root:c,enableLeftRight:!0}),c._super()}})}),aC(a5,[bd],function(a){return a.extend({Defaults:{role:"menubar",containerCls:"menubar",defaults:{type:"menubutton"}}})}),aC(ab,[bG,a8,a5],function(d,b,f){function c(h,g){for(;h;){if(g===h){return !0}h=h.parentNode}return !1}var a=d.extend({init:function(h){var g=this;g._renderOpen=!0,g._super(h),g.addClass("menubtn"),h.fixedWidth&&g.addClass("fixed-width"),g.aria("haspopup",!0),g.hasPopup=!0},showMenu:function(){var h=this,i=h.settings,g;return h.menu&&h.menu.visible()?h.hideMenu():(h.menu||(g=i.menu||[],g.length?g={type:"menu",items:g}:g.type=g.type||"menu",h.menu=b.create(g).parent(h).renderTo(h.getContainerElm()),h.fire("createmenu"),h.menu.reflow(),h.menu.on("cancel",function(e){e.control===h.menu&&h.focus()}),h.menu.on("show hide",function(e){e.control==h.menu&&h.activeMenu("show"==e.type)}).fire("show"),h.aria("expanded",!0)),h.menu.show(),h.menu.layoutRect({w:h.layoutRect().w}),h.menu.moveRel(h.getEl(),["bl-tl","tl-bl"]),void 0)},hideMenu:function(){var g=this;g.menu&&(g.menu.items().each(function(h){h.hideMenu&&h.hideMenu()}),g.menu.hide(),g.aria("expanded",!1))},activeMenu:function(g){this.toggleClass("active",g)},renderHtml:function(){var k=this,h=k._id,j=k.classPrefix,g=k.settings.icon?j+"ico "+j+"i-"+k.settings.icon:"";return k.aria("role",k.parent() instanceof f?"menuitem":"button"),'<div id="'+h+'" class="'+k.classes()+'" tabindex="-1"><button id="'+h+'-open" role="presentation" type="button" tabindex="-1">'+(g?'<i class="'+g+'"></i>':"")+"<span>"+(k._text?(g?" ":"")+k.encode(k._text):"")+'</span> <i class="'+j+'caret"></i></button></div>'},postRender:function(){var g=this;return g.on("click",function(e){e.control===g&&c(e.target,g.getEl())&&(g.showMenu(),e.keyboard&&g.menu.items()[0].focus())}),g.on("mouseenter",function(e){var j=e.control,h=g.parent(),i;j&&h&&j instanceof a&&j.parent()==h&&(h.items().filter("MenuButton").each(function(k){k.hideMenu&&k!=j&&(k.menu&&k.menu.visible()&&(i=!0),k.hideMenu())}),i&&(j.focus(),j.showMenu()))}),g._super()},text:function(i){var g=this,j,h;if(g._rendered){for(h=g.getEl("open").getElementsByTagName("span"),j=0;j<h.length;j++){h[j].innerHTML=g.encode(i)}}return this._super(i)},remove:function(){this._super(),this.menu&&this.menu.remove()}});return a}),aC(an,[ab],function(a){return a.extend({init:function(g){var d=this,j,f,c,h,b;if(d._values=j=g.values,j){for(f=0;f<j.length;f++){c=j[f].selected||g.value===j[f].value,c&&(h=h||j[f].text,d._value=j[f].value)}g.menu=j}g.text=g.text||h||j[0].text,d._super(g),d.addClass("listbox"),d.on("select",function(i){var e=i.control;b&&(i.lastControl=b),g.multiple?e.active(!e.active()):d.value(i.control.settings.value),b=e})},value:function(g){function d(i,k){i.items().each(function(l){f=l.value()===k,f&&(c=c||l.text()),l.active(f),l.menu&&d(l.menu,k)})}var j=this,f,c,h,b;if("undefined"!=typeof g){if(j.menu){d(j.menu,g)}else{for(h=j.settings.menu,b=0;b<h.length;b++){f=h[b].value==g,f&&(c=c||h[b].text),h[b].active=f}}j.text(c||this.settings.text)}return j._super(g)}})}),aC(bi,[am,a8],function(b,a){return b.extend({Defaults:{border:0,role:"menuitem"},init:function(d){var c=this;c.hasPopup=!0,c._super(d),d=c.settings,c.addClass("menu-item"),d.menu&&c.addClass("menu-item-expand"),d.preview&&c.addClass("menu-item-preview"),("-"===c._text||"|"===c._text)&&(c.addClass("menu-item-sep"),c.aria("role","separator"),c.canFocus=!1,c._text="-"),d.selectable&&(c.aria("role","menuitemcheckbox"),c.aria("checked",!0),c.addClass("menu-item-checkbox"),d.icon="selected"),c.on("mousedown",function(f){f.preventDefault()}),c.on("mouseenter click",function(e){e.control===c&&(d.menu||"click"!==e.type?(c.showMenu(),e.keyboard&&setTimeout(function(){c.menu.items()[0].focus()},0)):(c.parent().hideAll(),c.fire("cancel"),c.fire("select")))}),d.menu&&c.aria("haspopup",!0)},hasMenus:function(){return !!this.settings.menu},showMenu:function(){var f=this,h=f.settings,d,c=f.parent();if(c.items().each(function(e){e!==f&&e.hideMenu()}),h.menu){d=f.menu,d?d.show():(d=h.menu,d.length?d={type:"menu",items:d}:d.type=d.type||"menu",c.settings.itemDefaults&&(d.itemDefaults=c.settings.itemDefaults),d=f.menu=a.create(d).parent(f).renderTo(f.getContainerElm()),d.reflow(),d.fire("show"),d.on("cancel",function(){f.focus()}),d.on("hide",function(e){e.control===d&&f.removeClass("selected")})),d._parentMenu=c,d.addClass("menu-sub");var g=d.testMoveRel(f.getEl(),["tr-tl","br-bl","tl-tr","bl-br"]);d.moveRel(f.getEl(),g),g="menu-sub-"+g,d.removeClass(d._lastRel),d.addClass(g),d._lastRel=g,f.addClass("selected"),f.aria("expanded",!0)}},hideMenu:function(){var c=this;return c.menu&&(c.menu.items().each(function(d){d.hideMenu&&d.hideMenu()}),c.menu.hide(),c.aria("expanded",!1)),c},renderHtml:function(){var g=this,d=g._id,j=g.settings,f=g.classPrefix,c=g.encode(g._text),h=g.settings.icon;return h&&g.parent().addClass("menu-has-icons"),h=f+"ico "+f+"i-"+(g.settings.icon||"none"),'<div id="'+d+'" class="'+g.classes()+'" tabindex="-1">'+("-"!==c?'<i class="'+h+'"></i>&nbsp;':"")+("-"!==c?'<span id="'+d+'-text" class="'+f+'text">'+c+"</span>":"")+(j.shortcut?'<div id="'+d+'-shortcut" class="'+f+'menu-shortcut">'+j.shortcut+"</div>":"")+(j.menu?'<div class="'+f+'caret"></div>':"")+"</div>"},postRender:function(){var f=this,c=f.settings,g=c.textStyle;if("function"==typeof g&&(g=g.call(this)),g){var d=f.getEl("text");d&&d.setAttribute("style",g)}return f._super()},remove:function(){this._super(),this.menu&&this.menu.remove()}})}),aC(aK,[a2,a4,bi,aR],function(d,b,f,c){var a=d.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"menu"},init:function(j){var h=this;if(j.autohide=!0,j.constrainToViewport=!0,j.itemDefaults){for(var k=j.items,g=k.length;g--;){k[g]=c.extend({},j.itemDefaults,k[g])}}h._super(j),h.addClass("menu"),h.keyNav=new b({root:h,enableUpDown:!0,enableLeftRight:!0,leftAction:function(){h.parent() instanceof f&&h.keyNav.cancel()},onCancel:function(){h.fire("cancel",{},!1),h.hide()}})},repaint:function(){return this.toggleClass("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this},cancel:function(){var g=this;g.hideAll(),g.fire("cancel"),g.fire("select")},hideAll:function(){var g=this;return this.find("menuitem").exec("hideMenu"),g._super()},preRender:function(){var g=this;return g.items().each(function(e){var h=e.settings;return h.icon||h.selectable?(g._hasIcons=!0,!1):void 0}),g._super()}});return a}),aC(bk,[a0],function(a){return a.extend({Defaults:{classes:"radio",role:"radio"}})}),aC(ac,[am,aF],function(b,a){return b.extend({renderHtml:function(){var d=this,c=d.classPrefix;return d.addClass("resizehandle"),"both"==d.settings.direction&&d.addClass("resizehandle-both"),d.canFocus=!1,'<div id="'+d._id+'" class="'+d.classes()+'"><i class="'+c+"ico "+c+'i-resize"></i></div>'},postRender:function(){var c=this;c._super(),c.resizeDragHelper=new a(this._id,{start:function(){c.fire("ResizeStart")},drag:function(d){"both"!=c.settings.direction&&(d.deltaX=0),c.fire("Resize",d)},end:function(){c.fire("ResizeEnd")}})}})}),aC(ai,[am],function(a){return a.extend({renderHtml:function(){var b=this;return b.addClass("spacer"),b.canFocus=!1,'<div id="'+b._id+'" class="'+b.classes()+'"></div>'}})}),aC(a7,[ab,aQ],function(b,a){var c=a.DOM;return b.extend({Defaults:{classes:"widget btn splitbtn",role:"splitbutton"},repaint:function(){var j=this,g=j.getEl(),h=j.layoutRect(),f,k,d;return j._super(),f=g.firstChild,k=g.lastChild,c.css(f,{width:h.w-k.offsetWidth,height:h.h-2}),c.css(k,{height:h.h-2}),d=f.firstChild.style,d.width=d.height="100%",d=k.firstChild.style,d.width=d.height="100%",j},activeMenu:function(f){var d=this;c.toggleClass(d.getEl().lastChild,d.classPrefix+"active",f)},renderHtml:function(){var g=this,d=g._id,h=g.classPrefix,f=g.settings.icon?h+"ico "+h+"i-"+g.settings.icon:"";return'<div id="'+d+'" class="'+g.classes()+'"><button type="button" hidefocus tabindex="-1">'+(f?'<i class="'+f+'"></i>':"")+(g._text?(f?" ":"")+g._text:"")+'</button><button type="button" class="'+h+'open" hidefocus tabindex="-1">'+(g._menuBtnText?(f?" ":"")+g._menuBtnText:"")+' <i class="'+h+'caret"></i></button></div>'},postRender:function(){var f=this,d=f.settings.onclick;return f.on("click",function(g){g.control!=this||c.getParent(g.target,"."+this.classPrefix+"open")||(g.stopImmediatePropagation(),d.call(this,g))}),delete f.settings.onclick,f._super()}})}),aC(al,[bD],function(a){return a.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"}})}),aC(bM,[bI,a6],function(b,a){return b.extend({lastIdx:0,Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(c){this.activeTabId&&a.removeClass(this.getEl(this.activeTabId),this.classPrefix+"active"),this.activeTabId="t"+c,a.addClass(this.getEl("t"+c),this.classPrefix+"active"),c!=this.lastIdx&&(this.items()[this.lastIdx].hide(),this.lastIdx=c),this.items()[c].show().fire("showtab"),this.reflow()},renderHtml:function(){var f=this,c=f._layout,g="",d=f.classPrefix;return f.preRender(),c.preRender(f),f.items().each(function(h,e){g+='<div id="'+f._id+"-t"+e+'" class="'+d+'tab" unselectable="on">'+f.encode(h.settings.title)+"</div>"}),'<div id="'+f._id+'" class="'+f.classes()+'" hideFocus="1" tabIndex="-1"><div id="'+f._id+'-head" class="'+d+'tabs">'+g+'</div><div id="'+f._id+'-body" class="'+f.classes("body")+'">'+c.renderHtml(f)+"</div></div>"},postRender:function(){var c=this;c._super(),c.settings.activeTab=c.settings.activeTab||0,c.activateTab(c.settings.activeTab),this.on("click",function(d){var f=d.target.parentNode;if(d.target.parentNode.id==c._id+"-head"){for(var e=f.childNodes.length;e--;){f.childNodes[e]==d.target&&c.activateTab(e)}}})},initLayoutRect:function(){var g=this,d,h,f;h=f=0,g.items().each(function(j,e){h=Math.max(h,j.layoutRect().minW),f=Math.max(f,j.layoutRect().minH),g.settings.activeTab!=e&&j.hide()}),g.items().each(function(i){i.settings.x=0,i.settings.y=0,i.settings.w=h,i.settings.h=f,i.layoutRect({x:0,y:0,w:h,h:f})});var c=g.getEl("head").offsetHeight;return g.settings.minWidth=h,g.settings.minHeight=f+c,d=g._super(),d.deltaH+=g.getEl("head").offsetHeight,d.innerH=d.h-d.deltaH,d}})}),aC(bR,[am,a6],function(b,a){return b.extend({init:function(d){var c=this;c._super(d),c._value=d.value||"",c.addClass("textbox"),d.multiline?c.addClass("multiline"):c.on("keydown",function(f){13==f.keyCode&&c.parents().reverse().each(function(e){return f.preventDefault(),e.submit?(e.submit(),!1):void 0})})},value:function(d){var c=this;return"undefined"!=typeof d?(c._value=d,c._rendered&&(c.getEl().value=d),c):c._rendered?c.getEl().value:c._value},repaint:function(){var j=this,f,l,h,d=0,k=0,c;f=j.getEl().style,l=j._layoutRect,c=j._lastRepaintRect||{};var g=document;return !j.settings.multiline&&g.all&&(!g.documentMode||g.documentMode<=8)&&(f.lineHeight=l.h-k+"px"),h=j._borderBox,d=h.left+h.right+8,k=h.top+h.bottom+(j.settings.multiline?8:0),l.x!==c.x&&(f.left=l.x+"px",c.x=l.x),l.y!==c.y&&(f.top=l.y+"px",c.y=l.y),l.w!==c.w&&(f.width=l.w-d+"px",c.w=l.w),l.h!==c.h&&(f.height=l.h-k+"px",c.h=l.h),j._lastRepaintRect=c,j.fire("repaint",{},!1),j},renderHtml:function(){var g=this,d=g._id,h=g.settings,f=g.encode(g._value,!1),c="";return"spellcheck" in h&&(c+=' spellcheck="'+h.spellcheck+'"'),h.maxLength&&(c+=' maxlength="'+h.maxLength+'"'),h.size&&(c+=' size="'+h.size+'"'),h.subtype&&(c+=' type="'+h.subtype+'"'),h.multiline?'<textarea id="'+d+'" class="'+g.classes()+'" '+(h.rows?' rows="'+h.rows+'"':"")+' hidefocus="true"'+c+">"+f+"</textarea>":'<input id="'+d+'" class="'+g.classes()+'" value="'+f+'" hidefocus="true"'+c+">"},postRender:function(){var c=this;return a.on(c.getEl(),"change",function(d){c.fire("change",d)}),c._super()}})}),aC(ag,[a6],function(a){return function(b){var d=this,c;d.show=function(e){return d.hide(),c=!0,window.setTimeout(function(){c&&b.appendChild(a.createFragment('<div class="mce-throbber"></div>'))},e||0),d},d.hide=function(){var f=b.lastChild;return f&&-1!=f.className.indexOf("throbber")&&f.parentNode.removeChild(f),c=!1,d}}}),aX([aL,aU,az,aT,aR,aG,aJ,aP,aQ,ay,au,aW,bw,av,aw,aY,bj,aM,bu,bc,ba,be,bz,by,bq,bl,bv,bm,bg,bh,bp,bs,a6,ar,a8,a9,aF,aN,bI,bn,br,a2,a4,bo,bf,a1,bT,bb,a3,bN,ap,ax,bx,bE,bL,ao,aD,ah,bJ,ak,bC,aZ,bA,am,bG,aV,a0,bP,ae,bS,bF,aa,aj,bQ,bH,af,bK,bB,bD,bO,aq,ad,aE,bd,a5,ab,an,bi,aK,bk,ac,ai,a7,al,bM,bR,ag])}(this);