tinymce.PluginManager.add("advlist",function(d){function g(a,i){var k=[];return tinymce.each(i.split(/[ ,]/),function(e){k.push({text:e.replace(/\-/g," ").replace(/\b\w/g,function(l){return l.toUpperCase()}),data:"default"==e?"":e})}),k}function j(o,p){var l,m=d.dom,k=d.selection;l=m.getParent(k.getNode(),"ol,ul"),l&&l.nodeName==o&&p!==!1||d.execCommand("UL"==o?"InsertUnorderedList":"InsertOrderedList"),p=p===!1?h[o]:p,h[o]=p,l=m.getParent(k.getNode(),"ol,ul"),l&&(m.setStyle(l,"listStyleType",p),l.removeAttribute("data-mce-style")),d.focus()}function c(a){var i=d.dom.getStyle(d.dom.getParent(d.selection.getNode(),"ol,ul"),"listStyleType")||"";a.control.items().each(function(e){e.active(e.settings.data===i)})}var f,b,h={};f=g("OL",d.getParam("advlist_number_styles","default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman")),b=g("UL",d.getParam("advlist_bullet_styles","default,circle,disc,square")),d.addButton("numlist",{type:"splitbutton",tooltip:"Numbered list",menu:f,onshow:c,onselect:function(a){j("OL",a.control.settings.data)},onclick:function(){j("OL",!1)}}),d.addButton("bullist",{type:"splitbutton",tooltip:"Bullet list",menu:b,onshow:c,onselect:function(a){j("UL",a.control.settings.data)},onclick:function(){j("UL",!1)}})});