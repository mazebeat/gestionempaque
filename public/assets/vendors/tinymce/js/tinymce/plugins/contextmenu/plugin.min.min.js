tinymce.PluginManager.add("contextmenu",function(b){var a;b.on("contextmenu",function(g){var d;if(g.preventDefault(),d=b.settings.contextmenu||"link image inserttable | cell row column deletetable",a){a.show()}else{var f=[];tinymce.each(d.split(/[ ,]/),function(h){var i=b.menuItems[h];"|"==h&&(i={text:h}),i&&(i.shortcut="",f.push(i))});for(var c=0;c<f.length;c++){"|"==f[c].text&&(0===c||c==f.length-1)&&f.splice(c,1)}a=new tinymce.ui.Menu({items:f,context:"contextmenu"}),a.renderTo(document.body)}var e={x:g.pageX,y:g.pageY};b.inline||(e=tinymce.DOM.getPos(b.getContentAreaContainer()),e.x+=g.clientX,e.y+=g.clientY),a.moveTo(e.x,e.y),b.on("remove",function(){a.remove(),a=null})})});