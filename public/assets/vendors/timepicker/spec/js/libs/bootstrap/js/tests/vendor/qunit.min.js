(function(g){var c={setTimeout:typeof g.setTimeout!=="undefined",sessionStorage:(function(){try{return !!sessionStorage.getItem}catch(v){return false}})()};var m=0;var b=function(x,w,z,v,y,A){this.name=x;this.testName=w;this.expected=z;this.testEnvironmentArg=v;this.async=y;this.callback=A;this.assertions=[]};b.prototype={init:function(){var x=o("qunit-tests");if(x){var w=document.createElement("strong");w.innerHTML="Running "+this.name;var v=document.createElement("li");v.appendChild(w);v.className="running";v.id=this.id="test-output"+m++;x.appendChild(v)}},setup:function(){if(this.module!=u.previousModule){if(u.previousModule){r.moduleDone({name:u.previousModule,failed:u.moduleStats.bad,passed:u.moduleStats.all-u.moduleStats.bad,total:u.moduleStats.all})}u.previousModule=this.module;u.moduleStats={all:0,bad:0};r.moduleStart({name:this.module})}u.current=this;this.testEnvironment=t({setup:function(){},teardown:function(){}},this.moduleTestEnvironment);if(this.testEnvironmentArg){t(this.testEnvironment,this.testEnvironmentArg)}r.testStart({name:this.testName});r.current_testEnvironment=this.testEnvironment;try{if(!u.pollution){q()}this.testEnvironment.setup.call(this.testEnvironment)}catch(v){r.ok(false,"Setup failed on "+this.testName+": "+v.message)}},run:function(){if(this.async){r.stop()}if(u.notrycatch){this.callback.call(this.testEnvironment);return}try{this.callback.call(this.testEnvironment)}catch(v){e("Test "+this.testName+" died, exception and test follows",v,this.callback);r.ok(false,"Died on test #"+(this.assertions.length+1)+": "+v.message+" - "+r.jsDump.parse(v));q();if(u.blocking){start()}}},teardown:function(){try{this.testEnvironment.teardown.call(this.testEnvironment);j()}catch(v){r.ok(false,"Teardown failed on "+this.testName+": "+v.message)}},finish:function(){if(this.expected&&this.expected!=this.assertions.length){r.ok(false,"Expected "+this.expected+" assertions, but "+this.assertions.length+" were run")}var x=0,v=0,w=o("qunit-tests");u.stats.all+=this.assertions.length;u.moduleStats.all+=this.assertions.length;if(w){var A=document.createElement("ol");for(var y=0;y<this.assertions.length;y++){var E=this.assertions[y];var D=document.createElement("li");D.className=E.result?"pass":"fail";D.innerHTML=E.message||(E.result?"okay":"failed");A.appendChild(D);if(E.result){x++}else{v++;u.stats.bad++;u.moduleStats.bad++}}if(r.config.reorder&&c.sessionStorage){if(v){sessionStorage.setItem("qunit-"+this.module+"-"+this.testName,v)}else{sessionStorage.removeItem("qunit-"+this.module+"-"+this.testName)}}if(v==0){A.style.display="none"}var B=document.createElement("strong");B.innerHTML=this.name+" <b class='counts'>(<b class='failed'>"+v+"</b>, <b class='passed'>"+x+"</b>, "+this.assertions.length+")</b>";var C=document.createElement("a");C.innerHTML="Rerun";C.href=r.url({filter:a([B]).replace(/\([^)]+\)$/,"").replace(/(^\s*|\s*$)/g,"")});p(B,"click",function(){var F=B.nextSibling.nextSibling,G=F.style.display;F.style.display=G==="none"?"block":"none"});p(B,"dblclick",function(G){var F=G&&G.target?G.target:g.event.srcElement;if(F.nodeName.toLowerCase()=="span"||F.nodeName.toLowerCase()=="b"){F=F.parentNode}if(g.location&&F.nodeName.toLowerCase()==="strong"){g.location=r.url({filter:a([F]).replace(/\([^)]+\)$/,"").replace(/(^\s*|\s*$)/g,"")})}});var D=o(this.id);D.className=v?"fail":"pass";D.removeChild(D.firstChild);D.appendChild(B);D.appendChild(C);D.appendChild(A)}else{for(var y=0;y<this.assertions.length;y++){if(!this.assertions[y].result){v++;u.stats.bad++;u.moduleStats.bad++}}}try{r.reset()}catch(z){e("reset() failed, following Test "+this.testName+", exception and reset fn follows",z,r.reset)}r.testDone({name:this.testName,failed:v,passed:this.assertions.length-v,total:this.assertions.length})},queue:function(){var x=this;h(function(){x.init()});function v(){h(function(){x.setup()});h(function(){x.run()});h(function(){x.teardown()});h(function(){x.finish()})}var w=r.config.reorder&&c.sessionStorage&&+sessionStorage.getItem("qunit-"+this.module+"-"+this.testName);if(w){v()}else{h(v)}}};var r={module:function(v,w){u.currentModule=v;u.currentModuleTestEnviroment=w},asyncTest:function(v,w,x){if(arguments.length===2){x=w;w=0}r.test(v,w,x,true)},test:function(w,z,B,y){var x='<span class="test-name">'+w+"</span>",v;if(arguments.length===2){B=z;z=null}if(z&&typeof z==="object"){v=z;z=null}if(u.currentModule){x='<span class="module-name">'+u.currentModule+"</span>: "+x}if(!f(u.currentModule+": "+w)){return}var A=new b(x,w,z,v,y,B);A.module=u.currentModule;A.moduleTestEnvironment=u.currentModuleTestEnviroment;A.queue()},expect:function(v){u.current.expected=v},ok:function(v,x){v=!!v;var w={result:v,message:x};x=l(x);r.log(w);u.current.assertions.push({result:v,message:x})},equal:function(x,w,v){r.push(w==x,x,w,v)},notEqual:function(x,w,v){r.push(w!=x,x,w,v)},deepEqual:function(x,w,v){r.push(r.equiv(x,w),x,w,v)},notDeepEqual:function(x,w,v){r.push(!r.equiv(x,w),x,w,v)},strictEqual:function(x,w,v){r.push(w===x,x,w,v)},notStrictEqual:function(x,w,v){r.push(w!==x,x,w,v)},raises:function(z,x,w){var A,v=false;if(typeof x==="string"){w=x;x=null}try{z()}catch(y){A=y}if(A){if(!x){v=true}else{if(r.objectType(x)==="regexp"){v=x.test(A)}else{if(A instanceof x){v=true}else{if(x.call({},A)===true){v=true}}}}}r.ok(v,w)},start:function(){u.semaphore--;if(u.semaphore>0){return}if(u.semaphore<0){u.semaphore=0}if(c.setTimeout){g.setTimeout(function(){if(u.semaphore>0){return}if(u.timeout){clearTimeout(u.timeout)}u.blocking=false;n()},13)}else{u.blocking=false;n()}},stop:function(v){u.semaphore++;u.blocking=true;if(v&&c.setTimeout){clearTimeout(u.timeout);u.timeout=g.setTimeout(function(){r.ok(false,"Test timed out");r.start()},v)}}};r.equals=r.equal;r.same=r.deepEqual;var u={queue:[],blocking:true,hidepassed:false,reorder:true,altertitle:true,urlConfig:["noglobals","notrycatch"]};(function(){var v=g.location||{search:"",protocol:"file:"},A=v.search.slice(1).split("&"),y=A.length,w={},z;if(A[0]){for(var x=0;x<y;x++){z=A[x].split("=");z[0]=decodeURIComponent(z[0]);z[1]=z[1]?decodeURIComponent(z[1]):true;w[z[0]]=z[1]}}r.urlParams=w;u.filter=w.filter;r.isLocal=!!(v.protocol==="file:")})();if(typeof exports==="undefined"||typeof require==="undefined"){t(g,r);g.QUnit=r}else{t(exports,r);exports.QUnit=r}t(r,{config:u,init:function(){t(u,{stats:{all:0,bad:0},moduleStats:{all:0,bad:0},started:+new Date,updateRate:1000,blocking:false,autostart:true,autorun:false,filter:"",queue:[],semaphore:0});var x=o("qunit-tests"),w=o("qunit-banner"),v=o("qunit-testresult");if(x){x.innerHTML=""}if(w){w.className=""}if(v){v.parentNode.removeChild(v)}if(x){v=document.createElement("p");v.id="qunit-testresult";v.className="result";x.parentNode.insertBefore(v,x);v.innerHTML="Running...<br/>&nbsp;"}},reset:function(){if(g.jQuery){jQuery("#qunit-fixture").html(u.fixture)}else{var v=o("qunit-fixture");if(v){v.innerHTML=u.fixture}}},triggerEvent:function(x,v,w){if(document.createEvent){w=document.createEvent("MouseEvents");w.initMouseEvent(v,true,true,x.ownerDocument.defaultView,0,0,0,0,0,false,false,false,false,0,null);x.dispatchEvent(w)}else{if(x.fireEvent){x.fireEvent("on"+v)}}},is:function(v,w){return r.objectType(w)==v},objectType:function(w){if(typeof w==="undefined"){return"undefined"}if(w===null){return"null"}var v=Object.prototype.toString.call(w).match(/^\[object\s(.*)\]$/)[1]||"";switch(v){case"Number":if(isNaN(w)){return"nan"}else{return"number"}case"String":case"Boolean":case"Array":case"Date":case"RegExp":case"Function":return v.toLowerCase()}if(typeof w==="object"){return"object"}return undefined},push:function(v,B,z,y){var x={result:v,message:y,actual:B,expected:z};y=l(y)||(v?"okay":"failed");y='<span class="test-message">'+y+"</span>";z=l(r.jsDump.parse(z));B=l(r.jsDump.parse(B));var w=y+'<table><tr class="test-expected"><th>Expected: </th><td><pre>'+z+"</pre></td></tr>";if(B!=z){w+='<tr class="test-actual"><th>Result: </th><td><pre>'+B+"</pre></td></tr>";w+='<tr class="test-diff"><th>Diff: </th><td><pre>'+r.diff(z,B)+"</pre></td></tr>"}if(!v){var A=d();if(A){x.source=A;w+='<tr class="test-source"><th>Source: </th><td><pre>'+l(A)+"</pre></td></tr>"}}w+="</table>";r.log(x);u.current.assertions.push({result:!!v,message:w})},url:function(x){x=t(t({},r.urlParams),x);var v="?",w;for(w in x){v+=encodeURIComponent(w)+"="+encodeURIComponent(x[w])+"&"}return g.location.pathname+v.slice(0,-1)},extend:t,id:o,addEvent:p,begin:function(){},done:function(){},log:function(){},testStart:function(){},testDone:function(){},moduleStart:function(){},moduleDone:function(){}});if(typeof document==="undefined"||document.readyState==="complete"){u.autorun=true}r.load=function(){r.begin({});var G=t({},u);r.init();t(u,G);u.blocking=false;var z="",A=u.urlConfig.length;for(var y=0,w;y<A,w=u.urlConfig[y];y++){u[w]=r.urlParams[w];z+='<label><input name="'+w+'" type="checkbox"'+(u[w]?' checked="checked"':"")+">"+w+"</label>"}var F=o("qunit-userAgent");if(F){F.innerHTML=navigator.userAgent}var E=o("qunit-header");if(E){E.innerHTML='<a href="'+r.url({filter:undefined})+'"> '+E.innerHTML+"</a> "+z;p(E,"change",function(H){var I={};I[H.target.name]=H.target.checked?true:undefined;g.location=r.url(I)})}var D=o("qunit-testrunner-toolbar");if(D){var v=document.createElement("input");v.type="checkbox";v.id="qunit-filter-pass";p(v,"click",function(){var H=document.getElementById("qunit-tests");if(v.checked){H.className=H.className+" hidepass"}else{var I=" "+H.className.replace(/[\n\t\r]/g," ")+" ";H.className=I.replace(/ hidepass /," ")}if(c.sessionStorage){if(v.checked){sessionStorage.setItem("qunit-filter-passed-tests","true")}else{sessionStorage.removeItem("qunit-filter-passed-tests")}}});if(u.hidepassed||c.sessionStorage&&sessionStorage.getItem("qunit-filter-passed-tests")){v.checked=true;var B=document.getElementById("qunit-tests");B.className=B.className+" hidepass"}D.appendChild(v);var C=document.createElement("label");C.setAttribute("for","qunit-filter-pass");C.innerHTML="Hide passed tests";D.appendChild(C)}var x=o("qunit-fixture");if(x){u.fixture=x.innerHTML}if(u.autostart){r.start()}};p(g,"load",r.load);function k(){u.autorun=true;if(u.currentModule){r.moduleDone({name:u.currentModule,failed:u.moduleStats.bad,passed:u.moduleStats.all-u.moduleStats.bad,total:u.moduleStats.all})}var v=o("qunit-banner"),x=o("qunit-tests"),y=+new Date-u.started,z=u.stats.all-u.stats.bad,w=["Tests completed in ",y," milliseconds.<br/>",'<span class="passed">',z,'</span> tests of <span class="total">',u.stats.all,'</span> passed, <span class="failed">',u.stats.bad,"</span> failed."].join("");if(v){v.className=(u.stats.bad?"qunit-fail":"qunit-pass")}if(x){o("qunit-testresult").innerHTML=w}if(u.altertitle&&typeof document!=="undefined"&&document.title){document.title=[(u.stats.bad?"\u2716":"\u2714"),document.title.replace(/^[\u2714\u2716] /i,"")].join(" ")}r.done({failed:u.stats.bad,passed:z,total:u.stats.all,runtime:y})}function f(v){var w=u.filter,y=false;if(!w){return true}var x=w.charAt(0)==="!";if(x){w=w.slice(1)}if(v.indexOf(w)!==-1){return !x}if(x){y=true}return y}function d(){try{throw new Error()}catch(v){if(v.stacktrace){return v.stacktrace.split("\n")[6]}else{if(v.stack){return v.stack.split("\n")[4]}else{if(v.sourceURL){}}}}}function l(v){if(!v){return""}v=v+"";return v.replace(/[\&"<>\\]/g,function(w){switch(w){case"&":return"&amp;";case"\\":return"\\\\";case'"':return'"';case"<":return"&lt;";case">":return"&gt;";default:return w}})}function h(v){u.queue.push(v);if(u.autorun&&!u.blocking){n()}}function n(){var v=(new Date()).getTime();while(u.queue.length&&!u.blocking){if(u.updateRate<=0||(((new Date()).getTime()-v)<u.updateRate)){u.queue.shift()()}else{g.setTimeout(n,13);break}}if(!u.blocking&&!u.queue.length){k()}}function q(){u.pollution=[];if(u.noglobals){for(var v in g){u.pollution.push(v)}}}function j(x){var w=u.pollution;q();var v=i(u.pollution,w);if(v.length>0){ok(false,"Introduced global variable(s): "+v.join(", "))}var y=i(w,u.pollution);if(y.length>0){ok(false,"Deleted global variable(s): "+y.join(", "))}}function i(x,w){var v=x.slice();for(var z=0;z<v.length;z++){for(var y=0;y<w.length;y++){if(v[z]===w[y]){v.splice(z,1);z--;break}}}return v}function e(w,v,x){if(typeof console!=="undefined"&&console.error&&console.warn){console.error(w);console.error(v);console.warn(x.toString())}else{if(g.opera&&opera.postError){opera.postError(w,v,x.toString)}}}function t(w,v){for(var x in v){if(v[x]===undefined){delete w[x]}else{w[x]=v[x]}}return w}function p(x,w,v){if(x.addEventListener){x.addEventListener(w,v,false)}else{if(x.attachEvent){x.attachEvent("on"+w,v)}else{v()}}}function o(v){return !!(typeof document!=="undefined"&&document&&document.getElementById)&&document.getElementById(v)}r.equiv=function(){var y;var z=[];var v=[];function x(C,B,A){var D=r.objectType(C);if(D){if(r.objectType(B[D])==="function"){return B[D].apply(B,A)}else{return B[D]}}}var w=function(){function A(B,C){if(B instanceof C.constructor||C instanceof B.constructor){return C==B}else{return C===B}}return{string:A,"boolean":A,number:A,"null":A,"undefined":A,nan:function(B){return isNaN(B)},date:function(B,C){return r.objectType(B)==="date"&&C.valueOf()===B.valueOf()},regexp:function(B,C){return r.objectType(B)==="regexp"&&C.source===B.source&&C.global===B.global&&C.ignoreCase===B.ignoreCase&&C.multiline===B.multiline},"function":function(){var B=z[z.length-1];return B!==Object&&typeof B!=="undefined"},array:function(C,E){var G,F,D;var B;if(!(r.objectType(C)==="array")){return false}B=E.length;if(B!==C.length){return false}v.push(E);for(G=0;G<B;G++){D=false;for(F=0;F<v.length;F++){if(v[F]===E[G]){D=true}}if(!D&&!y(E[G],C[G])){v.pop();return false}}v.pop();return true},object:function(C,E){var H,F,D;var B=true;var G=[],I=[];if(E.constructor!==C.constructor){return false}z.push(E.constructor);v.push(E);for(H in E){D=false;for(F=0;F<v.length;F++){if(v[F]===E[H]){D=true}}G.push(H);if(!D&&!y(E[H],C[H])){B=false;break}}z.pop();v.pop();for(H in C){I.push(H)}return B&&y(G.sort(),I.sort())}}}();y=function(){var A=Array.prototype.slice.apply(arguments);if(A.length<2){return true}return(function(C,B){if(C===B){return true}else{if(C===null||B===null||typeof C==="undefined"||typeof B==="undefined"||r.objectType(C)!==r.objectType(B)){return false}else{return x(C,w,[B,C])}}})(A[0],A[1])&&arguments.callee.apply(this,A.splice(1,A.length-1))};return y}();r.jsDump=(function(){function v(B){return'"'+B.toString().replace(/"/g,'\\"')+'"'}function w(B){return B+""}function y(G,B,D){var E=x.separator(),F=x.indent(),C=x.indent(1);if(B.join){B=B.join(","+E+C)}if(!B){return G+D}return[G,C+B,F+D].join(E)}function A(C,B){var E=C.length,D=Array(E);this.up();while(E--){D[E]=this.parse(C[E],undefined,B)}this.down();return y("[",D,"]")}var z=/^function (\w+)/;var x={parse:function(F,D,B){B=B||[];var G=this.parsers[D||this.typeOf(F)];D=typeof G;var E=s(F,B);if(E!=-1){return"recursion("+(E-B.length)+")"}if(D=="function"){B.push(F);var C=G.call(this,F,B);B.pop();return C}return(D=="string")?G:this.parsers.error},typeOf:function(C){var B;if(C===null){B="null"}else{if(typeof C==="undefined"){B="undefined"}else{if(r.is("RegExp",C)){B="regexp"}else{if(r.is("Date",C)){B="date"}else{if(r.is("Function",C)){B="function"}else{if(typeof C.setInterval!==undefined&&typeof C.document!=="undefined"&&typeof C.nodeType==="undefined"){B="window"}else{if(C.nodeType===9){B="document"}else{if(C.nodeType){B="node"}else{if(typeof C==="object"&&typeof C.length==="number"&&C.length>=0){B="array"}else{B=typeof C}}}}}}}}}return B},separator:function(){return this.multiline?this.HTML?"<br />":"\n":this.HTML?"&nbsp;":" "},indent:function(B){if(!this.multiline){return""}var C=this.indentChar;if(this.HTML){C=C.replace(/\t/g,"   ").replace(/ /g,"&nbsp;")}return Array(this._depth_+(B||0)).join(C)},up:function(B){this._depth_+=B||1},down:function(B){this._depth_-=B||1},setParser:function(B,C){this.parsers[B]=C},quote:v,literal:w,join:y,_depth_:1,parsers:{window:"[Window]",document:"[Document]",error:"[ERROR]",unknown:"[Unknown]","null":"null","undefined":"undefined","function":function(D){var C="function",B="name" in D?D.name:(z.exec(D)||[])[1];if(B){C+=" "+B}C+="(";C=[C,r.jsDump.parse(D,"functionArgs"),"){"].join("");return y(C,r.jsDump.parse(D,"functionCode"),"}")},array:A,nodelist:A,arguments:A,object:function(E,B){var C=[];r.jsDump.up();for(var D in E){var F=E[D];C.push(r.jsDump.parse(D,"key")+": "+r.jsDump.parse(F,undefined,B))}r.jsDump.down();return y("{",C,"}")},node:function(F){var E=r.jsDump.HTML?"&lt;":"<",H=r.jsDump.HTML?"&gt;":">";var B=F.nodeName.toLowerCase(),D=E+B;for(var C in r.jsDump.DOMAttrs){var G=F[r.jsDump.DOMAttrs[C]];if(G){D+=" "+C+"="+r.jsDump.parse(G,"attribute")}}return D+H+E+"/"+B+H},functionArgs:function(D){var B=D.length;if(!B){return""}var C=Array(B);while(B--){C[B]=String.fromCharCode(97+B)}return" "+C.join(", ")+" "},key:v,functionCode:"[code]",attribute:v,string:v,date:v,regexp:w,number:w,"boolean":w},DOMAttrs:{id:"id",name:"name","class":"className"},HTML:false,indentChar:"  ",multiline:true};return x})();function a(v){var w="",y;for(var x=0;v[x];x++){y=v[x];if(y.nodeType===3||y.nodeType===4){w+=y.nodeValue}else{if(y.nodeType!==8){w+=a(y.childNodes)}}}return w}function s(x,y){if(y.indexOf){return y.indexOf(x)}for(var v=0,w=y.length;v<w;v++){if(y[v]===x){return v}}return -1}r.diff=(function(){function v(z,A){var x={};var y={};for(var w=0;w<A.length;w++){if(x[A[w]]==null){x[A[w]]={rows:[],o:null}}x[A[w]].rows.push(w)}for(var w=0;w<z.length;w++){if(y[z[w]]==null){y[z[w]]={rows:[],n:null}}y[z[w]].rows.push(w)}for(var w in x){if(x[w].rows.length==1&&typeof(y[w])!="undefined"&&y[w].rows.length==1){A[x[w].rows[0]]={text:A[x[w].rows[0]],row:y[w].rows[0]};z[y[w].rows[0]]={text:z[y[w].rows[0]],row:x[w].rows[0]}}}for(var w=0;w<A.length-1;w++){if(A[w].text!=null&&A[w+1].text==null&&A[w].row+1<z.length&&z[A[w].row+1].text==null&&A[w+1]==z[A[w].row+1]){A[w+1]={text:A[w+1],row:A[w].row+1};z[A[w].row+1]={text:z[A[w].row+1],row:w+1}}}for(var w=A.length-1;w>0;w--){if(A[w].text!=null&&A[w-1].text==null&&A[w].row>0&&z[A[w].row-1].text==null&&A[w-1]==z[A[w].row-1]){A[w-1]={text:A[w-1],row:A[w].row-1};z[A[w].row-1]={text:z[A[w].row-1],row:w-1}}}return{o:z,n:A}}return function(C,D){C=C.replace(/\s+$/,"");D=D.replace(/\s+$/,"");var x=v(C==""?[]:C.split(/\s+/),D==""?[]:D.split(/\s+/));var B="";var w=C.match(/\s+/g);if(w==null){w=[" "]}else{w.push(" ")}var z=D.match(/\s+/g);if(z==null){z=[" "]}else{z.push(" ")}if(x.n.length==0){for(var y=0;y<x.o.length;y++){B+="<del>"+x.o[y]+w[y]+"</del>"}}else{if(x.n[0].text==null){for(D=0;D<x.o.length&&x.o[D].text==null;D++){B+="<del>"+x.o[D]+w[D]+"</del>"}}for(var y=0;y<x.n.length;y++){if(x.n[y].text==null){B+="<ins>"+x.n[y]+z[y]+"</ins>"}else{var A="";for(D=x.n[y].row+1;D<x.o.length&&x.o[D].text==null;D++){A+="<del>"+x.o[D]+w[D]+"</del>"}B+=" "+x.n[y].text+z[y]+A}}}return B}})()})(this);