(function(s,k){var c="autogrow-instance";var g=s.clearTimeout,f="autogrow-measure-"+(""+Math.random()).replace(/[^0-9]/g,""),r=[].slice,x={}.hasOwnProperty,b=s.setTimeout;var n=(function(){function y(D,B,A,C){var z=k[D],E=z[B],F=null;if(E){F=E[A]}else{E=z[B]={}}if(A==="set"){E[A]=function(I,J,H){var G;if(F){G=F(I,J,H)}return C(I,J,H)||G}}else{E[A]=function(J,I){var G,H;if(F){G=F(J,I)}H=C(J,I);return H===null?G:H}}}return{define:y,GETTER:"get",SETTER:"set",ATTR:"attrHooks",PROP:"propHooks",VAL:"valHooks"}})();var w=(function(){var A=["boxSizing","mozBoxSizing","webkitBoxSizing"],y=document.createElement("div").style;for(var z=0;z<A.length;++z){if(A[z] in y){return A[z]}}return A[0]})();var t={left:-999999,padding:0,height:1,border:"none",overflow:"hidden",position:"absolute",mozBoxSizing:"content-box",webkitBoxSizing:"content-box",boxSizing:"content-box",pointerEvents:"none"};var q=("fontWeight fontFamily fontStyle fontSize wordWrap lineHeight wordSpacing letterSpacing textIndent textTransform").split(" ");var v=(function(){var z=y.prototype;function y(){this.counter=0;this.textarea=k("<textarea>",{tabIndex:-1}).css(t).addClass(f).appendTo("body")}z.isUsedBy=function(A){return k(A).data(c)._measurement===this.textarea};z.isValid=function(){return this.counter>0};z.useBy=function(A){if(this.isUsedBy(A)){return}this.counter++;k(A).data(c)._measurement=this.textarea};z.deuseBy=function(A){if(!this.isValid()){return true}if(!this.isUsedBy(A)){return false}this.counter--;k(A).data(c)._measurement=null;if(!this.isValid()){this.textarea.remove();this.textarea=null;return true}return false};return y})();var e={cache:{},hashFor:function(z){var B="";for(var A=0,y=q.length;A<y;++A){B+=z.css(q[A])}return B},applyTo:function(A){var B=this.hashFor(A),z=this.cache;var y=z[B];if(!y||!y.isValid()){z[B]=y=new v()}y.useBy(A[0])},removeFrom:function(A){var C=this.hashFor(A),z=this.cache;var y=z[C];if(y&&y.isUsedBy(A[0])){if(y.deuseBy(A[0])){delete z[C]}}else{for(var B in z){if(x.call(z,B)){y=z[B];if(y.deuseBy(A[0])){delete z[B]}}}}}};function o(y,z){return parseInt(y.css(z),10)||0}function u(y){return y.css(w)==="border-box"}function d(y){if(u(y)){return o(y,"width")}else{return y[0].offsetWidth?y.width():0}}function p(y){if(u(y)){return o(y,"height")}else{return y[0].offsetHeight?y.height():0}}function m(z){var B=z[0];var C=B.value;var y=B.style.height;B.style.height="";B.value="";var A=p(z);B.style.height=y;B.value=C;return A}function j(y){return o(y,"paddingTop")+o(y,"paddingBottom")+o(y,"borderTopWidth")+o(y,"borderBottomWidth")}function i(B,C,z){var y=0;var A=function(){g(y);var D=z||this,E=r.call(arguments);y=b(function(){B.apply(D,E)},C)};A.cancel=function(){g(y)};return A}var l=(function(){var A=y.prototype;function y(B){this._elem=k(B);this._measurement=null;this._baseHeight=-1;this._lastHeight=0;this._additionalHeight=0;this._oninput=i(this._oninput,13,this);this._elem.on("cut.autogrow input.autogrow paste.autogrow mouseup.autogrow keydown.autogrow keyup.autogrow keypress.autogrow",this._oninput);this._elem.on("destroy.autogrow",k.proxy(this.destroy,this))}A._oninput=function(){if(this._baseHeight<=0){this._baseHeight=m(this._elem);if(u(this._elem)){this._additionalHeight=j(this._elem)}else{this._additionalHeight=0}}if(this._baseHeight>0){var B=this._measureHeight(),C=Math.max(this._baseHeight,B)+this._additionalHeight;if(C!==this._lastHeight){this._lastHeight=C;this._elem.css("height",C)}}};A._measureHeight=function(){this._measurement.css("width",d(this._elem)).val(this._elem.val()+"\uff2d\uff2d\uff2d\uff2d");return this._measurement.prop("scrollHeight")|0};A._refresh=function(){if(this._measurement!=null){e.removeFrom(this._elem)}e.applyTo(this._elem);for(var B=0;B<q.length;++B){this._measurement.css(q[B],this._elem.css(q[B]))}if(u(this._elem)){this._additionalHeight=j(this._elem)}else{this._additionalHeight=0}this._baseHeight=-1;this._lastHeight=p(this._elem)};A.refresh=function(){this._refresh()};A.destroy=function(){e.removeFrom(this._elem);this._oninput.cancel();this._elem.removeData(c);this._elem.off(".autogrow");this._elem=null};var z=function(C,D){var B=k.data(C,c);if(!B){return}C.value=D;this._oninput();return true};n.define(n.VAL,"textarea",n.SETTER,z);return y})();var a=k.fn.autogrow;var h;h=k.fn.autogrow=function(z){var y=[].slice.call(arguments,1);return this.filter("textarea").each(function(){var B=k(this),A=B.data(c);if(B.hasClass(f)){return}if(!A){B.data(c,(A=new l(this)));A.refresh()}if(typeof z==="string"&&z.charAt(0)!=="_"&&typeof A[z]==="function"){A[z].apply(A,y)}})};h.Constructor=l;h.noConflict=function(){k.fn.autogrow=a;return h};h.refresh=function(){k("textarea[data-autogrow]").autogrow()};k(h.refresh);k.ajaxPrefilter(function(A,y,z){(z.complete||z.always)(h.refresh)})})(this,this.jQuery);