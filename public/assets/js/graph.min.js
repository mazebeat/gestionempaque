"use strict";var Graph=Graph||(function(c){var a={};a.count=0;var b=function(d){if(d!==0){a.setOptions.call(this,d);++a.count}};a.defaults=function(){return{x:["Jan","Feb","Mar","April","May","Jun","July","Aug","Sep","Oct","Nov","Dec"],y:10,attachTo:"body",points:[0,26,33,74,12,49,18]}};a.basics=function(d,f,e,i){d=e||d||300;f=i||f||550;d=d.toString();f=f.toString();a.attachTo=a.attachTo||"body";var h=c(a.attachTo).css("height");var g=c(a.attachTo).css("width");d=(d.substring(d.length-1)==="%")?h:d;f=(f.substring(f.length-1)==="%")?g:f;return{Gheight:parseFloat(d),Gwidth:parseFloat(f),xDist:60,yDist:30,scale:10,xOffset:25,yOffset:20,yStart:0,mainOffset:35,padding:10,xOfPoints:[],yOfPoints:[],mxOfPoints:[],myOfPoints:[],multipleDataSets:false,legend:false,interactive:true,animations:false,animationDuration:1,pointAnimation:true,lineAnimation:true,barAnimation:true,pieAnimation:true,grid:true,xGrid:true,yGrid:true,xName:null,yName:null,special:null,showPoints:true,noLines:false,pointRadius:5,averagePointRadius:5,pieSize:200,tooltipWidth:50,pieLegend:true,rx:10,before:"",after:"",title:"",id:"SVGGraph"+a.count}};a.parseS=function(e,d){return'svg[id="'+e+'"] '+d};a.id2selector=function(h){var g=h.split(" ");h=g[0];var e='svg[id="';if(h.charAt(0)==="#"){e+=h.substring(1)+'"]';for(var f=1,d=g.length;f<d;++f){e+=" "+g[f]}}else{return h}return e};a.design=function(g){g.byCSS=g.byCSS||{};g.design=g.design||{};var l=(g.type==="bar")?"start":"middle";var m=g.height||"100%";var f=g.width||"100%";var n=g.design;var j={};j.style={};j.style[this.parseS(g.id,"")]={height:m,width:f};j.style[this.parseS(g.id,".grid")]={stroke:n.gridColor||"#000","stroke-width":n.gridWidth||"1"};j.style[this.parseS(g.id,".points")]={cursor:"pointer"};j.style[this.parseS(g.id,'circle:not(".middle"):not(".pie-tooltip")')]={opacity:0.8};j.style[this.parseS(g.id,".inset")]={fill:n.pointColor||"lightblue"};j.style[this.parseS(g.id,".labels")]={fill:n.labelColor||"#000",stroke:n.labelStroke||"none","font-family":n.labelFont||"Arial","font-size":n.labelFontSize||"13px",kerning:n.labelKerning||"2"};j.style[this.parseS(g.id,".lines")]={stroke:n.lineColor||"darkgrey","stroke-width":n.lineWidth||"2"};j.style[this.parseS(g.id,".averageLine")]={stroke:n.averageLineColor||"green","stroke-width":n.lineWidth||"2"};j.style[this.parseS(g.id,".line-of-1")]={stroke:n.lineColor||"green","stroke-width":n.lineWidth||"2"};j.style[this.parseS(g.id,".rect")]={stroke:n.borderColor||"#fff","stroke-width":n.borderWidth||"2",fill:n.barColor||"blue",opacity:0.8};j.style[this.parseS(g.id,".bar")]={stroke:n.barBorder||"#fff",opacity:0.8};j.style[this.parseS(g.id,".SVG-tooltip")]={fill:n.tooltipColor||"#000","font-family":n.tooltipFont||"Arial","font-size":n.tooltipFontSize||"13px",display:"none",opacity:"1"};j.style[this.parseS(g.id,".SVG-tooltip-box")]={display:"none",fill:n.tooltipBoxColor||"none",stroke:n.borderColor||"none","stroke-width":n.borderWidth||"2",};j.style[this.parseS(g.id,".area")]={stroke:(!g.multipleDataSets)?(n.lineColor||"green"):"none","stroke-width":n.borderWidth||"2",fill:n.areaColor||"none",opacity:0.8};j.style[this.parseS(g.id,".middle")]={fill:n.donutCenterColor||"#fff",};j.style[this.parseS(g.id,".slice")]={stroke:n.borderColor||"grey","stroke-width":n.borderWidth||"2",opacity:"0.8"};j.style[this.parseS(g.id,".labels.x-labels")]={"text-anchor":n.xLabelAnchor||l};j.style[this.parseS(g.id,".labels.y-labels")]={"text-anchor":n.yLabelAnchor||"end"};j.style['table[id="'+g.id+'"]']={height:m,width:f,"border-collapse":"collapse","text-align":"center"};var d=g.colors||["#EF6F6C","#428bca","#1caf9a","#F89A14","#9a4ef0","#f0c44e","#ad4ef0","#f09a4e","#656866","#bbbbbb"];d.push("");for(var h=0,k=d.length;h<k;++h){j.style[this.parseS(g.id,".line-of-"+h)]={stroke:n.lineColor||d[h],"stroke-width":n.lineWidth||"2"};j.style[this.parseS(g.id,".path-of-"+h)]={fill:d[h],opacity:0.8};j.style[this.parseS(g.id,".rect-of-"+h)]={fill:d[h]};j.style[this.parseS(g.id,".point-of-"+h)]={fill:d[h]}}for(var e in g.byCSS){j.style[this.id2selector(e)]=g.byCSS[e]}return j};a.setOptions=function(d){d=d||{};if(d.points&&c.isArray(d.points[0])){d.multipleDataSets=true}if(d.attachTo){d.attachTo=(d.attachTo.charAt(0)==="#")?d.attachTo:"#"+d.attachTo;a.attachTo=d.attachTo}if(d.id){d.id=(d.id.charAt(0)==="#")?d.id.substring(1):d.id}if(d.basic===true||typeof d.basic==="undefined"){this.obj=a.basics(d.height,d.width,d.graphHeight,d.graphWidth)}if((d&&d.example===true)||!c.isEmptyObject(d)){d.id=d.id||this.obj.id;c.extend(this.obj,a.defaults(),d,a.design(d));this.obj.addStyle=true}else{if(d&&d.addStyle===true){c.extend(this.obj,a.design(d),d)}else{if(d){this.obj=d}}}this.obj.numPoints=this.obj.points.length;this.obj.xLength=this.obj.x.length};b.prototype.getData=function(){return JSON.stringify(this.obj)};b.prototype.genToFunc=function(d){d=(d==="area")?"linear":((d==="combo")?"bar":((d==="donut")?"pie":d));return"Graph"+d.charAt(0).toUpperCase()+d.substring(1)};b.prototype.expand=function(f,d){f=(typeof f==="string")?jQuery.parseJSON(f):f;var e=new window[this.genToFunc(this.obj.type)](f);d=d||"";e.init(d)};b.prototype.update=function(d){d=d||{};d.byCSS=this.obj.byCSS;this.expand(d,"update")};b.prototype.to=function(f,d){var e=d||this.obj;this.obj.type=f;e.type=f;this.expand(e,"update")};b.prototype.createGrid=function(j,k){var n=this.obj;var m="",l="",d=n.yDist-30;if(n.grid&&!n.noLines){var e=(n.height)-k*(n.yDist);var f;if(n.xGrid){for(var h=0;h<j;++h){f=h*n.xDist+n.mainOffset;m+='<line x1="'+f+'" x2="'+f+'" y1="'+(n.height-n.yOffset-n.padding-d)+'" y2="'+(e)+'"></line>'}}var g=(j-1)*n.xDist+n.mainOffset;if(n.yGrid){for(var h=1;h<=k;++h){f=(n.height)-h*(n.yDist);l+='<line x1="'+n.mainOffset+'" x2="'+(g)+'" y1="'+f+'" y2="'+f+'"></line>'}}}else{if(n.noLines===false){m+='<line x1="'+n.mainOffset+'" x2="'+n.mainOffset+'" y1="'+(n.height-n.yOffset-n.padding-d)+'" y2="'+((n.height)-k*(n.yDist))+'"></line>';l+='<line x1="'+n.mainOffset+'" x2="'+((j-1)*n.xDist+n.mainOffset)+'" y1="'+(n.height-n.yDist)+'" y2="'+(n.height-n.yDist)+'"></line>'}}return{xGrid:m,yGrid:l}};b.prototype.applyStyling=function(){var d=this.obj;if(d.addStyle){for(var e in d.style){c(e).css(d.style[e])}}};b.prototype.openTags=function(){return{SVG:'<svg id="'+this.obj.id+'"class="graph"style="'+(this.obj.css||"")+'">',xGrid:'<g class="grid x-grid" id="xGrid">',yGrid:'<g class="grid y-grid" id="yGrid">',xLabels:'<g class="labels x-labels">',yLabels:'<g class="labels y-labels">',title:'<g class="labels title">'}};b.prototype.addLabels=function(){var f=this.obj;var h="",k="";for(var g=0,e=f.xLength;g<e;++g){h+='<text x="'+(g*f.xDist+f.mainOffset)+'" y="'+(f.height-f.padding)+'">'+f.x[g]+"</text>"}for(var g=1,e=f.y+1;g<=e;++g){var j=(g*f.scale-f.scale+f.yStart);var d=(j>=10)?f.xOffset:f.xOffset-10;k+='<text x="'+d+'" y="'+((f.height-(f.yDist*g-f.padding))-5)+'">'+j+"</text>"}return{xLabels:h,yLabels:k}};b.prototype.addTitle=function(e){var d=this.obj;return'<text x="'+(d.mainOffset)+'" y="'+((d.height)-e*(d.yDist)-d.yOffset)+'"font-weight="bold">'+d.title+"</text>"};b.prototype.finishGraph=function(k,j,h,e){var d=this.obj;if(d.type!=="pie"){h.xGrid+=this.createGrid(k,j).xGrid;h.yGrid+=this.createGrid(k,j).yGrid;h.xLabels+=this.addLabels().xLabels;h.yLabels+=this.addLabels().yLabels}h.title+=this.addTitle(j);if((d.legend&&d.pieLegend)||d.type==="pie"){h.legend=this.addLegend(e)}h.points=h.points||"";for(var g in h){if(h[g]!==h.points&&h[g]!==h.tooltips){if(g!=="SVG"){h.SVG+=h[g]+"</g>"}}}h.SVG+=h.points+h.tooltips+"</svg>";var f=d.before+h.SVG+d.after;this.handleAppend(e,f);this.applyStyling();return h.SVG};b.prototype.handleAppend=function(d,e){if(d==="update"){c("#"+this.obj.id).replaceWith(e)}else{c(this.obj.attachTo).append(e)}};b.prototype.addLegend=function(){var m=this.obj;var j=function(n){var p=(n==="add")?1:0.8;var o=c(this).attr("class").substring(7);var i='[class*="'+o+'"][id^="'+c(this).attr("id").split("-")[1]+'"]';c("line"+i+", rect"+i+", path"+i).each(function(){c(this).css("opacity",p)})};if(m.interactive&&m.multipleDataSets){c(document).on("mouseover",'g[id^="legend-"]',function(){j.call(this,"add")});c(document).on("mouseout",'g[id^="legend-"]',function(){j.call(this,"take")})}var k='<g class="legend">';var h=m.legendX||(m.Gwidth-m.xDist);var d=30;var l=30;var g=m.yOffset;m.dataNames=m.dataNames||[];if(m.multipleDataSets||m.type==="pie"){for(var e=0,f=m.numPoints;e<f;++e){k+='<g id="legend-'+m.id+'"class="legend-of-'+e+'">';k+='<rect class="rect-of-'+e+'"x="'+(h)+'" y="'+(g)+'"width="'+d+'"height="'+l+'"></rect>';k+='<text style="cursor:default;"class="legend-of-'+e+'"x="'+(h+d+5)+'"y="'+(g+l/2)+'">'+(m.dataNames[e]||"Data"+(e===0?"":" "+e))+"</text>";g+=m.yDist+m.padding}}else{for(var e=0,f=m.xLength;e<f;++e){k+='<g id="legend-'+m.id+'">';k+='<text style="cursor:default;"x="'+(1.5*h)+'"y="'+(g+l/2)+'">'+(m.x[e]+" : "+m.points[e])+"</text>";g+=m.yDist+m.padding}}if(m.special==="combo"){k+='<g id="legend-avg-'+m.id+'">';k+='<rect fill="'+(m.design.averageLineColor||"green")+'"class="averageLine"x="'+(h)+'" y="'+(g)+'"width="'+d+'"height="'+l+'"></rect>';k+='<text style="cursor:default;"x="'+(h+d+5)+'"y="'+(g+l/2)+'">Average</text>'}k+="</g>";return k};return b})(jQuery);var GraphLinear=GraphLinear||(function(a){var b=function(e){e=e||{};e.type="linear";Graph.call(this,e);var c=function(i){var f=a(this).attr("id");var j=f.split("-");var k=j[0];var g=j[1];var h=this;a('svg line[id^="'+k+'"], svg path[id^="'+k+'"]').each(function(){if(a(this).attr("id").split("-")[1]===g){var m="#"+a(h).attr("class").split(" ")[0]+"-tooltip";var l="#"+a(h).attr("class").split(" ")[0]+"-tooltip-rect";if(i==="add"){a(this).css("stroke-width",e.lineWidth||3);a(this).css("opacity",1);a(m).show();a(l).show()}else{a(this).css("stroke-width",e.lineWidth-1||2);a(this).css("opacity",0.8);a(m).hide();a(l).hide()}}})};if(this.obj.interactive){var d=this;a(document).on("mouseover",'svg circle[id$="point"]',function(){c.call(this,"add");a(this).css("opacity",1)});a(document).on("mouseleave",'svg circle[id$="point"]',function(){c.call(this,"sub");a(this).css("opacity",d.obj.style['svg[id="'+d.obj.id+'"] circle'].opacity||0.8)})}};b.prototype=Object.create(Graph.prototype);b.prototype.constructor=b;b.prototype.buildPoints=function(m,s){var e,o,g,p,n,l,f,k,h,c=(s)?this.obj.averagePointRadius:this.obj.pointRadius,q=this.obj;var d=s||q.points;if(m.length===1){p=d[m[0]];n=m[0];h=m[0];f=false}else{if(m.length===2){p=d[m[0]][m[1]];n=""+m[0]+m[1];h=m[1];f=true}}e=q.height-((p+q.scale)*(q.yDist/q.scale));o=h*q.xDist+q.mainOffset;if(s){o+=q.xDist/(q.points.length+1)}k=(f===false)?0:m[0];l='<circle id="'+q.id+"-"+k+'-point"class="'+q.id+"-point"+n+" "+(q.multipleDataSets&&!s?"point-of-"+m[0]+" ":"")+'"cx="'+o+'" cy="'+e+'" r="'+c+'">';if(q.animations&&q.pointAnimation&&!(q.multipleDataSets&&q.special==="area")){l+='<animate attributeName="cy" from="0" to="'+e+'" dur="'+(q.animationDuration+h/7)+'s" fill="freeze">'}l+="</circle>";l+='<g><rect class="'+(q.multipleDataSets&&!s?"rect-of-"+m[0]+" ":"")+'SVG-tooltip-box"id="'+q.id+"-point"+n+'-tooltip-rect"rx="'+q.rx+'"x="'+(o-q.padding*2-q.tooltipWidth/2)+'"y="'+(e-q.yDist-q.padding*2)+'"height="'+(q.yDist+q.padding/2)+'"width="'+(50+q.tooltipWidth)+'"/>';l+='<text class="SVG-tooltip"id="'+q.id+"-point"+n+'-tooltip" x="'+(o-q.padding)+'" y="'+(e-q.yDist)+'">'+p+"</text></g>";return l};b.prototype.animateLines=function(){var d=this.obj;var g=a("path[id^="+d.id+"]");var f;for(var e=0,c=a("path[id^="+d.id+"]").length;e<c;++e){f=g[e].getTotalLength();g[e].style.transition=g[e].style.WebkitTransition="none";g[e].style.strokeDasharray=f+" "+f;g[e].style.strokeDashoffset=f;g[e].getBoundingClientRect();g[e].style.transition=g[e].style.WebkitTransition="stroke-dashoffset 2s ease-in-out";g[e].style.strokeDashoffset="0"}};b.prototype.init=function(o){var q=this.obj;q.width=q.Gwidth;q.height=q.Gheight;var s=this.openTags();if(!c){s.lines='<g class="lines">'}s.points='<g class="inset points">';var c=q.special==="area";if(c&&!q.multipleDataSets){s.path='<g class="area"><path id="'+q.id+'-0-path"d="'}var l=q.x.length;var n=q.y+1;var d=q.height-q.yDist;var e,m,g;if(!q.multipleDataSets){for(var h=0;h<l;++h){e=q.height-((q.points[h]+q.scale)*(q.yDist/q.scale));m=h*q.xDist+q.mainOffset;if(q.showPoints===true){s.points+=this.buildPoints([h])}q.xOfPoints.push(m);q.yOfPoints.push(e)}if(!c){for(var h=0,k=q.numPoints-1;h<k;++h){s.lines+='<path fill="none"id="'+q.id+'-0-path"d="';s.lines+="M"+q.xOfPoints[0]+","+(q.yOfPoints[0])+" ";for(var h=1;h<q.xOfPoints.length;++h){s.lines+="L"+q.xOfPoints[h]+","+q.yOfPoints[h]}s.lines+='"</path>'}}else{s.path+="M"+q.xOfPoints[0]+","+(d)+" ";s.path+="L"+q.xOfPoints[0]+","+q.yOfPoints[0]+" ";for(var h=1;h<q.xOfPoints.length;++h){s.path+="L"+q.xOfPoints[h]+","+q.yOfPoints[h]+" "}s.path+="L"+q.xOfPoints[q.xOfPoints.length-1]+","+(d)+' "></path>'}}else{for(var h=0,k=q.numPoints;h<k;++h){q.mxOfPoints.push([]);q.myOfPoints.push([])}var r=[];s.path='<g class="area">';for(var h=0,k=q.numPoints;h<k;++h){for(var p=0,f=q.points[h].length;p<f;++p){e=q.height-((q.points[h][p]+q.scale)*(q.yDist/q.scale));m=p*q.xDist+q.mainOffset;if(q.showPoints===true){s.points+=this.buildPoints([h,p])}q.mxOfPoints[h].push(m);q.myOfPoints[h].push(e)}if(!c){r.push('<path fill="none"id="'+q.id+"-"+h+'-path"class="line-of-'+h+'" d="');r[h]+="M"+q.mxOfPoints[h][0]+","+q.myOfPoints[h][0]+" ";for(var p=0,f=q.points[h].length;p<f;++p){r[h]+="L"+q.mxOfPoints[h][p]+","+q.myOfPoints[h][p]}r[h]+='"></path>'}else{for(var p=0,f=q.points[h].length-1;p<f;++p){g=p+1;s.lines+='<line id="'+q.id+"-"+h+'-line" class="line-of-'+h+'" x1="'+q.mxOfPoints[h][p]+'" x2="'+q.mxOfPoints[h][g]+'" y1="'+q.myOfPoints[h][p]+'" y2="'+q.myOfPoints[h][g]+'"></line>'}r.push('<path id="'+q.id+"-"+h+'-path"class="path-of-'+h+'" d="');r[h]+="M"+q.mxOfPoints[h][0]+","+(d)+" ";r[h]+="L"+q.mxOfPoints[h][0]+","+q.myOfPoints[h][0]+" ";for(var p=0,f=q.points[h].length;p<f;++p){r[h]+="L"+q.mxOfPoints[h][p]+","+q.myOfPoints[h][p]+" "}r[h]+="L"+q.mxOfPoints[h][q.mxOfPoints[h].length-1]+","+(d)+'"></path>'}}s.path+=r.join("")}this.finishGraph(l,n,s,o);if(!(q.multipleDataSets&&c)&&q.animations&&q.lineAnimation){this.animateLines()}};return b})(jQuery);var GraphBar=GraphBar||(function(c){var a={};var b=function(e){e=e||{};e.type="bar";Graph.call(this,e);if(this.obj.interactive){var d=this;c(document).on("mouseover","svg rect",function(){c("#"+c(this).attr("id")+"-tooltip").show();c("#"+c(this).attr("id")+"-tooltip-rect").show();c(this).css("opacity",1)});c(document).on("mouseleave","svg rect",function(){c("#"+c(this).attr("id")+"-tooltip").hide();c("#"+c(this).attr("id")+"-tooltip-rect").hide();c(this).css("opacity",d.obj.style['svg[id="'+d.obj.id+'"] .rect'].opacity||0.8)})}};b.prototype=Object.create(Graph.prototype);b.prototype.constructor=b;a.getAveragePoints=function(l){var g=[];var m;var f=0;for(var k=0,d=l[0].length;k<d;++k){m=0;for(var h=0,e=l.length;h<e;++h){m+=l[h][f]}g.push(m/e);++f}return g};b.prototype.init=function(l){var t=this.obj;t.width=t.Gwidth;t.height=t.Gheight;var d=t.x.length+1;var f=t.y+1;var s=this.openTags();s.rects='<g class="rects"transform="translate(0, 40) scale(1, -1)">';s.tooltips="<g>";var p,q,o,g;g=t.yDist-30;if(!t.multipleDataSets){for(var z=0,A=d-1;z<A;++z){p=(t.points[z]!==0)?((t.points[z]+t.scale)*(t.yDist/t.scale))-t.yDist:2;q=(z*t.xDist+t.mainOffset);s.rects+='<rect class="rect bar"id="'+t.id+"-point-"+z+'" x="'+q+'" y="'+(-t.height+t.yDist+t.mainOffset+t.padding/2)+'" width="'+t.xDist+'"height="'+p+'"'+(t.animations===true?'><animate attributeName="height" from="0" to="'+p+'" dur="'+t.animationDuration+'s" fill="freeze"></animate></rect>':"/>")}for(var z=0,A=d-1;z<A;++z){p=(t.points[z]!==0)?((t.points[z]+t.scale)*(t.yDist/t.scale))-t.yDist:2;q=(z*t.xDist+t.mainOffset);o=(t.height-t.padding-t.yOffset-(p));s.tooltips+='<rect class="SVG-tooltip-box"id="'+t.id+"-point-"+z+'-tooltip-rect"rx="'+t.rx+'"x="'+(q+t.padding/2-t.tooltipWidth/2)+'"y="'+(o-g-t.yDist-t.padding*2)+'"height="'+(t.yDist+t.padding/2)+'"width="'+(t.xDist-t.padding+t.tooltipWidth)+'"/>';s.tooltips+='<text class="SVG-tooltip"id="'+t.id+"-point-"+z+'-tooltip" x="'+(q+(t.xDist)/2-t.padding)+'" y="'+(o-g-t.yDist/2-t.padding)+'">'+t.points[z]+"</text>"}}else{var k=[];for(var z=0,A=t.points[0].length;z<A;++z){k.push(0)}t.points.push(k);var C=t.points.length;var w=t.points[0].length;var m=C-1;var B=t.xDist/C;var e;var h;var r=function(F){var y=0;for(var E=0;E<w;++E){for(var D=0,x=C;D<x;++D){if(D!==m){e=D+y+(E*(m));h=D+y+E*2;p=(t.points[D][y]!==0)?((t.points[D][y]+t.scale)*(t.yDist/t.scale))-t.yDist:2;q=((e)*(B)+t.mainOffset);o=(t.height-t.padding-t.yOffset-(p));if(F===0){s.rects+='<rect class="rect-of-'+D+' bar"id="'+t.id+"-point-"+(h)+'" x="'+q+'" y="'+(-t.height+t.yDist+t.mainOffset+t.padding/2)+'" width="'+(B)+'"height="'+p+'"'+(t.animations&&t.barAnimation?'><animate attributeName="height" from="0" to="'+p+'" dur="'+t.animationDuration+'s" fill="freeze"></animate></rect>':"/>")}else{if(F===1){s.tooltips+='<g><rect class="rect-of-'+D+' SVG-tooltip-box "id="'+t.id+"-point-"+(h)+'-tooltip-rect"rx="'+t.rx+'"x="'+(q-t.tooltipWidth/2)+'"y="'+(o-g-t.yDist-t.padding*2)+'"height="'+(t.yDist+t.padding/2+10)+'"width="'+(B+t.tooltipWidth)+'"/>';s.tooltips+='<text class="SVG-tooltip"id="'+t.id+"-point-"+(h)+'-tooltip" x="'+(q+(B)/2-t.padding)+'" y="'+(o-g-t.yDist/2-t.padding)+'">'+t.points[D][y]+"</text></g>"}}}}if(t.xOfPoints.length<w){t.xOfPoints.push(q)}++y}};r(0);r(1);t.points.pop();if(t.special==="combo"){var v=a.getAveragePoints(t.points);var n=new GraphLinear(t);s.lines='<g class="lines">';s.points='<g class="inset points">';for(var z=0,A=d-1;z<A;++z){p=t.height-((v[z]+t.scale)*(t.yDist/t.scale));q=z*t.xDist+t.mainOffset;if(t.showPoints===true){s.points+=n.buildPoints([z],v)}t.yOfPoints.push(p)}var u;for(var z=0,A=v.length-1;z<A;++z){s.lines+='<path class="averageLine"fill="none"id="'+t.id+'-0-path"d="';s.lines+="M"+t.xOfPoints[0]+","+(t.yOfPoints[0])+" ";for(var z=1;z<t.xOfPoints.length;++z){s.lines+="L"+t.xOfPoints[z]+","+t.yOfPoints[z]}s.lines+='"</path>'}}}this.finishGraph(d,f,s,l);if(t.special==="combo"&&t.multipleDataSets&&t.animations){n.animateLines()}};return b})(jQuery);var GraphTable=GraphTable||(function(){var a=function(b){b=b||{};b.type="table";Graph.call(this,b)};a.prototype=Object.create(Graph.prototype);a.prototype.constructor=a;a.prototype.init=function(g){var k=this.obj;var b="<th>"+(k.dataNames?k.dataNames[0]:"Data")+"</th>";var l="<tr>";if(!k.multipleDataSets){for(var e=0,f=k.xLength;e<f;++e){l+="<td>"+e+"</td><td>"+k.x[e]+"</td><td>"+k.points[e]+"</td></tr><tr>"}}else{var d;for(var e=0,f=k.xLength;e<f;++e){if(e<k.numPoints-1){b+="<th>"+k.dataNames[e+1]+"</th>"}d="";for(var j=0,c=k.numPoints;j<c;++j){d+="<td>"+k.points[j][e]+"</td>"}l+="<td>"+e+"</td><td>"+k.x[e]+"</td>"+d+"</tr><tr>"}}var h='<table class="SVG-table"id="'+k.id+'" border="1"cellpadding="5"><tr><th>#</th><th>'+(k.xName||"X")+"</th>"+b+"</tr>";h+=l+"</tr>";this.handleAppend(g,h);this.applyStyling()};return a})();var GraphPie=GraphPie||(function(b){var a={};var c=function(e){e=e||{};e.type="pie";Graph.call(this,e);if(this.obj.interactive){var d=this.obj;b(document).on("mouseover",'svg path[id^="'+d.id+'"].slice',function(){b("#"+d.id+" .SVG-tooltip").hide();b("#"+d.id+" .SVG-tooltip-title").hide();b("#"+b(this).attr("id")+"-tooltip").show();b("#"+b(this).attr("id")+"-tooltip-title").show();b('svg path[id^="'+d.id+'"].slice').css("opacity",0.8);b('svg path[id^="'+d.id+'"].slice').css("stroke",self.borderColor||"grey");b(this).css("opacity",1);b(this).css("stroke","#000")});b(document).on("mouseleave",'svg path[id^="'+d.id+'"].slice',function(){})}};c.prototype=Object.create(Graph.prototype);c.prototype.constructor=c;a.lineTo=function(d,e){return"L"+d+","+e};a.percent=function(d){return Math.round(d*100)+"%"};c.prototype.init=function(h){if(!this.obj.multipleDataSets){var n=this.obj;var m=this.openTags();m.pie='<g class="paths">';var p=0;var v=n.pieSize||200;var g=v-20;var w="M"+v+","+v;var l="A"+g+","+g;var d="0 0,1";var j;var e;var k=20;var u=a.lineTo(k,v);var x=0;var s;var f;var r;var t;n.dataNames=n.x.slice(0);var y=v-v/4;for(var o=0,q=n.numPoints;o<q;++o){p+=n.points[o]}for(var o=0,q=n.numPoints;o<q;++o){if(o!==0){u=a.lineTo(j,e)}x+=n.points[o]/p;s=x*2*Math.PI;f=Math.sin(s);r=Math.cos(s);j=v-(g*r);e=v-(g*f);if(o===0){t=w+u+l+" "+d+j+","+e}m.pie+='<path title="'+n.points[o]+" ("+a.percent(n.points[o]/p)+')"id="'+n.id+"-point-"+o+'"class="path-of-'+o+' slice" d="'+w+u+l+" "+d+j+","+e+'Z">';m.pie+="</path>"}m.tooltips+='<g><circle class="pie-tooltip"id="'+n.id+"-point-"+(o)+'-tooltip-rect"style="fill:'+(n.design.pieTooltipFill||"#fff")+";opacity:"+(n.design.pieTooltipOpacity||0.5)+'"r="'+(n.design.pieTooltipRadius||60)+'"cx="'+v+'"cy="'+v+'"height="'+(n.design.donutCenterRadius||v/2)+'"width="'+(n.design.donutCenterRadius||v/2)+'"/>';for(var o=0;o<q;++o){m.tooltips+='<text class="SVG-tooltip"id="'+n.id+"-point-"+(o)+'-tooltip" x="'+(n.design.pieTooltipTextX||y+10)+'" y="'+(y+v/4+k)+'">'+n.points[o]+" ("+a.percent(n.points[o]/p)+")</text>";m.tooltips+='<text class="SVG-tooltip-title"style="display:none;font-weight:bold;font-size:25px;"id="'+n.id+"-point-"+(o)+'-tooltip-title" x="'+(n.design.pieTooltipTitleX||y+20)+'" y="'+(y+v/8)+'">'+n.dataNames[o]+"</text></g>"}if(n.special==="donut"){m.middle='<g><circle class="middle"cx="'+v+'" cy="'+v+'" r="'+(n.design.donutCenterRadius||v/2)+'"/>'}if(n.dataNames){for(var o=0,q=n.dataNames.length;o<q;++o){n.dataNames[o]+=" : "+n.points[o]+" ("+a.percent(n.points[o]/p)+")"}}this.finishGraph(0,0,m,h);b('svg path[id^="'+n.id+'"].slice').eq(2).mouseover()}};return c})(jQuery);(function(a){a.fn.graphify=a.fn.graphify||function(m){m=m||{};var c=a.extend({height:this.css("height"),width:this.css("width"),start:"linear",pos:"top",obj:{}},m);var h;var l=c.obj;var f=l.id;var b=new Graph(0);var k;var j;var g={};if(a.isArray(l.points[0])){h=["combo","area","bar","linear","table"]}else{h=["linear","area","bar","pie","donut","table"]}var d=this.attr("id")+"-wrapper";this.append('<div id="'+d+'"><div id="'+d+'-g-area"></div></div>');l.attachTo=d+"-g-area";var i=(function(){var p="";for(var o=0,n=h.length;o<n;++o){p+='<button id="'+f+"-graphify-button-"+h[o]+'">'+h[o].charAt(0).toUpperCase()+h[o].substring(1)+"</button>&emsp;"}return p})();if(c.pos==="top"){a("#"+d).prepend(i+"<br/><br />")}var e=c.start;if(e!=="area"&&e!=="combo"&&e!=="donut"){k=new window[b.genToFunc(e)](l)}else{l.special=e;k=new window[b.genToFunc(e)](l)}k.init();if(c.pos==="bottom"){this.append(i)}a(document).on("click",'button[id^="'+f+'-graphify-button-"]',function(){var n=a(this).attr("id").split("-")[3];if(g.hasOwnProperty(n)&&!l.animations){a("#"+d+"-g-area").html(g[n])}else{if(n!=="area"&&n!=="combo"&&n!=="donut"){l.special=false;k.to(n,l)}else{l.special=n;switch(n){case"area":k.to("linear",l);break;case"combo":k.to("bar",l);break;case"donut":k.to("pie",l);break}}j=new XMLSerializer();g[n]=j.serializeToString(document.getElementById(l.id))}l.type=n})}})(jQuery);